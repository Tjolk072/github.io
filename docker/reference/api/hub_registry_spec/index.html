<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Docker Hub and the Registry v1 </title>
     <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/dist/assets/css/bootstrap-custom.css" />
<link rel="stylesheet" href="/dist/assets/css/app.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.6/animate.min.css">
    <link rel="stylesheet" href="/css/custom.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script href="/dist/assets/js/modernizr.js"></script> 
</head>
<body>
  <div class="off-canvas-wrap" data-offcanvas>
    <div class="inner-wrap">

      <a class="left-off-canvas-toggle" href="#" >
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve">
          <path fill="#3597D4" d="M30.583,9.328c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,7.966,30.583,8.576,30.583,9.328L30.583,9.328z"/>
          <path fill="#3597D4" d="M30.583,17.09c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,15.728,30.583,16.338,30.583,17.09L30.583,17.09z"/>
          <path fill="#3597D4" d="M30.583,24.387c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,23.025,30.583,23.635,30.583,24.387L30.583,24.387z"/>
        </svg>
      </a>
      <a class="button secondary small get-started-cta">Get Started</a>
      <header class="main-header">
        <div class="row">
          <div class="large-3 columns">
            <a href="/"><img class="logo" src="/dist/assets/images/logo.png"></a>
          </div>
          <div class="large-9 columns">
            <ul class="nav-global">
              <li><a href="https://www.docker.com/support">Support</a></li>
              <li><a href="https://training.docker.com/">Training</a></li>
              <li><a href="/">Docs</a></li>
              <li><a href="http://blog.docker.com/">Blog</a></li>
              <li><a href="https://hub.docker.com/account/signup/">Docker Hub</a></li>
              <li><a class="button" href="/mac/started/">Get Started</a></li>
            </ul>
            <ul class="nav-main">
              <li><a href="https://www.docker.com/products">Products</a>
                <ul>
                  <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                  <li><a href="https://www.docker.com/whatisdocker">What is Docker?</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/customers">Customers</a></li>
              <li><a href="https://www.docker.com/community">Community</a>
                <ul>
                  <li><a href="https://www.docker.com/community/meetups">Meetups</a></li>
                  <li><a href="https://www.docker.com/community/events">Events</a></li>
                  <li><a href="https://forums.docker.com">Forums</a></li>
                  <li><a href="http://www.scoop.it/t/docker-by-docker">Community News</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/partners">Partners</a>
                <ul>
                  <li><a href="https://www.docker.com/partners/partner-programs">Partner Programs</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/company">Company</a>
                <ul>
                  <li><a href="https://www.docker.com/news-and-press">News &amp; Press</a></li>
                  <li><a href="https://www.docker.com/work-docker">Work at Docker</a></li>
                  <li><a href="https://www.docker.com/company/management">Management</a></li>
                  <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/open-source">Open Source</a>
                <ul>
                  <li><a href="https://www.docker.com/contribute">Contribute</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </header>

      
      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li class="has-submenu"><a href="#">Products</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Pricing</a></li>
              <li><a href="#">What Is Docker</a></li>
              <li><a href="#">Products</a></li>
              <li><a href="#">Docker Engine</a></li>
              <li><a href="#">Docker Hub</a></li>
              <li><a href="#">Docker Registry</a></li>
              <li><a href="#">Docker Machine</a></li>
              <li><a href="#">Docker Swarm</a></li>
              <li><a href="#">Docker Compose</a></li>
              <li><a href="#">Kitematic</a></li>
            </ul>
          </li>
          <li><a href="#">Customers</a></li>
          <li class="has-submenu"><a href="#">Community</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Community</a></li>
              <li><a href="#">Meetups</a></li>
              <li><a href="https://www.docker.com/community/events">Events</a></li>
              <li><a href="#">Forum</a></li>
              <li><a href="#">Scoop.it</a></li>
            </ul>
          </li>
          <li class="has-submenu"><a href="#">Partners</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Partners</a></li>
              <li><a href="https://www.docker.com/partners/partner-programs">Partners Programs</a></li>
            </ul>
          </li>
          <li><a href="#">Company</a></li>
          <li class="has-submenu"><a href="#">Open Source</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Open Source</a></li>
              <li><a href="#">Contribute</a></li>
              <li><a href="#">Governance</a></li>
            </ul>
          </li>
        </ul>
        <ul class="nav-global-off-canvas">
          <li><a href="#">Support</a></li>
          <li><a href="#">Training</a></li>
          <li><a href="#">Docs</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Sign in</a></li>
          <li><a href="#">Sign up</a></li>
        </ul>
      </aside>
      
      <a class="exit-off-canvas"></a>
<div id="docs" class="row">
    <div class="large-3 columns">
        <section id="multiple" data-accordion-group>
  
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Install</button>
          <div data-content>
            
              
                <article data-accordion>
                  <button data-control> Docker Engine</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/installation/mac/" class=""> Installation on Mac OS X</a>
                      
                      
                    
                      
                        <a data-link href="/docker/installation/windows/" class=""> Installation on Windows</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Linux</button>
                          <div data-content>
                            
                                <a data-link href="/docker/installation/archlinux/" class=""> Installation on Arch Linux</a>
                            
                                <a data-link href="/docker/installation/cruxlinux/" class=""> Installation on CRUX Linux</a>
                            
                                <a data-link href="/docker/installation/centos/" class=""> Installation on CentOS</a>
                            
                                <a data-link href="/docker/installation/debian/" class=""> Installation on Debian</a>
                            
                                <a data-link href="/docker/installation/fedora/" class=""> Installation on Fedora</a>
                            
                                <a data-link href="/docker/installation/frugalware/" class=""> Installation on FrugalWare</a>
                            
                                <a data-link href="/docker/installation/gentoolinux/" class=""> Installation on Gentoo</a>
                            
                                <a data-link href="/docker/installation/oracle/" class=""> Installation on Oracle Linux</a>
                            
                                <a data-link href="/docker/installation/rhel/" class=""> Installation on Red Hat Enterprise Linux</a>
                            
                                <a data-link href="/docker/installation/ubuntulinux/" class=""> Installation on Ubuntu </a>
                            
                                <a data-link href="/docker/installation/SUSE/" class=""> Installation on openSUSE and SUSE Linux Enterprise</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Cloud</button>
                          <div data-content>
                            
                                <a data-link href="/docker/installation/amazon/" class=""> Amazon EC2 Installation</a>
                            
                                <a data-link href="/docker/installation/joyent/" class=""> Install on Joyent Public Cloud</a>
                            
                                <a data-link href="/docker/installation/google/" class=""> Installation on Google Cloud Platform</a>
                            
                                <a data-link href="/docker/installation/softlayer/" class=""> Installation on IBM SoftLayer </a>
                            
                                <a data-link href="/docker/installation/azure/" class=""> Installation on Microsoft Azure platform</a>
                            
                                <a data-link href="/docker/installation/rackspace/" class=""> Installation on Rackspace Cloud</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="/docker/installation/binaries/" class=""> Installation from binaries</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="/kitematic/" class=""> Kitematic</a>
              
            
              
                <a data-link href="/machine/install-machine/" class=""> Docker Machine</a>
              
            
              
                <a data-link href="/compose/install/" class=""> Docker Compose</a>
              
            
              
                <a data-link href="/swarm/install-w-machine/" class=""> Docker Swarm</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Fundamentals</button>
          <div data-content>
            
              
                <a data-link href="/docker/userguide/" class=""> The Docker user guide</a>
              
            
              
                <article data-accordion>
                  <button data-control> Work with Docker Images</button>
                  <div data-content>
                    
                      
                        <a data-link href="/articles/dockerfile_best-practices/" class=""> Best practices for writing Dockerfiles</a>
                      
                      
                    
                      
                        <a data-link href="/articles/baseimages/" class=""> Create a base image</a>
                      
                      
                    
                      
                        <a data-link href="/docker/userguide/dockerimages/" class=""> Get started with images</a>
                      
                      
                    
                      
                        <a data-link href="/docker/userguide/dockerrepos/" class=""> Get started with Docker Hub</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Work with Docker Containers</button>
                  <div data-content>
                    
                      
                        <a data-link href="/articles/basics/" class=""> Get started with containers</a>
                      
                      
                    
                      
                        <a data-link href="/docker/userguide/usingdocker/" class=""> Working with containers</a>
                      
                      
                    
                      
                        <a data-link href="/docker/userguide/dockervolumes/" class=""> Managing data in containers</a>
                      
                      
                    
                      
                        <a data-link href="/docker/userguide/dockerlinks/" class=""> Linking containers together</a>
                      
                      
                    
                      
                        <a data-link href="/articles/host_integration/" class=""> Automatically start containers</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker on Windows &amp; OSX</button>
                  <div data-content>
                    
                      
                        <a data-link href="/articles/dsc/" class=""> PowerShell DSC Usage</a>
                      
                      
                    
                      
                        <a data-link href="/articles/b2d_volume_resize/" class=""> Resizing a Boot2Docker volume	</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Use the Kitematic GUI</button>
                  <div data-content>
                    
                      
                        <a data-link href="/kitematic/userguide/" class=""> Kitematic User Guide: Intro &amp; Overview</a>
                      
                      
                    
                      
                        <a data-link href="/kitematic/nginx-web-server/" class=""> Set up an Nginx web server</a>
                      
                      
                    
                      
                        <a data-link href="/kitematic/minecraft-server/" class=""> Set up a Minecraft Server</a>
                      
                      
                    
                      
                        <a data-link href="/kitematic/rethinkdb-dev-database/" class=""> Creating a Local RethinkDB Database for Development</a>
                      
                      
                    
                      
                        <a data-link href="/kitematic/faq/" class=""> Frequently Asked Questions</a>
                      
                      
                    
                      
                        <a data-link href="/kitematic/known-issues/" class=""> Known Issues</a>
                      
                      
                    
                  </div>
                </article>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Use Docker</button>
          <div data-content>
            
              
                <a data-link href="/docker/misc/" class=""> About Docker</a>
              
            
              
                <a data-link href="/docker/userguide/labels-custom-metadata/" class=""> Apply custom metadata</a>
              
            
              
                <a data-link href="/docker/introduction/understanding-docker/" class=""> Understand the architecture</a>
              
            
              
                <article data-accordion>
                  <button data-control> Provision &amp; set up Docker hosts</button>
                  <div data-content>
                    
                      
                        <a data-link href="/machine/" class=""> Overview of Docker Machine</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Create multi-container applications</button>
                  <div data-content>
                    
                      
                        <a data-link href="/compose/" class=""> Overview of Docker Compose</a>
                      
                      
                    
                      
                        <a data-link href="/compose/production/" class=""> Using Compose in production</a>
                      
                      
                    
                      
                        <a data-link href="/compose/extends/" class=""> Extending services in Compose</a>
                      
                      
                    
                      
                        <a data-link href="/compose/completion/" class=""> Command Completion</a>
                      
                      
                    
                      
                        <a data-link href="/compose/django/" class=""> Quickstart Guide: Compose and Django</a>
                      
                      
                    
                      
                        <a data-link href="/compose/rails/" class=""> Quickstart Guide: Compose and Rails</a>
                      
                      
                    
                      
                        <a data-link href="/compose/wordpress/" class=""> Quickstart Guide: Compose and Wordpress</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Cluster Docker containers</button>
                  <div data-content>
                    
                      
                        <a data-link href="/swarm/" class=""> Docker Swarm</a>
                      
                      
                    
                      
                        <a data-link href="/swarm/install-manual/" class=""> Create a swarm for development</a>
                      
                      
                    
                      
                        <a data-link href="/swarm/discovery/" class=""> Docker Swarm discovery</a>
                      
                      
                    
                      
                        <a data-link href="/swarm/scheduler/filter/" class=""> Docker Swarm filters</a>
                      
                      
                    
                      
                        <a data-link href="/swarm/scheduler/strategy/" class=""> Docker Swarm strategies</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Adminstrate Docker</button>
                  <div data-content>
                    
                      
                        <a data-link href="/articles/networking/" class=""> Network configuration</a>
                      
                      
                    
                      
                        <a data-link href="/articles/security/" class=""> Docker security</a>
                      
                      
                    
                      
                        <a data-link href="/articles/configuring/" class=""> Configuring and running Docker</a>
                      
                      
                    
                      
                        <a data-link href="/articles/runmetrics/" class=""> Runtime metrics</a>
                      
                      
                    
                      
                        <a data-link href="/articles/https/" class=""> Protect the Docker daemon socket</a>
                      
                      
                    
                      
                        <a data-link href="/articles/ambassador_pattern_linking/" class=""> Link via an ambassador container</a>
                      
                      
                    
                      
                        <a data-link href="/articles/systemd/" class=""> Control and configure Docker with systemd</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Applications and Services</button>
                          <div data-content>
                            
                                <a data-link href="/docker/examples/running_riak_service/" class=""> Dockerizing a Riak service</a>
                            
                                <a data-link href="/docker/examples/running_ssh_service/" class=""> Dockerizing an SSH service</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Integrate with Third-party Tools</button>
                          <div data-content>
                            
                                <a data-link href="/articles/cfengine_process_management/" class=""> Process management with CFEngine</a>
                            
                                <a data-link href="/articles/chef/" class=""> Using Chef</a>
                            
                                <a data-link href="/articles/puppet/" class=""> Using Puppet</a>
                            
                                <a data-link href="/articles/using_supervisord/" class=""> Using Supervisor with Docker</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Applied Docker</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/examples/mongodb/" class=""> Dockerizing MongoDB</a>
                      
                      
                    
                      
                        <a data-link href="/docker/examples/postgresql_service/" class=""> Dockerizing PostgreSQL</a>
                      
                      
                    
                      
                        <a data-link href="/docker/examples/couchdb_data_volumes/" class=""> Dockerizing a CouchDB service</a>
                      
                      
                    
                      
                        <a data-link href="/docker/examples/nodejs_web_app/" class=""> Dockerizing a Node.js web app</a>
                      
                      
                    
                      
                        <a data-link href="/docker/examples/running_redis_service/" class=""> Dockerizing a Redis service</a>
                      
                      
                    
                      
                        <a data-link href="/docker/examples/apt-cacher-ng/" class=""> Dockerizing an apt-cacher-ng service</a>
                      
                      
                    
                      
                        <a data-link href="/docker/userguide/dockerizing/" class=""> Dockerizing applications: A &#39;Hello world&#39;</a>
                      
                      
                    
                  </div>
                </article>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Manage image repositories</button>
          <div data-content>
            
              
                <article data-accordion>
                  <button data-control> The Public Hub</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/docker-hub/userguide/" class=""> Docker Hub user guide</a>
                      
                      
                    
                      
                        <a data-link href="/docker/docker-hub/" class=""> The Docker Hub</a>
                      
                      
                    
                      
                        <a data-link href="/docker/docker-hub/accounts/" class=""> Accounts on Docker Hub</a>
                      
                      
                    
                      
                        <a data-link href="/docker/userguide/dockerhub/" class=""> Getting started with Docker Hub</a>
                      
                      
                    
                      
                        <a data-link href="/docker/docker-hub/repos/" class=""> Your Repositories on Docker Hub</a>
                      
                      
                    
                      
                        <a data-link href="/docker/docker-hub/builds/" class=""> Automated Builds on Docker Hub</a>
                      
                      
                    
                      
                        <a data-link href="/docker/docker-hub/official_repos/" class=""> Official Repositories on Docker Hub</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Trusted Registry</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker-trusted-registry/" class=""> Overview</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/quick-start/" class=""> Quick-start: Basic Workflow</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/userguide/" class=""> User guide</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/adminguide/" class=""> Admin guide</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/install/" class=""> Installation</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/configuration/" class=""> Configuration options</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/support/" class=""> Support</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/release-notes/" class=""> Release notes</a>
                      
                      
                    
                      
                        <a data-link href="/docker-trusted-registry/prior-release-notes/" class=""> Prior release notes archive</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Registry</button>
                  <div data-content>
                    
                      
                        <a data-link href="/registry/" class=""> Docker Registry 2.0</a>
                      
                      
                    
                      
                        <a data-link href="/registry/introduction/" class=""> Understanding the Registry</a>
                      
                      
                    
                      
                        <a data-link href="/registry/deploying/" class=""> Deploying a registry server</a>
                      
                      
                    
                      
                        <a data-link href="/registry/configuration/" class=""> Configure a Registry</a>
                      
                      
                    
                      
                        <a data-link href="/registry/notifications/" class=""> Work with Notifications</a>
                      
                      
                    
                      
                        <a data-link href="/registry/authentication/" class=""> Authentication for the Registry</a>
                      
                      
                    
                      
                        <a data-link href="/registry/help/" class=""> Getting help</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="/articles/certificates/" class=""> Using certificates for repository client verification</a>
              
            
              
                <a data-link href="/articles/registry_mirror/" class=""> Run a local registry mirror</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Command and API references</button>
          <div data-content>
            
              
                <article data-accordion>
                  <button data-control> Command line reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/reference/commandline/cli/" class=""> Using the command line</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/daemon/" class=""> daemon</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/attach/" class=""> attach</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/build/" class=""> build</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/commit/" class=""> commit</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/cp/" class=""> cp</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/create/" class=""> create</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/diff/" class=""> diff</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/events/" class=""> events</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/exec/" class=""> exec</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/export/" class=""> export</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/history/" class=""> history</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/images/" class=""> images</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/import/" class=""> import</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/info/" class=""> info</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/inspect/" class=""> inspect</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/kill/" class=""> kill</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/load/" class=""> load</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/login/" class=""> login</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/logout/" class=""> logout</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/logs/" class=""> logs</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/pause/" class=""> pause</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/port/" class=""> port</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/ps/" class=""> ps</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/pull/" class=""> pull</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/push/" class=""> push</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/rename/" class=""> rename</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/restart/" class=""> restart</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/rm/" class=""> rm</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/rmi/" class=""> rmi</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/run/" class=""> run</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/save/" class=""> save</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/search/" class=""> search</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/start/" class=""> start</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/stats/" class=""> stats</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/stop/" class=""> stop</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/tag/" class=""> tag</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/top/" class=""> top</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/unpause/" class=""> unpause</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/version/" class=""> version</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/commandline/wait/" class=""> wait</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="/docker/reference/run/" class=""> Docker run reference</a>
              
            
              
                <a data-link href="/docker/reference/builder/" class=""> Dockerfile reference</a>
              
            
              
                <a data-link href="/docker/reference/api/remote_api_client_libraries/" class=""> Remote API client libraries</a>
              
            
              
                <a data-link href="/docker/reference/api/docker_io_accounts_api/" class=""> docker.io accounts API</a>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Remote API</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/reference/api/docker-io_api/" class=""> Docker Hub API</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/api/docker_remote_api/" class=""> Remote API</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/api/docker_remote_api_v1.19/" class=""> Remote API v1.19</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/api/docker_remote_api_v1.18/" class=""> Remote API v1.18</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/api/docker_remote_api_v1.17/" class=""> Remote API v1.17</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/api/docker_remote_api_v1.16/" class=""> Remote API v1.16</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/api/docker_remote_api_v1.15/" class=""> Remote API v1.15</a>
                      
                      
                    
                      
                        <a data-link href="/docker/reference/api/docker_remote_api_v1.14/" class=""> Remote API v1.14</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Hub</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/reference/api/hub_registry_spec/" class=" active"> The Docker Hub and the Registry v1</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Compose Reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="/compose/cli/" class=""> Compose CLI reference</a>
                      
                      
                    
                      
                        <a data-link href="/compose/yml/" class=""> docker-compose.yml reference</a>
                      
                      
                    
                      
                        <a data-link href="/compose/env/" class=""> Compose environment variables reference</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="" class=""> Docker Machine Reference</a>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Swarm Reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="/swarm/api/swarm-api/" class=""> Docker Swarm API</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Registry Reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="/registry/spec/api/" class=""> Docker Registry HTTP API V2</a>
                      
                      
                    
                      
                        <a data-link href="/registry/storagedrivers/" class=""> Docker Registry Storage Driver</a>
                      
                      
                    
                      
                        <a data-link href="/registry/spec/auth/token/" class=""> Docker Registry v2 Authentication</a>
                      
                      
                    
                  </div>
                </article>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Open Source at Docker</button>
          <div data-content>
            
              
                <a data-link href="/opensource/how-to-contribute/" class=""> Overview of contributing</a>
              
            
              
                <a data-link href="/docker/project/get-help/" class=""> Where to chat or get help</a>
              
            
              
                <article data-accordion>
                  <button data-control> Configure Development Environment</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/project/who-written-for/" class=""> README first</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/software-required/" class=""> Get the required software</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/software-req-win/" class=""> Set up for development on Windows</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/set-up-git/" class=""> Configure Git for contributing</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/set-up-dev-env/" class=""> Work with a development container</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/test-and-docs/" class=""> Run tests and test documentation</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Contribution Workflow</button>
                  <div data-content>
                    
                      
                        <a data-link href="/docker/project/make-a-contribution/" class=""> Understand how to contribute</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/find-an-issue/" class=""> Find and claim an issue</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/work-issue/" class=""> Work on your issue</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/create-pr/" class=""> Create a pull request (PR)</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/review-pr/" class=""> Participate in the PR review</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/advanced-contributing/" class=""> Advanced contributing</a>
                      
                      
                    
                      
                        <a data-link href="/docker/project/coding-style/" class=""> Coding style checklist</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="/opensource/code/" class=""> Contribute code overview</a>
              
            
              
                <a data-link href="/opensource/community/" class=""> Support the community</a>
              
            
              
                <a data-link href="/opensource/issues/" class=""> Organize our issues</a>
              
            
              
                <a data-link href="/opensource/meetups/" class=""> Organize a Docker Meetup</a>
              
            
              
                <a data-link href="/opensource/test/" class=""> Testing contributions</a>
              
            
              
                <article data-accordion>
                  <button data-control> Governance</button>
                  <div data-content>
                    
                      
                        <a data-link href="/opensource/governance/dgab-info/" class=""> Docker Governance Advisory Board</a>
                      
                      
                    
                      
                        <a data-link href="/opensource/governance/board-profiles/" class=""> Board member profiles</a>
                      
                      
                    
                      
                        <a data-link href="/opensource/governance/conduct-code/" class=""> Code of conduct</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="/docker/project/doc-style/" class=""> Style guide for Docker documentation</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> About</button>
          <div data-content>
            
              
                <a data-link href="/release-notes/" class=""> Docker Release Notes</a>
              
            
              
                <a data-link href="/swarm/release-notes/" class=""> Docker Swarm Release Notes</a>
              
            
              
                <a data-link href="/docker/misc/faq/" class=""> FAQ</a>
              
            
              
                <a data-link href="/docker/reference/glossary/" class=""> Docker Glossary</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button style="visibility: hidden" data-control> Get older docs</button>
          <div data-content>
            
              
                <a data-link href="https://docs.docker.com/v1.6/" class=""> Version 1.6</a>
              
            
              
                <a data-link href="https://docs.docker.com/v1.5/" class=""> Version 1.5</a>
              
            
              
                <a data-link href="https://docs.docker.com/v1.4/" class=""> Version 1.4</a>
              
            
          </div>
        </article>
       
    </section>
  
</section>

<script>
$(document).ready(function () {
  var $activeLink = $('#multiple [data-link].active');
  var $accordions = $activeLink.parents('article[data-accordion]');
  $($accordions.get().reverse()).each(function (index, accordion) {
    var $accordion = $(accordion);
    var $content = $accordion.find('[data-content]');
    $accordion.addClass('open');
    $content.css({'max-height': '100%'});
  });
});
</script>
    </div>
    <div class="large-6 columns">
      <section id="main">
        <article id="content">
          

<h1 id="the-docker-hub-and-the-registry-v1">The Docker Hub and the Registry v1</h1>

<h2 id="the-three-roles">The three roles</h2>

<p>There are three major components playing a role in the Docker ecosystem.</p>

<h3 id="docker-hub">Docker Hub</h3>

<p>The Docker Hub is responsible for centralizing information about:</p>

<ul>
<li>User accounts</li>
<li>Checksums of the images</li>
<li>Public namespaces</li>
</ul>

<p>The Docker Hub has different components:</p>

<ul>
<li>Web UI</li>
<li>Meta-data store (comments, stars, list public repositories)</li>
<li>Authentication service</li>
<li>Tokenization</li>
</ul>

<p>The Docker Hub is authoritative for that information.</p>

<p>There is only one instance of the Docker Hub, run and
managed by Docker Inc.</p>

<h3 id="docker-registry-1-0">Docker Registry 1.0</h3>

<p>The 1.0 registry has the following characteristics:</p>

<ul>
<li>It stores the images and the graph for a set of repositories</li>
<li>It does not have user accounts data</li>
<li>It has no notion of user accounts or authorization</li>
<li>It delegates authentication and authorization to the Docker Hub Auth
service using tokens</li>
<li>It supports different storage backends (S3, cloud files, local FS)</li>
<li>It doesn&rsquo;t have a local database</li>
<li><a href="https://github.com/docker/docker-registry">Source Code</a></li>
</ul>

<p>We expect that there will be multiple registries out there. To help you
grasp the context, here are some examples of registries:</p>

<ul>
<li><strong>sponsor registry</strong>: such a registry is provided by a third-party
hosting infrastructure as a convenience for their customers and the
Docker community as a whole. Its costs are supported by the third
party, but the management and operation of the registry are
supported by Docker, Inc. It features read/write access, and delegates
authentication and authorization to the Docker Hub.</li>
<li><strong>mirror registry</strong>: such a registry is provided by a third-party
hosting infrastructure but is targeted at their customers only. Some
mechanism (unspecified to date) ensures that public images are
pulled from a sponsor registry to the mirror registry, to make sure
that the customers of the third-party provider can <code>docker pull</code>
those images locally.</li>
<li><strong>vendor registry</strong>: such a registry is provided by a software
vendor who wants to distribute docker images. It would be operated
and managed by the vendor. Only users authorized by the vendor would
be able to get write access. Some images would be public (accessible
for anyone), others private (accessible only for authorized users).
Authentication and authorization would be delegated to the Docker Hub.
The goal of vendor registries is to let someone do <code>docker pull
basho/riak1.3</code> and automatically push from the vendor registry
(instead of a sponsor registry); i.e., vendors get all the convenience of a
sponsor registry, while retaining control on the asset distribution.</li>
<li><strong>private registry</strong>: such a registry is located behind a firewall,
or protected by an additional security layer (HTTP authorization,
SSL client-side certificates, IP address authorization&hellip;). The
registry is operated by a private entity, outside of Docker&rsquo;s
control. It can optionally delegate additional authorization to the
Docker Hub, but it is not mandatory.</li>
</ul>

<blockquote>
<p><strong>Note:</strong> The latter implies that while HTTP is the protocol
of choice for a registry, multiple schemes are possible (and
in some cases, trivial):</p>

<ul>
<li>HTTP with GET (and PUT for read-write registries);</li>
<li>local mount point;</li>
<li>remote docker addressed through SSH.</li>
</ul>
</blockquote>

<p>The latter would only require two new commands in Docker, e.g.,
<code>registryget</code> and <code>registryput</code>,
wrapping access to the local filesystem (and optionally doing
consistency checks). Authentication and authorization are then delegated
to SSH (e.g., with public keys).</p>

<h3 id="docker">Docker</h3>

<p>On top of being a runtime for LXC, Docker is the Registry client. It
supports:</p>

<ul>
<li>Push / Pull on the registry</li>
<li>Client authentication on the Docker Hub</li>
</ul>

<h2 id="workflow">Workflow</h2>

<h3 id="pull">Pull</h3>

<p><img src="/static_files/docker_pull_chart.png" alt="" />
</p>

<ol>
<li>Contact the Docker Hub to know where I should download “samalba/busybox”</li>
<li>Docker Hub replies: a. <code>samalba/busybox</code> is on Registry A b. here are the
checksums for <code>samalba/busybox</code> (for all layers) c. token</li>
<li>Contact Registry A to receive the layers for <code>samalba/busybox</code> (all of
them to the base image). Registry A is authoritative for “samalba/busybox”
but keeps a copy of all inherited layers and serve them all from the same
location.</li>
<li>registry contacts Docker Hub to verify if token/user is allowed to download images</li>
<li>Docker Hub returns true/false lettings registry know if it should proceed or error
out</li>
<li>Get the payload for all layers</li>
</ol>

<p>It&rsquo;s possible to run:</p>

<pre><code>$ docker pull https://&lt;registry&gt;/repositories/samalba/busybox
</code></pre>

<p>In this case, Docker bypasses the Docker Hub. However the security is not
guaranteed (in case Registry A is corrupted) because there won&rsquo;t be any
checksum checks.</p>

<p>Currently registry redirects to s3 urls for downloads, going forward all
downloads need to be streamed through the registry. The Registry will
then abstract the calls to S3 by a top-level class which implements
sub-classes for S3 and local storage.</p>

<p>Token is only returned when the <code>X-Docker-Token</code>
header is sent with request.</p>

<p>Basic Auth is required to pull private repos. Basic auth isn&rsquo;t required
for pulling public repos, but if one is provided, it needs to be valid
and for an active account.</p>

<p><strong>API (pulling repository foo/bar):</strong></p>

<ol>
<li>(Docker -&gt; Docker Hub) GET /v1/repositories/foo/bar/images:</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
    X-Docker-Token: true
</code></pre>

<p><strong>Action</strong>:</p>

<pre><code>    (looking up the foo/bar in db and gets images and checksums
    for that repo (all if no tag is specified, if tag, only
    checksums for those tags) see part 4.4.1)
</code></pre>

<ol>
<li>(Docker Hub -&gt; Docker) HTTP 200 OK</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=write
    X-Docker-Endpoints: registry.docker.io [,registry2.docker.io]
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>    Jsonified checksums (see part 4.4.1)
</code></pre>

<ol>
<li>(Docker -&gt; Registry) GET /v1/repositories/foo/bar/tags/latest</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=write
</code></pre>

<ol>
<li>(Registry -&gt; Docker Hub) GET /v1/repositories/foo/bar/images</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=read
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>    &lt;ids and checksums in payload&gt;
</code></pre>

<p><strong>Action</strong>:</p>

<pre><code>    (Lookup token see if they have access to pull.)

    If good:
    HTTP 200 OK Docker Hub will invalidate the token

    If bad:
    HTTP 401 Unauthorized
</code></pre>

<ol>
<li>(Docker -&gt; Registry) GET /v1/images/928374982374/ancestry</li>
</ol>

<p><strong>Action</strong>:</p>

<pre><code>    (for each image id returned in the registry, fetch /json + /layer)
</code></pre>

<blockquote>
<p><strong>Note</strong>:
If someone makes a second request, then we will always give a new token,
never reuse tokens.</p>
</blockquote>

<h3 id="push">Push</h3>

<p><img src="/static_files/docker_push_chart.png" alt="" />
</p>

<ol>
<li>Contact the Docker Hub to allocate the repository name “samalba/busybox”
(authentication required with user credentials)</li>
<li>If authentication works and namespace available, “samalba/busybox”
is allocated and a temporary token is returned (namespace is marked
as initialized in Docker Hub)</li>
<li>Push the image on the registry (along with the token)</li>
<li>Registry A contacts the Docker Hub to verify the token (token must
corresponds to the repository name)</li>
<li>Docker Hub validates the token. Registry A starts reading the stream
pushed by docker and store the repository (with its images)</li>
<li>docker contacts the Docker Hub to give checksums for upload images</li>
</ol>

<blockquote>
<p><strong>Note:</strong>
<strong>It&rsquo;s possible not to use the Docker Hub at all!</strong> In this case, a deployed
version of the Registry is deployed to store and serve images. Those
images are not authenticated and the security is not guaranteed.</p>

<p><strong>Note:</strong>
<strong>Docker Hub can be replaced!</strong> For a private Registry deployed, a custom
Docker Hub can be used to serve and validate token according to different
policies.</p>
</blockquote>

<p>Docker computes the checksums and submit them to the Docker Hub at the end of
the push. When a repository name does not have checksums on the Docker Hub,
it means that the push is in progress (since checksums are submitted at
the end).</p>

<p><strong>API (pushing repos foo/bar):</strong></p>

<ol>
<li>(Docker -&gt; Docker Hub) PUT /v1/repositories/foo/bar/</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Basic sdkjfskdjfhsdkjfh== X-Docker-Token:
    true
</code></pre>

<p><strong>Action</strong>:</p>

<ul>
<li>in Docker Hub, we allocated a new repository, and set to
initialized</li>
</ul>

<p><strong>Body</strong>:</p>

<p>(The body contains the list of images that are going to be
pushed, with empty checksums. The checksums will be set at
the end of the push):</p>

<pre><code>    [{“id”: “9e89cc6f0bc3c38722009fe6857087b486531f9a779a0c17e3ed29dae8f12c4f”}]
</code></pre>

<ol>
<li>(Docker Hub -&gt; Docker) 200 Created</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    WWW-Authenticate: Token
    signature=123abc,repository=”foo/bar”,access=write
    X-Docker-Endpoints: registry.docker.io [, registry2.docker.io]
</code></pre>

<ol>
<li>(Docker -&gt; Registry) PUT /v1/images/98765432_parent/json</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=write
</code></pre>

<ol>
<li>(Registry-&gt;Docker Hub) GET /v1/repositories/foo/bar/images</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=write
</code></pre>

<p><strong>Action</strong>:</p>

<ul>
<li>Docker Hub:
will invalidate the token.</li>

<li><p>Registry:
grants a session (if token is approved) and fetches
the images id</p></li>

<li><p>(Docker -&gt; Registry) PUT /v1/images/98765432_parent/json</p></li>
</ul>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=write
    Cookie: (Cookie provided by the Registry)
</code></pre>

<ol>
<li>(Docker -&gt; Registry) PUT /v1/images/98765432/json</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Cookie: (Cookie provided by the Registry)
</code></pre>

<ol>
<li>(Docker -&gt; Registry) PUT /v1/images/98765432_parent/layer</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Cookie: (Cookie provided by the Registry)
</code></pre>

<ol>
<li>(Docker -&gt; Registry) PUT /v1/images/98765432/layer</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    X-Docker-Checksum: sha256:436745873465fdjkhdfjkgh
</code></pre>

<ol>
<li>(Docker -&gt; Registry) PUT /v1/repositories/foo/bar/tags/latest</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Cookie: (Cookie provided by the Registry)
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>    “98765432”
</code></pre>

<ol>
<li>(Docker -&gt; Docker Hub) PUT /v1/repositories/foo/bar/images</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Basic 123oislifjsldfj== X-Docker-Endpoints:
    registry1.docker.io (no validation on this right now)
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>    (The image, id`s, tags and checksums)
    [{“id”:
    “9e89cc6f0bc3c38722009fe6857087b486531f9a779a0c17e3ed29dae8f12c4f”,
    “checksum”:
    “b486531f9a779a0c17e3ed29dae8f12c4f9e89cc6f0bc3c38722009fe6857087”}]
</code></pre>

<p><strong>Return</strong>:</p>

<pre><code>    HTTP 204
</code></pre>

<blockquote>
<p><strong>Note:</strong> If push fails and they need to start again, what happens in the Docker Hub,
there will already be a record for the namespace/name, but it will be
initialized. Should we allow it, or mark as name already used? One edge
case could be if someone pushes the same thing at the same time with two
different shells.</p>
</blockquote>

<p>If it&rsquo;s a retry on the Registry, Docker has a cookie (provided by the
registry after token validation). So the Docker Hub won&rsquo;t have to provide a
new token.</p>

<h3 id="delete">Delete</h3>

<p>If you need to delete something from the Docker Hub or registry, we need a
nice clean way to do that. Here is the workflow.</p>

<ol>
<li>Docker contacts the Docker Hub to request a delete of a repository
<code>samalba/busybox</code> (authentication required with user credentials)</li>
<li>If authentication works and repository is valid, <code>samalba/busybox</code>
is marked as deleted and a temporary token is returned</li>
<li>Send a delete request to the registry for the repository (along with
the token)</li>
<li>Registry A contacts the Docker Hub to verify the token (token must
corresponds to the repository name)</li>
<li>Docker Hub validates the token. Registry A deletes the repository and
everything associated to it.</li>
<li>docker contacts the Docker Hub to let it know it was removed from the
registry, the Docker Hub removes all records from the database.</li>
</ol>

<blockquote>
<p><strong>Note</strong>:
The Docker client should present an &ldquo;Are you sure?&rdquo; prompt to confirm
the deletion before starting the process. Once it starts it can&rsquo;t be
undone.</p>
</blockquote>

<p><strong>API (deleting repository foo/bar):</strong></p>

<ol>
<li>(Docker -&gt; Docker Hub) DELETE /v1/repositories/foo/bar/</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Basic sdkjfskdjfhsdkjfh== X-Docker-Token:
    true
</code></pre>

<p><strong>Action</strong>:</p>

<ul>
<li>in Docker Hub, we make sure it is a valid repository, and set
to deleted (logically)</li>
</ul>

<p><strong>Body</strong>:</p>

<pre><code>    Empty
</code></pre>

<ol>
<li>(Docker Hub -&gt; Docker) 202 Accepted</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    WWW-Authenticate: Token
    signature=123abc,repository=”foo/bar”,access=delete
    X-Docker-Endpoints: registry.docker.io [, registry2.docker.io]
    # list of endpoints where this repo lives.
</code></pre>

<ol>
<li>(Docker -&gt; Registry) DELETE /v1/repositories/foo/bar/</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=delete
</code></pre>

<ol>
<li>(Registry-&gt;Docker Hub) PUT /v1/repositories/foo/bar/auth</li>
</ol>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=delete
</code></pre>

<p><strong>Action</strong>:</p>

<ul>
<li>Docker Hub:
will invalidate the token.</li>

<li><p>Registry:
deletes the repository (if token is approved)</p></li>

<li><p>(Registry -&gt; Docker) 200 OK</p>

<pre><code>200 If success 403 if forbidden 400 if bad request 404
if repository isn't found
</code></pre></li>

<li><p>(Docker -&gt; Docker Hub) DELETE /v1/repositories/foo/bar/</p></li>
</ul>

<p><strong>Headers</strong>:</p>

<pre><code>    Authorization: Basic 123oislifjsldfj== X-Docker-Endpoints:
    registry-1.docker.io (no validation on this right now)
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>    Empty
</code></pre>

<p><strong>Return</strong>:</p>

<pre><code>    HTTP 200
</code></pre>

<h2 id="how-to-use-the-registry-in-standalone-mode">How to use the Registry in standalone mode</h2>

<p>The Docker Hub has two main purposes (along with its fancy social features):</p>

<ul>
<li><p>Resolve short names (to avoid passing absolute URLs all the time):</p>

<p>username/projectname -&gt;
<a href="https://registry.docker.io/users/">https://registry.docker.io/users/</a><username>/repositories/<projectname>/
team/projectname -&gt;
<a href="https://registry.docker.io/team/">https://registry.docker.io/team/</a><team>/repositories/<projectname>/</p></li>

<li><p>Authenticate a user as a repos owner (for a central referenced
repository)</p></li>
</ul>

<h3 id="without-a-docker-hub">Without a Docker Hub</h3>

<p>Using the Registry without the Docker Hub can be useful to store the images
on a private network without having to rely on an external entity
controlled by Docker Inc.</p>

<p>In this case, the registry will be launched in a special mode
(-standalone? ne? -no-index?). In this mode, the only thing which changes is
that Registry will never contact the Docker Hub to verify a token. It will be
the Registry owner responsibility to authenticate the user who pushes
(or even pulls) an image using any mechanism (HTTP auth, IP based,
etc&hellip;).</p>

<p>In this scenario, the Registry is responsible for the security in case
of data corruption since the checksums are not delivered by a trusted
entity.</p>

<p>As hinted previously, a standalone registry can also be implemented by
any HTTP server handling GET/PUT requests (or even only GET requests if
no write access is necessary).</p>

<h3 id="with-a-docker-hub">With a Docker Hub</h3>

<p>The Docker Hub data needed by the Registry are simple:</p>

<ul>
<li>Serve the checksums</li>
<li>Provide and authorize a Token</li>
</ul>

<p>In the scenario of a Registry running on a private network with the need
of centralizing and authorizing, it&rsquo;s easy to use a custom Docker Hub.</p>

<p>The only challenge will be to tell Docker to contact (and trust) this
custom Docker Hub. Docker will be configurable at some point to use a
specific Docker Hub, it&rsquo;ll be the private entity responsibility (basically
the organization who uses Docker in a private environment) to maintain
the Docker Hub and the Docker&rsquo;s configuration among its consumers.</p>

<h2 id="the-api">The API</h2>

<p>The first version of the api is available here:
<a href="https://github.com/jpetazzo/docker/blob/acd51ecea8f5d3c02b00a08176171c59442df8b3/docs/images-repositories-push-pull.md">https://github.com/jpetazzo/docker/blob/acd51ecea8f5d3c02b00a08176171c59442df8b3/docs/images-repositories-push-pull.md</a></p>

<h3 id="images">Images</h3>

<p>The format returned in the images is not defined here (for layer and
JSON), basically because Registry stores exactly the same kind of
information as Docker uses to manage them.</p>

<p>The format of ancestry is a line-separated list of image ids, in age
order, i.e. the image&rsquo;s parent is on the last line, the parent of the
parent on the next-to-last line, etc.; if the image has no parent, the
file is empty.</p>

<pre><code>GET /v1/images/&lt;image_id&gt;/layer
PUT /v1/images/&lt;image_id&gt;/layer
GET /v1/images/&lt;image_id&gt;/json
PUT /v1/images/&lt;image_id&gt;/json
GET /v1/images/&lt;image_id&gt;/ancestry
PUT /v1/images/&lt;image_id&gt;/ancestry
</code></pre>

<h3 id="users">Users</h3>

<h3 id="create-a-user-docker-hub">Create a user (Docker Hub)</h3>

<pre><code>POST /v1/users:
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>{&quot;email&quot;: &quot;[sam@docker.com](mailto:sam%40docker.com)&quot;,
&quot;password&quot;: &quot;toto42&quot;, &quot;username&quot;: &quot;foobar&quot;`}
</code></pre>

<p><strong>Validation</strong>:</p>

<ul>
<li><strong>username</strong>: min 4 character, max 30 characters, must match the
regular expression [a-z0-9_].</li>
<li><strong>password</strong>: min 5 characters</li>
</ul>

<p><strong>Valid</strong>:</p>

<pre><code> return HTTP 201
</code></pre>

<p>Errors: HTTP 400 (we should create error codes for possible errors) -
invalid json - missing field - wrong format (username, password, email,
etc) - forbidden name - name already exists</p>

<blockquote>
<p><strong>Note</strong>:
A user account will be valid only if the email has been validated (a
validation link is sent to the email address).</p>
</blockquote>

<h3 id="update-a-user-docker-hub">Update a user (Docker Hub)</h3>

<pre><code>PUT /v1/users/&lt;username&gt;
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>{&quot;password&quot;: &quot;toto&quot;}
</code></pre>

<blockquote>
<p><strong>Note</strong>:
We can also update email address, if they do, they will need to reverify
their new email address.</p>
</blockquote>

<h3 id="login-docker-hub">Login (Docker Hub)</h3>

<p>Does nothing else but asking for a user authentication. Can be used to
validate credentials. HTTP Basic Auth for now, maybe change in future.</p>

<p>GET /v1/users</p>

<p><strong>Return</strong>:
- Valid: HTTP 200
- Invalid login: HTTP 401
- Account inactive: HTTP 403 Account is not Active</p>

<h3 id="tags-registry">Tags (Registry)</h3>

<p>The Registry does not know anything about users. Even though
repositories are under usernames, it&rsquo;s just a namespace for the
registry. Allowing us to implement organizations or different namespaces
per user later, without modifying the Registry&rsquo;s API.</p>

<p>The following naming restrictions apply:</p>

<ul>
<li>Namespaces must match the same regular expression as usernames (See
4.2.1.)</li>
<li>Repository names must match the regular expression [a-zA-Z0-9-_.]</li>
</ul>

<h3 id="get-all-tags">Get all tags:</h3>

<pre><code>GET /v1/repositories/&lt;namespace&gt;/&lt;repository_name&gt;/tags

**Return**: HTTP 200
[
    {
        &quot;layer&quot;: &quot;9e89cc6f&quot;,
        &quot;name&quot;: &quot;latest&quot;
    },
    {
        &quot;layer&quot;: &quot;b486531f&quot;,
        &quot;name&quot;: &quot;0.1.1&quot;,
    }
]
</code></pre>

<p><strong>4.3.2 Read the content of a tag (resolve the image id):</strong></p>

<pre><code>GET /v1/repositories/&lt;namespace&gt;/&lt;repo_name&gt;/tags/&lt;tag&gt;
</code></pre>

<p><strong>Return</strong>:</p>

<pre><code>&quot;9e89cc6f0bc3c38722009fe6857087b486531f9a779a0c17e3ed29dae8f12c4f&quot;
</code></pre>

<p><strong>4.3.3 Delete a tag (registry):</strong></p>

<pre><code>DELETE /v1/repositories/&lt;namespace&gt;/&lt;repo_name&gt;/tags/&lt;tag&gt;
</code></pre>

<h3 id="4-4-images-docker-hub">4.4 Images (Docker Hub)</h3>

<p>For the Docker Hub to “resolve” the repository name to a Registry location,
it uses the X-Docker-Endpoints header. In other terms, this requests
always add a <code>X-Docker-Endpoints</code> to indicate the
location of the registry which hosts this repository.</p>

<p><strong>4.4.1 Get the images:</strong></p>

<pre><code>GET /v1/repositories/&lt;namespace&gt;/&lt;repo_name&gt;/images

**Return**: HTTP 200
[{“id”:
“9e89cc6f0bc3c38722009fe6857087b486531f9a779a0c17e3ed29dae8f12c4f”,
“checksum”:
“[md5:b486531f9a779a0c17e3ed29dae8f12c4f9e89cc6f0bc3c38722009fe6857087](md5:b486531f9a779a0c17e3ed29dae8f12c4f9e89cc6f0bc3c38722009fe6857087)”}]
</code></pre>

<h3 id="add-update-the-images">Add/update the images:</h3>

<p>You always add images, you never remove them.</p>

<pre><code>PUT /v1/repositories/&lt;namespace&gt;/&lt;repo_name&gt;/images
</code></pre>

<p><strong>Body</strong>:</p>

<pre><code>[ {“id”:
“9e89cc6f0bc3c38722009fe6857087b486531f9a779a0c17e3ed29dae8f12c4f”,
“checksum”:
“sha256:b486531f9a779a0c17e3ed29dae8f12c4f9e89cc6f0bc3c38722009fe6857087”}
]
</code></pre>

<p><strong>Return</strong>:</p>

<pre><code>204
</code></pre>

<h3 id="repositories">Repositories</h3>

<h3 id="remove-a-repository-registry">Remove a Repository (Registry)</h3>

<p>DELETE /v1/repositories/<namespace>/<repo_name></p>

<p>Return 200 OK</p>

<h3 id="remove-a-repository-docker-hub">Remove a Repository (Docker Hub)</h3>

<p>This starts the delete process. see 2.3 for more details.</p>

<p>DELETE /v1/repositories/<namespace>/<repo_name></p>

<p>Return 202 OK</p>

<h2 id="chaining-registries">Chaining Registries</h2>

<p>It&rsquo;s possible to chain Registries server for several reasons:</p>

<ul>
<li>Load balancing</li>
<li>Delegate the next request to another server</li>
</ul>

<p>When a Registry is a reference for a repository, it should host the
entire images chain in order to avoid breaking the chain during the
download.</p>

<p>The Docker Hub and Registry use this mechanism to redirect on one or the
other.</p>

<p>Example with an image download:</p>

<p>On every request, a special header can be returned:</p>

<pre><code>X-Docker-Endpoints: server1,server2
</code></pre>

<p>On the next request, the client will always pick a server from this
list.</p>

<h2 id="authentication-and-authorization">Authentication and authorization</h2>

<h3 id="on-the-docker-hub">On the Docker Hub</h3>

<p>The Docker Hub supports both “Basic” and “Token” challenges. Usually when
there is a <code>401 Unauthorized</code>, the Docker Hub replies
this:</p>

<pre><code>401 Unauthorized
WWW-Authenticate: Basic realm=&quot;auth required&quot;,Token
</code></pre>

<p>You have 3 options:</p>

<ol>
<li>Provide user credentials and ask for a token</li>
</ol>

<p><strong>Header</strong>:</p>

<pre><code>    Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
    X-Docker-Token: true
</code></pre>

<p>In this case, along with the 200 response, you&rsquo;ll get a new token
(if user auth is ok): If authorization isn&rsquo;t correct you get a 401
response. If account isn&rsquo;t active you will get a 403 response.</p>

<p><strong>Response</strong>:</p>

<pre><code>    200 OK
    X-Docker-Token: Token
    signature=123abc,repository=”foo/bar”,access=read
</code></pre>

<ol>
<li>Provide user credentials only</li>
</ol>

<p><strong>Header</strong>:</p>

<pre><code>    Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
</code></pre>

<ol>
<li>Provide Token</li>
</ol>

<p><strong>Header</strong>:</p>

<pre><code>    Authorization: Token
    signature=123abc,repository=”foo/bar”,access=read
</code></pre>

<h3 id="6-2-on-the-registry">6.2 On the Registry</h3>

<p>The Registry only supports the Token challenge:</p>

<pre><code>401 Unauthorized
WWW-Authenticate: Token
</code></pre>

<p>The only way is to provide a token on <code>401 Unauthorized</code>
responses:</p>

<pre><code>Authorization: Token signature=123abc,repository=&quot;foo/bar&quot;,access=read
</code></pre>

<p>Usually, the Registry provides a Cookie when a Token verification
succeeded. Every time the Registry passes a Cookie, you have to pass it
back the same cookie.:</p>

<pre><code>200 OK
Set-Cookie: session=&quot;wD/J7LqL5ctqw8haL10vgfhrb2Q=?foo=UydiYXInCnAxCi4=&amp;timestamp=RjEzNjYzMTQ5NDcuNDc0NjQzCi4=&quot;; Path=/; HttpOnly
</code></pre>

<p>Next request:</p>

<pre><code>GET /(...)
Cookie: session=&quot;wD/J7LqL5ctqw8haL10vgfhrb2Q=?foo=UydiYXInCnAxCi4=&amp;timestamp=RjEzNjYzMTQ5NDcuNDc0NjQzCi4=&quot;
</code></pre>

<h2 id="document-version">Document version</h2>

<ul>
<li>1.0 : May 6th 2013 : initial release</li>
<li>1.1 : June 1st 2013 : Added Delete Repository and way to handle new
source namespace.</li>
</ul>

        </article>
		  </section>
    </div>
    <div id="toc" class="large-3 columns toc ">
     On this page:
        <nav id="TableOfContents">
<ul>
<li><a href="#the-docker-hub-and-the-registry-v1">The Docker Hub and the Registry v1</a>
<ul>
<li><a href="#the-three-roles">The three roles</a>
<ul>
<li><a href="#docker-hub">Docker Hub</a></li>
<li><a href="#docker-registry-1-0">Docker Registry 1.0</a></li>
<li><a href="#docker">Docker</a></li>
</ul></li>
<li><a href="#workflow">Workflow</a>
<ul>
<li><a href="#pull">Pull</a></li>
<li><a href="#push">Push</a></li>
<li><a href="#delete">Delete</a></li>
</ul></li>
<li><a href="#how-to-use-the-registry-in-standalone-mode">How to use the Registry in standalone mode</a>
<ul>
<li><a href="#without-a-docker-hub">Without a Docker Hub</a></li>
<li><a href="#with-a-docker-hub">With a Docker Hub</a></li>
</ul></li>
<li><a href="#the-api">The API</a>
<ul>
<li><a href="#images">Images</a></li>
<li><a href="#users">Users</a></li>
<li><a href="#create-a-user-docker-hub">Create a user (Docker Hub)</a></li>
<li><a href="#update-a-user-docker-hub">Update a user (Docker Hub)</a></li>
<li><a href="#login-docker-hub">Login (Docker Hub)</a></li>
<li><a href="#tags-registry">Tags (Registry)</a></li>
<li><a href="#get-all-tags">Get all tags:</a></li>
<li><a href="#4-4-images-docker-hub">4.4 Images (Docker Hub)</a></li>
<li><a href="#add-update-the-images">Add/update the images:</a></li>
<li><a href="#repositories">Repositories</a></li>
<li><a href="#remove-a-repository-registry">Remove a Repository (Registry)</a></li>
<li><a href="#remove-a-repository-docker-hub">Remove a Repository (Docker Hub)</a></li>
</ul></li>
<li><a href="#chaining-registries">Chaining Registries</a></li>
<li><a href="#authentication-and-authorization">Authentication and authorization</a>
<ul>
<li><a href="#on-the-docker-hub">On the Docker Hub</a></li>
<li><a href="#6-2-on-the-registry">6.2 On the Registry</a></li>
</ul></li>
<li><a href="#document-version">Document version</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

<footer class="main-footer">
  <div class="row">
  </div>
  <div class="row">
  </div>
  <div id="buildinfo">
    Jul 8, 2015 at 6:45pm (PST)
        BUILD_DATA
   </div>
</footer>
<link rel="stylesheet" href="/highlight/styles/github.css">
<script src="/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/dist/assets/js/all.js"></script>
<script>
  $( 'nav li:has(ul)' ).doubleTapToGo();
</script>
<script>

;(function ( $, window, document, undefined ) {

    var pluginName = 'accordion',
        defaults = {
            transitionSpeed: 300,
            transitionEasing: 'ease',
            controlElement: '[data-control]',
            contentElement: '[data-content]',
            groupElement: '[data-accordion-group]',
            singleOpen: true
        };

    function Accordion(element, options) {
        this.element = element;
        this.options = $.extend({}, defaults, options);
        this._defaults = defaults;
        this._name = pluginName;
        this.init();
    }

    Accordion.prototype.init = function () {
        var self = this,
            opts = self.options;

        var $accordion = $(self.element),
            $controls = $accordion.find('> ' + opts.controlElement),
            $content =  $accordion.find('> ' + opts.contentElement);

        var accordionParentsQty = $accordion.parents('[data-accordion]').length,
            accordionHasParent = accordionParentsQty > 0;

        var closedCSS = { 'max-height': 0, 'overflow': 'hidden' };

        var CSStransitions = supportsTransitions();

        function debounce(func, threshold, execAsap) {
            var timeout;

            return function debounced() {
                var obj = this,
                    args = arguments;

                function delayed() {
                    if (!execAsap) func.apply(obj, args);
                    timeout = null;
                };

                if (timeout) clearTimeout(timeout);
                else if (execAsap) func.apply(obj, args);

                timeout = setTimeout(delayed, threshold || 100);
            };
        }

        function supportsTransitions() {
            var b = document.body || document.documentElement,
                s = b.style,
                p = 'transition';

            if (typeof s[p] == 'string') {
                return true;
            }

            var v = ['Moz', 'webkit', 'Webkit', 'Khtml', 'O', 'ms'];

            p = 'Transition';

            for (var i=0; i<v.length; i++) {
                if (typeof s[v[i] + p] == 'string') {
                    return true;
                }
            }

            return false;
        }

        function requestAnimFrame(cb) {
            if(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame) {
                return  requestAnimationFrame(cb) ||
                        webkitRequestAnimationFrame(cb) ||
                        mozRequestAnimationFrame(cb);
            } else {
                return setTimeout(cb, 1000 / 60);
            }
        }

        function toggleTransition($el, remove) {
            if(!remove) {
                $content.css({
                    '-webkit-transition': 'max-height ' + opts.transitionSpeed + 'ms ' + opts.transitionEasing,
                    'transition': 'max-height ' + opts.transitionSpeed + 'ms ' + opts.transitionEasing
                });
            } else {
                $content.css({
                    '-webkit-transition': '',
                    'transition': ''
                });
            }
        }

        function calculateHeight($el) {
            var height = 0;

            $el.children().each(function() {
                height = height + $(this).outerHeight(true);
            });

            $el.data('oHeight', height);
        }

        function updateParentHeight($parentAccordion, $currentAccordion, qty, operation) {
            var $content = $parentAccordion.filter('.open').find('> [data-content]'),
                $childs = $content.find('[data-accordion].open > [data-content]'),
                $matched;

            if(!opts.singleOpen) {
                $childs = $childs.not($currentAccordion.siblings('[data-accordion].open').find('> [data-content]'));
            }

            $matched = $content.add($childs);

            if($parentAccordion.hasClass('open')) {
                $matched.each(function() {
                    var currentHeight = $(this).data('oHeight');

                    switch (operation) {
                        case '+':
                            $(this).data('oHeight', currentHeight + qty);
                            break;
                        case '-':
                            $(this).data('oHeight', currentHeight - qty);
                            break;
                        default:
                            throw 'updateParentHeight method needs an operation';
                    }

                    $(this).css('max-height', $(this).data('oHeight'));
                });
            }
        }

        function refreshHeight($accordion) {
            if($accordion.hasClass('open')) {
                var $content = $accordion.find('> [data-content]'),
                    $childs = $content.find('[data-accordion].open > [data-content]'),
                    $matched = $content.add($childs);

                calculateHeight($matched);

                $matched.css('max-height', $matched.data('oHeight'));
            }
        }

        function closeAccordion($accordion, $content) {
            $accordion.trigger('accordion.close');
            
            if(CSStransitions) {
                if(accordionHasParent) {
                    var $parentAccordions = $accordion.parents('[data-accordion]');

                    updateParentHeight($parentAccordions, $accordion, $content.data('oHeight'), '-');
                }

                $content.css(closedCSS);

                $accordion.removeClass('open');
            } else {
                $content.css('max-height', $content.data('oHeight'));

                $content.animate(closedCSS, opts.transitionSpeed);

                $accordion.removeClass('open');
            }
        }

        function openAccordion($accordion, $content) {
            $accordion.trigger('accordion.open');
            if(CSStransitions) {
                toggleTransition($content);

                if(accordionHasParent) {
                    var $parentAccordions = $accordion.parents('[data-accordion]');

                    updateParentHeight($parentAccordions, $accordion, $content.data('oHeight'), '+');
                }

                requestAnimFrame(function() {
                    $content.css('max-height', $content.data('oHeight'));
                });

                $accordion.addClass('open');
            } else {
                $content.animate({
                    'max-height': $content.data('oHeight')
                }, opts.transitionSpeed, function() {
                    $content.css({'max-height': 'none'});
                });

                $accordion.addClass('open');
            }
        }

        function closeSiblingAccordions($accordion) {
            var $accordionGroup = $accordion.closest(opts.groupElement);

            var $siblings = $accordion.siblings('[data-accordion]').filter('.open'),
                $siblingsChildren = $siblings.find('[data-accordion]').filter('.open');

            var $otherAccordions = $siblings.add($siblingsChildren);

            $otherAccordions.each(function() {
                var $accordion = $(this),
                    $content = $accordion.find(opts.contentElement);

                closeAccordion($accordion, $content);
            });

            $otherAccordions.removeClass('open');
        }

        function toggleAccordion() {
            var isAccordionGroup = (opts.singleOpen) ? $accordion.parents(opts.groupElement).length > 0 : false;

            calculateHeight($content);

            if(isAccordionGroup) {
                closeSiblingAccordions($accordion);
            }

            if($accordion.hasClass('open')) {
                closeAccordion($accordion, $content);
            } else {
                openAccordion($accordion, $content);
            }
        }

        function addEventListeners() {
            $controls.on('click', toggleAccordion);
            
            $controls.on('accordion.toggle', function() {
                if(opts.singleOpen && $controls.length > 1) {
                    return false;
                }
                
                toggleAccordion();
            });

            $(window).on('resize', debounce(function() {
                refreshHeight($accordion);
            }));
        }

        function setup() {
            $content.each(function() {
                var $curr = $(this);

                if($curr.css('max-height') != 0) {
                    if(!$curr.closest('[data-accordion]').hasClass('open')) {
                        $curr.css({ 'max-height': 0, 'overflow': 'hidden' });
                    } else {
                        toggleTransition($curr);
                        calculateHeight($curr);

                        $curr.css('max-height', $curr.data('oHeight'));
                    }
                }
            });


            if(!$accordion.attr('data-accordion')) {
                $accordion.attr('data-accordion', '');
                $accordion.find(opts.controlElement).attr('data-control', '');
                $accordion.find(opts.contentElement).attr('data-content', '');
            }
        }

        setup();
        addEventListeners();
    };

    $.fn[pluginName] = function ( options ) {
        return this.each(function () {
            if (!$.data(this, 'plugin_' + pluginName)) {
                $.data(this, 'plugin_' + pluginName,
                new Accordion( this, options ));
            }
        });
    }

})( jQuery, window, document );

$(document).ready(function() {
  $('#multiple [data-accordion]').accordion({
    singleOpen: false
  });
});

</script>


<script src="/dist/assets/js/bootstrap-3.0.3.min.js"></script>
<script src="/dist/assets/js/archive.js"></script>
  <script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>

