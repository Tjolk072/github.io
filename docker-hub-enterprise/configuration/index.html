<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
  <meta name="docker_version" content="1.6.1">
  <meta name="docker_git_branch" content="master">
  <meta name="docker_git_commit" content="59cd467">
  <meta name="docker_build_date" content="Fri Jun  5 11:40:50 UTC 2015">

  <meta name="description" content="Configuration instructions for Docker Hub Enterprise">
  <meta name="keywords" content="docker, documentation, about, technology, understanding, enterprise, hub, registry">
  
  <link rel="canonical" href="/docker-hub-enterprise/configuration/">
  <link href="/css/bootstrap-custom.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/prettify-1.0.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/dockerfile_tutorial.css">
  <link href="/tipuesearch
/tipuesearch.css" rel="stylesheet">
  <link href="/css/docs.css" rel="stylesheet">
  <link rel="shortcut icon" href="/img/favicon.png">
  <title>&nbsp;&nbsp;Configuration options - Docker Documentation</title>
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
  
  <script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
  
</head>
<body>

<div id="topmostnav" class="topmostnav_loggedout navbar navbar-static-top">
  <div class="container">
    <a href="/" title="Docker Docs Home"><div class="brand logo"><img src="/img/nav/docker-logo-loggedin.png"> </div></a>
    <form id="nav_search" class="navbar-index-search pull-right" action="/jsearch/">
      <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span>
      <input name="q" id="tipue_search_input" type="text" class="search_input search-query ui-autocomplete-input" placeholder="Search the Docs" autocomplete="off">
    </form>
    <ul class="nav">
      <li class=""><a href="http://www.docker.com/whatisdocker/" title="What is Docker">What is Docker?</a></li>
      <li class=""><a href="http://www.docker.com/resources/usecases/" title="Use Cases">Use Cases</a></li>
      <li class=""><a href="http://www.docker.com/tryit/" title="Try It!">Try It!</a></li>
      <li><a href="https://registry.hub.docker.com" title="Browse">Browse</a></li>
    </ul>
    <div id="usernav" class="pull-right">
      <a href="https://hub.docker.com/account/login" class="btn nav-button2" title="Lg In">Log In</a>
      <a href="https://hub.docker.com/account/signup" class="btn nav-button1" title="Sign Up">Sign Up</a>
    </div>
  </div>
</div>
<div id="topmostnav" class="topmostnav_loggedin navbar navbar-static-top">
  <div class="container">
    <a href="/" title="Docker Docs Home"><div class="brand logo"><img src="/img/nav/docker-logo-loggedin.png"> </div></a>
    <form id="nav_search" class="navbar-index-search pull-right" action="/jsearch/">
      <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span>
      <input name="q" id="tipue_search_input" type="text" class="search_input search-query ui-autocomplete-input" placeholder="Search the Docs" autocomplete="off">
    </form>
    <ul class="nav">
      <li><a href="https://registry.hub.docker.com" title="Browse Repos">Browse Repos</a></li>
      <li class="active"><a href="http://docs.docker.com" title="Documentation">Documentation</a></li>
      <li><a href="http://www.docker.com/community/participate/" title="Community">Community</a></li>
      <li><a href="http://www.docker.com/resources/help/" title="Help">Help</a></li>
    </ul>
    <div id="usernav" class="pull-right">
      <ul class="nav user">
        <li class="dropdown">
          <a id="logged-in-header-username" class="dropdown-toggle" data-toggle="dropdown" href="#">
            <img class="profile" src="" alt="profile picture">
          </a>
          <ul class="dropdown-menu pull-right">
            <li><a href="https://hub.docker.com/">View Profile</a></li>
            <li><a href="https://hub.docker.com/account/settings/">Settings</a></li>
            <li><a href="https://hub.docker.com/repos/">My Repositories</a></li>
            <li><a href="https://hub.docker.com/plans/billing-info">Billing</a></li>
            <li><a href="https://hub.docker.com/account/logout/?next=/">Log out</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>

<div id="wrap">
  <nav id="nav_menu" class="clearfix navbar navbar-default navbar-static-top affix" role="navigation">
  <div id="docsnav">
    <ul id="main-nav" class="pull-left">
      
      
      <li class="dd_menu pull-left">
        
        <a href="/">About</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/">Docker</a>
          </li>
        
          <li >
            <a href="/release-notes/">Release Notes</a>
          </li>
        
          <li >
            <a href="/introduction/understanding-docker/">Understanding Docker</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/installation/ubuntulinux/">Installation</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/installation/ubuntulinux/">Ubuntu</a>
          </li>
        
          <li >
            <a href="/installation/mac/">Mac OS X</a>
          </li>
        
          <li >
            <a href="/kitematic/">Kitematic on OS X</a>
          </li>
        
          <li >
            <a href="/installation/windows/">Microsoft Windows</a>
          </li>
        
          <li >
            <a href="/installation/testing-windows-docker-client/">Building and testing the Windows Docker client</a>
          </li>
        
          <li >
            <a href="/installation/amazon/">Amazon EC2</a>
          </li>
        
          <li >
            <a href="/installation/archlinux/">Arch Linux</a>
          </li>
        
          <li >
            <a href="/installation/binaries/">Binaries</a>
          </li>
        
          <li >
            <a href="/installation/centos/">CentOS</a>
          </li>
        
          <li >
            <a href="/installation/cruxlinux/">CRUX Linux</a>
          </li>
        
          <li >
            <a href="/installation/debian/">Debian</a>
          </li>
        
          <li >
            <a href="/installation/fedora/">Fedora</a>
          </li>
        
          <li >
            <a href="/installation/frugalware/">FrugalWare</a>
          </li>
        
          <li >
            <a href="/installation/google/">Google Cloud Platform</a>
          </li>
        
          <li >
            <a href="/installation/gentoolinux/">Gentoo</a>
          </li>
        
          <li >
            <a href="/installation/softlayer/">IBM Softlayer</a>
          </li>
        
          <li >
            <a href="/installation/joyent/">Joyent Compute Service</a>
          </li>
        
          <li >
            <a href="/installation/azure/">Microsoft Azure</a>
          </li>
        
          <li >
            <a href="/installation/rackspace/">Rackspace Cloud</a>
          </li>
        
          <li >
            <a href="/installation/rhel/">Red Hat Enterprise Linux</a>
          </li>
        
          <li >
            <a href="/installation/oracle/">Oracle Linux</a>
          </li>
        
          <li >
            <a href="/installation/SUSE/">SUSE</a>
          </li>
        
          <li >
            <a href="/compose/install/">Docker Compose</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/userguide/">User Guide</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/userguide/">The Docker User Guide</a>
          </li>
        
          <li >
            <a href="/userguide/dockerhub/">Getting Started with Docker Hub</a>
          </li>
        
          <li >
            <a href="/userguide/dockerizing/">Dockerizing Applications</a>
          </li>
        
          <li >
            <a href="/userguide/usingdocker/">Working with Containers</a>
          </li>
        
          <li >
            <a href="/userguide/dockerimages/">Working with Docker Images</a>
          </li>
        
          <li >
            <a href="/userguide/dockerlinks/">Linking containers together</a>
          </li>
        
          <li >
            <a href="/userguide/dockervolumes/">Managing data in containers</a>
          </li>
        
          <li >
            <a href="/userguide/labels-custom-metadata/">Apply custom metadata</a>
          </li>
        
          <li >
            <a href="/userguide/dockerrepos/">Working with Docker Hub</a>
          </li>
        
          <li >
            <a href="/compose/">Docker Compose</a>
          </li>
        
          <li >
            <a href="/compose/production/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Use Compose in production</a>
          </li>
        
          <li >
            <a href="/compose/extends/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Extend Compose services</a>
          </li>
        
          <li >
            <a href="/machine/">Docker Machine</a>
          </li>
        
          <li >
            <a href="/swarm/">Docker Swarm</a>
          </li>
        
          <li >
            <a href="/kitematic/userguide/">Kitematic</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/docker-hub/">Docker Hub</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/docker-hub/">Docker Hub</a>
          </li>
        
          <li >
            <a href="/docker-hub/accounts/">Accounts</a>
          </li>
        
          <li >
            <a href="/docker-hub/userguide/">User Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub/repos/">Your Repositories</a>
          </li>
        
          <li >
            <a href="/docker-hub/builds/">Automated Builds</a>
          </li>
        
          <li >
            <a href="/docker-hub/official_repos/">Official Repositories</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left active">
        
        <a href="/docker-hub-enterprise/">Docker Hub Enterprise</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/docker-hub-enterprise/">Overview</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/quick-start/">Quick Start: Basic Workflow</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/userguide/">User Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/adminguide/">Admin Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/install/">&nbsp;&nbsp;Installation</a>
          </li>
        
          <li class="active">
            <a href="/docker-hub-enterprise/configuration/">&nbsp;&nbsp;Configuration options</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/support/">Support</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/release-notes/">Release notes</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/examples/nodejs_web_app/">Examples</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/examples/nodejs_web_app/">Dockerizing a Node.js web application</a>
          </li>
        
          <li >
            <a href="/examples/mongodb/">Dockerizing MongoDB</a>
          </li>
        
          <li >
            <a href="/examples/running_redis_service/">Dockerizing a Redis service</a>
          </li>
        
          <li >
            <a href="/examples/postgresql_service/">Dockerizing a PostgreSQL service</a>
          </li>
        
          <li >
            <a href="/examples/running_riak_service/">Dockerizing a Riak service</a>
          </li>
        
          <li >
            <a href="/examples/running_ssh_service/">Dockerizing an SSH service</a>
          </li>
        
          <li >
            <a href="/examples/couchdb_data_volumes/">Dockerizing a CouchDB service</a>
          </li>
        
          <li >
            <a href="/examples/apt-cacher-ng/">Dockerizing an Apt-Cacher-ng service</a>
          </li>
        
          <li >
            <a href="/compose/django/">Getting started with Compose and Django</a>
          </li>
        
          <li >
            <a href="/compose/rails/">Getting started with Compose and Rails</a>
          </li>
        
          <li >
            <a href="/compose/wordpress/">Getting started with Compose and Wordpress</a>
          </li>
        
          <li >
            <a href="/kitematic/minecraft-server/">Kitematic: Minecraft server</a>
          </li>
        
          <li >
            <a href="/kitematic/nginx-web-server/">Kitematic: Ngnix web server</a>
          </li>
        
          <li >
            <a href="/kitematic/rethinkdb-dev-database/">Kitematic: RethinkDB development database</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/articles/basics/">Articles</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/articles/basics/">Docker basics</a>
          </li>
        
          <li >
            <a href="/articles/networking/">Advanced networking</a>
          </li>
        
          <li >
            <a href="/articles/security/">Security</a>
          </li>
        
          <li >
            <a href="/articles/https/">Running Docker with HTTPS</a>
          </li>
        
          <li >
            <a href="/articles/registry_mirror/">Run a local registry mirror</a>
          </li>
        
          <li >
            <a href="/articles/host_integration/">Automatically starting containers</a>
          </li>
        
          <li >
            <a href="/articles/baseimages/">Creating a base image</a>
          </li>
        
          <li >
            <a href="/articles/dockerfile_best-practices/">Best practices for writing Dockerfiles</a>
          </li>
        
          <li >
            <a href="/articles/certificates/">Using certificates for repository client verification</a>
          </li>
        
          <li >
            <a href="/articles/using_supervisord/">Using Supervisor</a>
          </li>
        
          <li >
            <a href="/articles/configuring/">Configuring Docker</a>
          </li>
        
          <li >
            <a href="/articles/cfengine_process_management/">Process management with CFEngine</a>
          </li>
        
          <li >
            <a href="/articles/puppet/">Using Puppet</a>
          </li>
        
          <li >
            <a href="/articles/chef/">Using Chef</a>
          </li>
        
          <li >
            <a href="/articles/dsc/">Using PowerShell DSC</a>
          </li>
        
          <li >
            <a href="/articles/ambassador_pattern_linking/">Cross-Host linking using ambassador containers</a>
          </li>
        
          <li >
            <a href="/articles/runmetrics/">Runtime metrics</a>
          </li>
        
          <li >
            <a href="/articles/b2d_volume_resize/">Increasing a Boot2Docker volume</a>
          </li>
        
          <li >
            <a href="/articles/systemd/">Controlling and configuring Docker using Systemd</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/reference/commandline/cli/">Reference</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/reference/commandline/cli/">Docker command line</a>
          </li>
        
          <li >
            <a href="/reference/builder/">Dockerfile</a>
          </li>
        
          <li >
            <a href="/faq/">FAQ</a>
          </li>
        
          <li >
            <a href="/reference/run/">Run Reference</a>
          </li>
        
          <li >
            <a href="/compose/cli/">Compose command line</a>
          </li>
        
          <li >
            <a href="/compose/yml/">Compose yml</a>
          </li>
        
          <li >
            <a href="/compose/env/">Compose ENV variables</a>
          </li>
        
          <li >
            <a href="/compose/completion/">Compose commandline completion</a>
          </li>
        
          <li >
            <a href="/swarm/discovery/">Swarm discovery</a>
          </li>
        
          <li >
            <a href="/swarm/scheduler/strategy/">Swarm strategies</a>
          </li>
        
          <li >
            <a href="/swarm/scheduler/filter/">Swarm filters</a>
          </li>
        
          <li >
            <a href="/swarm/API/">Swarm API</a>
          </li>
        
          <li >
            <a href="/registry/">Docker Registry 2.0</a>
          </li>
        
          <li >
            <a href="/registry/deploying/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Deploy a registry</a>
          </li>
        
          <li >
            <a href="/registry/configuration/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Configure a registry</a>
          </li>
        
          <li >
            <a href="/registry/storagedrivers/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Storage driver model</a>
          </li>
        
          <li >
            <a href="/registry/notifications/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Work with notifications</a>
          </li>
        
          <li >
            <a href="/registry/spec/api/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Registry Service API v2</a>
          </li>
        
          <li >
            <a href="/registry/spec/json/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; JSON format</a>
          </li>
        
          <li >
            <a href="/registry/spec/auth/token/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Authenticate via central service</a>
          </li>
        
          <li >
            <a href="/reference/api/hub_registry_spec/">Docker Hub and Registry 1.0</a>
          </li>
        
          <li >
            <a href="/reference/api/registry_api/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp;Docker Registry API v1</a>
          </li>
        
          <li >
            <a href="/reference/api/registry_api_client_libraries/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp;Docker Registry 1.0 API Client Libraries</a>
          </li>
        
          <li >
            <a href="/reference/api/docker-io_api/">Docker Hub API</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api/">Docker Remote API</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.18/">Docker Remote API v1.18</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.17/">Docker Remote API v1.17</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.16/">Docker Remote API v1.16</a>
          </li>
        
          <li >
            <a href="/reference/api/remote_api_client_libraries/">Docker Remote API client libraries</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_io_accounts_api/">Docker Hub accounts API</a>
          </li>
        
          <li >
            <a href="/kitematic/faq/">Kitematic: FAQ</a>
          </li>
        
          <li >
            <a href="/kitematic/known-issues/">Kitematic: Known issues</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/project/who-written-for/">Contributor</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/project/who-written-for/">README first</a>
          </li>
        
          <li >
            <a href="/project/software-required/">Get required software for Linux or OS X</a>
          </li>
        
          <li >
            <a href="/project/software-req-win/">Get required software for Windows</a>
          </li>
        
          <li >
            <a href="/project/set-up-git/">Configure Git for contributing</a>
          </li>
        
          <li >
            <a href="/project/set-up-dev-env/">Work with a development container</a>
          </li>
        
          <li >
            <a href="/project/test-and-docs/">Run tests and test documentation</a>
          </li>
        
          <li >
            <a href="/project/make-a-contribution/">Understand contribution workflow</a>
          </li>
        
          <li >
            <a href="/project/find-an-issue/">Find an issue</a>
          </li>
        
          <li >
            <a href="/project/work-issue/">Work on an issue</a>
          </li>
        
          <li >
            <a href="/project/create-pr/">Create a pull request</a>
          </li>
        
          <li >
            <a href="/project/review-pr/">Participate in the PR review</a>
          </li>
        
          <li >
            <a href="/project/advanced-contributing/">Advanced contributing</a>
          </li>
        
          <li >
            <a href="/project/get-help/">Where to get help</a>
          </li>
        
          <li >
            <a href="/project/coding-style/">Coding style guide</a>
          </li>
        
          <li >
            <a href="/project/doc-style/">Documentation style guide</a>
          </li>
        
        </ul>
      </li>
      
      
    </ul>
  </div>
</nav>
  <div id="content" class="container">
    <div class="row">

      <div class="span3" id="leftnav">
        <div id="toc_table">
          <ul class="nav nav-tabs nav-stacked">
            
  
    <li class=""><a href="#overview">Overview</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#domains-and-ports">Domains and Ports</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#security">Security</a>
      <ul>
    
      <li><a href="#generating-ssl-certificates">Generating SSL certificates</a></li>
    
      <li><a href="#adding-your-own-registry-certificates-to-dhe">Adding your own Registry certificates to DHE</a></li>
    
      <li><a href="#installing-registry-certificates-on-client-docker-daemons">Installing Registry certificates on client Docker daemons</a></li>
    
      <li><a href="#if-you-cant-install-the-certificates">If you can't install the certificates</a></li>
    
      <li><a href="#boot2docker">Boot2Docker</a></li>
    
      </ul>
    </li>
  
    <li class=""><a href="#image-storage-configuration">Image Storage Configuration</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#authentication">Authentication</a>
      <ul>
    
      <li><a href="#no-authentication">No authentication</a></li>
    
      <li><a href="#basic-authentication">Basic authentication</a></li>
    
      <li><a href="#ldap-authentication">LDAP authentication</a></li>
    
      </ul>
    </li>
  
    <li class=""><a href="#next-steps">Next Steps</a>
      <ul>
    
      </ul>
    </li>
  

          </ul>
        </div>
      </div>
      <div class="span9 content-body">

        

        <h1 id="configuring-dhe">Configuring DHE</h1>
<h2 id="overview">Overview</h2>
<p>This page will help you properly configure Docker Hub Enterprise (DHE) so it can
run in your environment. </p>
<p>Start with DHE loaded in your browser and click  the "Settings" tab to view
configuration options. You'll see options for configuring:</p>
<ul>
<li>Domains and ports</li>
<li>Security settings</li>
<li>Storage settings</li>
<li>Authentication settings</li>
<li>Your DHE license</li>
</ul>
<h2 id="domains-and-ports">Domains and Ports</h2>
<p><img alt="Domain and Ports page&lt;/admin/settings#http&gt;" src="../assets/admin-settings-http.png" /></p>
<ul>
<li><em>Domain Name</em>: <strong>required</strong> defaults to an empty string, the fully qualified domain name assigned to the DHE host.</li>
<li><em>Load Balancer HTTP Port</em>: defaults to 80, used as the entry point for the image storage service. To see load balancer status, you can query
http://&lt;dhe-host&gt;/load_balancer_status.</li>
<li><em>Load Balancer HTTPS Port</em>: defaults to 443, used as the secure entry point
for the image storage service.</li>
<li><em>HTTP_PROXY</em>: defaults to an empty string, proxy server for HTTP requests.</li>
<li><em>HTTPS_PROXY</em>: defaults to an empty string, proxy server for HTTPS requests.</li>
<li><em>NO_PROXY</em>: defaults to an empty string, proxy bypass for HTTP and HTTPS requests.</li>
</ul>
<blockquote>
<p><strong>Note</strong>: If you need DHE to re-generate a self-signed certificate at some
point, you'll need to first delete <code>/usr/local/etc/dhe/ssl/server.pem</code>, and
then restart the DHE containers, either by changing and saving the "Domain Name",
or using <code>bash -c "$(docker run dockerhubenterprise/manager restart)"</code>.</p>
</blockquote>
<h2 id="security">Security</h2>
<p><img alt="Security settings page&lt;/admin/settings#security&gt;" src="../assets/admin-settings-security.png" /></p>
<ul>
<li><em>SSL Certificate</em>: Used to enter the hash (string) from the SSL Certificate.
This cert must be accompanied by its private key, entered below.</li>
<li><em>Private Key</em>: The hash from the private key associated with the provided
SSL Certificate (as a standard x509 key pair).</li>
</ul>
<p>In order to run, DHE requires encrypted communications via HTTPS/SSL between (a) the DHE registry and your Docker Engine(s), and (b) between your web browser and the DHE admin server. There are a few options for setting this up:</p>
<ol>
<li>You can use the self-signed certificate DHE generates by default.</li>
<li>You can generate your own certificates using a public service or your enterprise's infrastructure. See the <a href="#generating-ssl-certificates">Generating SSL certificates</a> section for the options available.</li>
</ol>
<p>If you are generating your own certificates, you can install them by following the instructions for
<a href="#adding-your-own-registry-certificates-to-dhe">Adding your own registry certificates to DHE</a>.</p>
<p>On the other hand, if you choose to use the DHE-generated certificates, or the
certificates you generate yourself are not trusted by your client Docker hosts,
you will need to do one of the following:</p>
<ul>
<li>
<p><a href="#installing-registry-certificates-on-client-docker-daemons">Install a registry certificate on all of your client Docker daemons</a>,</p>
</li>
<li>
<p>Set your <a href="#if-you-cant-install-the-certificates">client Docker daemons to run with an unconfirmed connection to the registry</a>.</p>
</li>
</ul>
<h3 id="generating-ssl-certificates">Generating SSL certificates</h3>
<p>There are three basic approaches to generating certificates:</p>
<ol>
<li>
<p>Most enterprises will have private key infrastructure (PKI) in place to
generate keys. Consult with your security team or whomever manages your private
key infrastructure. If you have this resource available, Docker recommends you
use it.</p>
</li>
<li>
<p>If your enterprise can't provide keys, you can use a public Certificate
Authority (CA) like "InstantSSL.com" or "RapidSSL.com" to generate a
certificate. If your certificates are generated using a globally trusted
Certificate Authority, you won't need to install them on all of your
client Docker daemons.</p>
</li>
<li>
<p>Use the self-signed registry certificate generated by DHE, and install it
onto the client Docker daemon hosts as shown below.</p>
</li>
</ol>
<h3 id="adding-your-own-registry-certificates-to-dhe">Adding your own Registry certificates to DHE</h3>
<p>Whichever method you use to generate certificates, once you have them
you can set up your DHE server to use them by navigating to the "Settings" page,
going to "Security," and putting the SSL Certificate text (including all
intermediate Certificates, starting with the host) into the
"SSL Certificate" edit box, and the previously generated Private key into
the "SSL Private Key" edit box.</p>
<p>Click the "Save" button, and then wait for the DHE Admin site to restart and
reload. It should now be using the new certificate.</p>
<p>Once the "Security" page has reloaded, it will show <code>#</code> hashes instead of the
certificate text you pasted in.</p>
<p>If your certificate is signed by a chain of Certificate Authorities that are
already trusted by your Docker daemon servers, you can skip the "Installing
registry certificates" step below.</p>
<h3 id="installing-registry-certificates-on-client-docker-daemons">Installing Registry certificates on client Docker daemons</h3>
<p>If your certificates do not have a trusted Certificate Authority, you will need
to install them on each client Docker daemon host.</p>
<p>The procedure for installing the DHE certificates on each Linux distribution has
slightly different steps, as shown below.</p>
<p>You can test this certificate using <code>curl</code>:</p>
<pre class="prettyprint well"><code>$ curl https://dhe.yourdomain.com/v2/
curl: (60) SSL certificate problem: self signed certificate
More details here: http://curl.haxx.se/docs/sslcerts.html

curl performs SSL certificate verification by default, using a &quot;bundle&quot;
 of Certificate Authority (CA) public keys (CA certs). If the default
 bundle file isn't adequate, you can specify an alternate file
 using the --cacert option.
If this HTTPS server uses a certificate signed by a CA represented in
 the bundle, the certificate verification probably failed due to a
 problem with the certificate (it might be expired, or the name might
 not match the domain name in the URL).
If you'd like to turn off curl's verification of the certificate, use
 the -k (or --insecure) option.

$ curl --cacert /usr/local/etc/dhe/ssl/server.pem https://dhe.yourdomain.com/v2/
{&quot;errors&quot;:[{&quot;code&quot;:&quot;UNAUTHORIZED&quot;,&quot;message&quot;:&quot;access to the requested resource is not authorized&quot;,&quot;detail&quot;:null}]}
</code></pre>

<p>Continue by following the steps corresponding to your chosen OS.</p>
<h4 id="ubuntudebian">Ubuntu/Debian</h4>
<pre class="prettyprint well"><code>    $ export DOMAIN_NAME=dhe.yourdomain.com
    $ openssl s_client -connect $DOMAIN_NAME:443 -showcerts &lt;/dev/null 2&gt;/dev/null | openssl x509 -outform PEM | sudo tee /usr/local/share/ca-certificates/$DOMAIN_NAME.crt
    $ sudo update-ca-certificates
    Updating certificates in /etc/ssl/certs... 1 added, 0 removed; done.
    Running hooks in /etc/ca-certificates/update.d....done.
    $ sudo service docker restart
    docker stop/waiting
    docker start/running, process 29291
</code></pre>

<h4 id="rhel">RHEL</h4>
<pre class="prettyprint well"><code>    $ export DOMAIN_NAME=dhe.yourdomain.com
    $ openssl s_client -connect $DOMAIN_NAME:443 -showcerts &lt;/dev/null 2&gt;/dev/null | openssl x509 -outform PEM | sudo tee /etc/pki/ca-trust/source/anchors/$DOMAIN_NAME.crt
    $ sudo update-ca-trust
    $ sudo /bin/systemctl restart docker.service
</code></pre>

<h4 id="boot2docker-160">Boot2Docker 1.6.0</h4>
<p>Install the CA cert (or the auto-generated cert) by adding the following to
your <code>/var/lib/boot2docker/bootsync.sh</code>:</p>
<pre class="prettyprint well"><code>#!/bin/sh

cat /var/lib/boot2docker/server.pem &gt;&gt; /etc/ssl/certs/ca-certificates.crt
</code></pre>

<p>Then get the certificate from the new DHE server using:</p>
<pre class="prettyprint well"><code>$ openssl s_client -connect dhe.yourdomain.com:443 -showcerts &lt;/dev/null 2&gt;/dev/null | openssl x509 -outform PEM | sudo tee -a /var/lib/boot2docker/server.pem
</code></pre>

<p>If your certificate chain is complicated, you may want to use the changes in
<a href="https://github.com/boot2docker/boot2docker/pull/807/files">Pull request 807</a></p>
<p>Now you can either reboot your Boot2Docker virtual machine, or run the following to
install the server certificate, and then restart the Docker daemon.</p>
<pre class="prettyprint well"><code>$ sudo chmod 755 /var/lib/boot2docker/bootsync.sh
$ sudo /var/lib/boot2docker/bootsync.sh
$ sudo /etc/init.d/docker restart`.
</code></pre>

<h3 id="if-you-cant-install-the-certificates">If you can't install the certificates</h3>
<p>If for some reason you can't install the certificate chain on a client Docker host,
or your certificates do not have a global CA, you can configure your Docker daemon to run in "insecure" mode. This is done by adding an extra flag,
<code>--insecure-registry host-ip|domain-name</code>, to your client Docker daemon startup flags.
You'll need to restart the Docker daemon for the change to take effect.</p>
<p>This flag means that the communications between your Docker client and the DHE
Registry server are still encrypted, but the client Docker daemon is not
confirming that the Registry connection is not being hijacked or diverted.</p>
<blockquote>
<p><strong>Note</strong>: If you enter a "Domain Name" into the "Security" settings, it needs
to be DNS resolvable on any client Docker daemons that are running in
"insecure-registry" mode.</p>
</blockquote>
<p>To set the flag, follow the directions below for your operating system.</p>
<h4 id="ubuntu">Ubuntu</h4>
<p>On Ubuntu 14.04 LTS, you customize the Docker daemon configuration with the
<code>/etc/defaults/docker</code> file.</p>
<p>Open or create the <code>/etc/defaults/docker</code> file, and add the
<code>--insecure-registry</code> flag to the <code>DOCKER_OPTS</code> setting (which may need to be
added or uncommented) as follows:</p>
<pre class="prettyprint well"><code>DOCKER_OPTS=&quot;--insecure-registry dhe.yourdomain.com&quot;
</code></pre>

<p>Then restart the Docker daemon with <code>sudo service docker restart</code>.</p>
<h4 id="rhel_1">RHEL</h4>
<p>On RHEL, you customize the Docker daemon configuration with the
<code>/etc/sysconfig/docker</code> file.</p>
<p>Open or create the <code>/etc/sysconfig/docker</code> file, and add the
<code>--insecure-registry</code> flag to the <code>OPTIONS</code> setting (which may need to be
added or uncommented) as follows:</p>
<pre class="prettyprint well"><code>OPTIONS=&quot;--insecure-registry dhe.yourdomain.com&quot;
</code></pre>

<p>Then restart the Docker daemon with <code>sudo service docker restart</code>.</p>
<h3 id="boot2docker">Boot2Docker</h3>
<p>On Boot2Docker, you customize the Docker daemon configuration with the
<code>/var/lib/boot2docker/profile</code> file.</p>
<p>Open or create the <code>/var/lib/boot2docker/profile</code> file, and add an <code>EXTRA_ARGS</code>
setting as follows:</p>
<pre class="prettyprint well"><code>EXTRA_ARGS=&quot;--insecure-registry dhe.yourdomain.com&quot;
</code></pre>

<p>Then restart the Docker daemon with <code>sudo /etc/init.d/docker restart</code>.</p>
<h2 id="image-storage-configuration">Image Storage Configuration</h2>
<p>DHE offers multiple methods for image storage, which are defined using specific
storage drivers. Image storage can be local, remote, or on a cloud service such
as S3. Storage drivers can be added or customized via the DHE storage driver
API.</p>
<p><img alt="Storage settings page&lt;/admin/settings#storage&gt;" src="../assets/admin-settings-storage.png" /></p>
<ul>
<li><em>Yaml configuration file</em>: This file (<code>/usr/local/etc/dhe/storage.yml</code>) is
used to configure the image storage services. The editable text of the file is
displayed in the dialog box. The schema of this file is identical to that used
by the <a href="http://docs.docker.com/registry/configuration/">Registry 2.0</a>.</li>
<li>If you are using the file system driver to provide local image storage, you will need to specify a root directory which will get mounted as a sub-path of
<code>/var/local/dhe/image-storage</code>. The default value of this root directory is
<code>/local</code>, so the full path to it is <code>/var/local/dhe/image-storage/local</code>.</li>
</ul>
<blockquote>
<p><strong>Note:</strong>
Saving changes you've made to settings will restart the Docker Hub Enterprise
instance. The restart may cause a brief interruption for users of the image
storage system.</p>
</blockquote>
<h2 id="authentication">Authentication</h2>
<p>The "Authentication" settings tab lets DHE administrators control access
to the DHE web admin tool and to the DHE Registry.</p>
<p>The current authentication methods are <code>None</code>, <code>Basic</code> and <code>LDAP</code>.</p>
<blockquote>
<p><strong>Note</strong>: if you have issues logging into the DHE admin web interface after changing the authentication
settings, you may need to use the <a href="/docker-hub-enterprise/adminguide/#Emergency-access-to-the-dhe-admin-web-interface">emergency access to the DHE admin web interface</a>.</p>
</blockquote>
<h3 id="no-authentication">No authentication</h3>
<p>No authentication means that everyone that can access your DHE web administration
site. This is not recommended for any use other than testing.</p>
<h3 id="basic-authentication">Basic authentication</h3>
<p>The <code>Basic</code> authentication setting allows the admin to provide username/password pairs local to DHE.
Any user who can successfully authenticate can use DHE to push and pull Docker images.
You can optionally filter the list of users to a subset of just those users with access to the DHE
admin web interface.</p>
<p><img alt="Basic authentication settings page&lt;/admin/settings#auth&gt;" src="../assets/admin-settings-authentication-basic.png" /></p>
<ul>
<li>A button to add one user, or to upload a CSV file containing username,
password pairs</li>
<li>A DHE website Administrator Filter, allowing you to either</li>
<li>
<ul>
<li><em>Allow all authenticated users</em>: to log into the DHE admin web interface, or</li>
</ul>
</li>
<li>
<ul>
<li><em>Whitelist usernames</em>: which allows you to restrict access to the web interface to a listed set of users.</li>
</ul>
</li>
</ul>
<h3 id="ldap-authentication">LDAP authentication</h3>
<p>Using LDAP authentication allows you to integrate your DHE registry into your
organization's existing user and authentication database.</p>
<p>As this involves existing infrastructure external to DHE and Docker, you will need to
gather the details required to configure DHE for your organization's particular LDAP
implementation.</p>
<p>You can test that you have the necessary LDAP server information by using it from
inside a Docker container running on the same server as your DHE:</p>
<blockquote>
<p><strong>Note</strong>: if the LDAP server is configured to use <em>StartTLS</em>, then you need to add <code>-Z</code> to the
<code>ldapsearch</code> command examples below.</p>
</blockquote>
<pre class="prettyprint well"><code>docker run --rm -it svendowideit/ldapsearch -h &lt;LDAP Server hostname&gt; -b &lt;User Base DN&gt; -D &lt;Search User DN&gt; -w &lt;Search User Password&gt;
</code></pre>

<p>or if the LDAP server is set up to allow anonymous access (which means your <em>Search User DN</em> and <em>Search User Password</em> settings can remain empty):</p>
<pre class="prettyprint well"><code>docker run --rm -it svendowideit/ldapsearch -h &lt;LDAP Server hostname&gt; -b &lt;User Base DN&gt; -x
</code></pre>

<p>The result of these queries should be a (very) long list - if you get an authentication error,
then the details you have been given are not sufficient.</p>
<p>The <em>User Login Attribute</em> key setting must match the field used in the LDAP server
for the user's login-name. On OpenLDAP, it's generally <code>uid</code>, and on Microsoft Active Directory
servers, it's <code>sAMAccountName</code>. The <code>ldapsearch</code> output above should allow you to
confirm which setting you need.</p>
<p><img alt="LDAP authentication settings page&lt;/admin/settings#auth&gt;" src="../assets/admin-settings-authentication-ldap.png" /></p>
<ul>
<li><em>Use StartTLS</em>: defaults to unchecked, check to enable StartTLS</li>
<li><em>LDAP Server URL</em>: <strong>required</strong> defaults to null, LDAP server URL (e.g., - ldap://example.com)</li>
<li><em>User Base DN</em>: <strong>required</strong> defaults to null, user base DN in the form (e.g., - dc=example,dc=com)</li>
<li><em>User Login Attribute</em>: <strong>required</strong> defaults to null, user login attribute (e.g., - uid or sAMAccountName)</li>
<li><em>Search User DN</em>: <strong>required</strong> defaults to null, search user DN (e.g., - domain\username)</li>
<li><em>Search User Password</em>: <strong>required</strong> defaults to null, search user password</li>
<li>A <em>DHE Registry User filter</em>: allowing you to either</li>
<li>
<ul>
<li><em>Allow all authenticated users</em> to push or pull any images, or</li>
</ul>
</li>
<li>
<ul>
<li><em>Filter LDAP search results</em>: which allows you to restrict DHE registry pull and push to users matching the LDAP filter,</li>
</ul>
</li>
<li>
<ul>
<li><em>Whitelist usernames</em>: which allows you to restrict DHE registry pull and push to the listed set of users.</li>
</ul>
</li>
<li>A <em>DHE website Administrator filter</em>, allowing you to either</li>
<li>
<ul>
<li><em>Allow all authenticated users</em>: to log into the DHE admin web interface, or</li>
</ul>
</li>
<li>
<ul>
<li><em>Filter LDAP search results</em>: which allows you to restrict DHE admin web access to users matching the LDAP filter,</li>
</ul>
</li>
<li>
<ul>
<li><em>Whitelist usernames</em>: which allows you to restrict access to the web interface to the listed set of users.</li>
</ul>
</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<p>For information on getting support for DHE, take a look at the
<a href="/docker-hub-enterprise/support/">Support information</a>.</p>

      </div>
    </div>
  </div>

  <div id="push-footer"></div>

</div>



<div id="footer-container" class="container">
  <div id="footer" class="grey-body">
    <div class="row">
      <div class="span2">
        <span class="footer-title">Community</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/community/events/">Events</a></li>
          <li><a class="primary-button" href="http://posts.docker.com">Friends' Posts</a></li>
          <li><a class="primary-button" href="https://www.docker.com/community/meetups/">Meetups</a></li>
          <li><a class="primary-button" href="https://www.docker.com/community/governance/">Governance</a></li>
          <li><a class="primary-button" href="http://forums.docker.com">Forums</a></li>
          <li><a class="primary-button" href="http://botbot.me/freenode/docker">IRC</a></li>
          <li><a class="primary-button" href="https://github.com/docker/docker">GitHub</a></li>
          <li><a class="primary-button" href="http://stackoverflow.com/search?q=docker">Stackoverflow</a></li>
          <li><a class="primary-button" href="http://www.cafepress.com/docker">Swag</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Enterprise</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/enterprise/support/">Support</a></li>
          <li><a class="primary-button" href="https://www.docker.com/enterprise/education/">Education</a></li>
          <li><a class="primary-button" href="https://www.docker.com/enterprise/services/">Services</a></li>
        </ul>
        <span class="footer-title">Partner Solutions</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/partners/find/">Find a Partner</a></li>
          <li><a class="primary-button" href="https://www.docker.com/partners/program/">Partner Program</a></li>
          <li><a class="primary-button" href="https://www.docker.com/partners/learn/">Learn More</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Resources</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://docs.docker.com">Documentation</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/help/">Help</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/usecases/">Use Cases</a></li>
          <li><a class="primary-button" href="http://www.docker.com/tryit/">Online Tutorial</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/howtobuy/">How To Buy</a></li>
          <li><a class="primary-button" href="http://status.docker.com">Status</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/security/">Security</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Company</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/company/aboutus/">About Us</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/team/">Team</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/news/">News</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/press/">Press</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/careers/">Careers</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/contact/">Contact</a></li>
        </ul>
      </div>
      <div class="span3">
        <span class="footer-title">Connect</span>
        <div class="search">
          <span>Subscribe to our newsletter</span>
          <form action="https://www.docker.com/subscribe_newsletter/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='aWL78QXQkY8DSKNYh6cl08p5eTLl7sOa' />
            <tr><th><label for="id_email">Email:</label></th><td><input class="form-control" id="id_email" name="email" placeholder="Enter your email" type="text" /></td></tr>
            
            <button type="submit"><i class="icon-arrow-right"></i> </button>
          </form>
        </div>
        <ul class="unstyled social">
          <li><a title="Docker on Twitter" class="primary-button blog" href="http://blog.docker.com">Blog</a></li>
          <li><a title="Docker on Twitter" class="primary-button twitter" href="http://twitter.com/docker">Twitter</a></li>
          <li><a title="Docker on Google+" class="primary-button googleplus" href="https://plus.google.com/u/0/communities/108146856671494713993">Google+</a></li>
          <li><a title="Docker on Facebook" class="primary-button facebook" href="https://www.facebook.com/docker.run">Facebook</a></li>
          <li><a title="Docker on Youtube" class="primary-button youtube" href="http://www.youtube.com/user/dockerrun">YouTube</a></li>
        </ul>
        <ul class="unstyled social">
          <li><a title="Docker on SlideShare" class="primary-button slideshare" href="http://www.slideshare.net/Docker">Slideshare</a></li>
          <li>
             <a title="Docker on LinkedIn" class="primary-button" href="https://www.linkedin.com/company/docker">
                 <span class="linkedin"></span>
                 LinkedIn
             </a>
          </li>
          <li>
              <a title="Docker on GitHub" class="primary-button" href="https://github.com/docker/">
                  <span class="github"></span>
                  GitHub
              </a>
          </li>
          <li>
              <a title="Docker on Reddit" class="primary-button" href="http://www.reddit.com/r/docker">
                  <span class="reddit"></span>
                  Reddit
              </a>
          </li>
          <li>
              <a title="Docker on AngelList" class="primary-button" href="https://angel.co/docker-inc-1">
                  <span class="angellist"></span>
                  AngelList
              </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="row clearfix">
      <div class="span6 pagination-right copyright">
        <span>&copy; 2014-2015 Docker, Inc.</span>
      </div>
      <div class="span6 pagination-left copyright">
        <a href="http://www.docker.com/legal/terms_of_service">Terms</a> &middot;
        <a href="http://www.docker.com/legal/privacy_policy">Privacy</a> &middot;
        <a href="http://www.docker.com/legal/trademark_guidelines">Trademarks</a>
      </div>
    </div>
  </div>
</div>

<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/jquery.cookie.js" ></script>
<script src="/js/jquery-scrolltofixed-min.js"></script>
<script src="/js/bootstrap-3.0.3.min.js"></script>
<script src="/js/prettify-1.0.min.js"></script>
<script src="/js/dockerfile_tutorial.js"></script>
<script src="/js/dockerfile_tutorial_level.js"></script>
<script src="/js/base.js"></script>
<script src="/tipuesearch/tipuesearch_set.js"></script>
<script src="/tipuesearch/tipuesearch.min.js"></script>
<script type="text/javascript">
piAId = '45082';
piCId = '1482';

(function() {
  function async_load(){
    var s = document.createElement('script'); s.type = 'text/javascript';
    s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
    var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
  }
  if(window.attachEvent) { window.attachEvent('onload', async_load); }
  else { window.addEventListener('load', async_load, false); }
})();
</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('#content').css("min-height", $(window).height() - 553 );
    // if the URL contains a version string, update the version picker to reflect that
    version = document.location.pathname.match(/^\/(v\d\.\d)\/.*/)
    if (version && version[1]) {
        $('#document-version-number')[0].text = 'Version '+version[1];
    } else {
        $('#document-version-number')[0].text = $('#document-version-number')[0].text + " (Latest)"
    }
    // load the complete versions list
    $.get("/versions.html_fragment", function( data ) {
    	$('#documentation-version-list').prepend(data);
	//remove any "/v1.1/" bits from front, so we can add the path to the version selection dropdown.
	path = document.location.pathname.replace(/^\/v\d\.\d/, "");
	$('#documentation-version-list a.version').each(function(i, e) {
		e.href = e.href+path;
		$(e).removeClass()
	});
    });

  })
  var userName = getCookie('docker_sso_username');
  if (userName) {
    $('.topmostnav_loggedout').hide();
    $('.topmostnav_loggedin').show();
    $('#logged-in-header-username').text(userName);
  } else {
    $('.topmostnav_loggedout').show();
    $('.topmostnav_loggedin').hide();
  }
</script>
</body>
</html>