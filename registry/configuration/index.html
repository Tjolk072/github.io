<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Explains how to configure a registry">
    <meta name="keywords" content="[registry, on-prem, images, tags, repository, distribution, configuration]">
    <title>Configuring a registry </title>
    <link rel="shortcut icon" href="../../images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/dist/assets/css/bootstrap-custom.css" />
<link rel="stylesheet" href="/dist/assets/css/app.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.6/animate.min.css">
    <link rel="stylesheet" href="../../css/custom.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/dist/assets/js/bootstrap-3.0.3.min.js"></script>
    <script src="../../dist/assets/js/modernizr.js"></script>
</head>
<body>
  <div class="off-canvas-wrap" data-offcanvas>
    <div class="inner-wrap">

      <a class="left-off-canvas-toggle" href="#" >
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve">
          <path fill="#3597D4" d="M30.583,9.328c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,7.966,30.583,8.576,30.583,9.328L30.583,9.328z"/>
          <path fill="#3597D4" d="M30.583,17.09c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,15.728,30.583,16.338,30.583,17.09L30.583,17.09z"/>
          <path fill="#3597D4" d="M30.583,24.387c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,23.025,30.583,23.635,30.583,24.387L30.583,24.387z"/>
        </svg>
      </a>
      <a class="button secondary small get-started-cta">Get Started</a>
      <header class="main-header">
        <div class="row">
          <div class="large-3 columns">
            <a href="../../"><img class="logo" src="../../dist/assets/images/logo.png"></a>
          </div>
          <div class="large-9 columns">
            <ul class="nav-global">
              <li><a href="https://www.docker.com/support">Support</a></li>
              <li><a href="https://training.docker.com/">Training</a></li>
              <li><a href="https://docs.docker.com/">Docs</a></li>
              <li><a href="http://blog.docker.com/">Blog</a></li>
              <li><a href="https://hub.docker.com/">Docker Hub</a></li>
              <li><a class="button" href="../../mac/started/">Get Started</a></li>
            </ul>
            <ul class="nav-main">
              <li><a href="https://www.docker.com/products">Products</a>
                <ul>
                  <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                  <li><a href="https://www.docker.com/whatisdocker">What is Docker?</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/customers">Customers</a></li>
              <li><a href="https://www.docker.com/community">Community</a>
                <ul>
                  <li><a href="https://www.docker.com/community/meetups">Meetups</a></li>
                  <li><a href="https://www.docker.com/community/events">Events</a></li>
                  <li><a href="https://forums.docker.com">Forums</a></li>
                  <li><a href="http://www.scoop.it/t/docker-by-docker">Community News</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/partners">Partners</a>
                <ul>
                  <li><a href="https://www.docker.com/partners/partner-programs">Partner Programs</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/company">Company</a>
                <ul>
                  <li><a href="https://www.docker.com/news-and-press">News &amp; Press</a></li>
                  <li><a href="https://www.docker.com/work-docker">Work at Docker</a></li>
                  <li><a href="https://www.docker.com/company/management">Management</a></li>
                  <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/open-source">Open Source</a>
                <ul>
                  <li><a href="https://www.docker.com/contribute">Contribute</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </header>

      
      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li class="has-submenu"><a href="#">Products</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Pricing</a></li>
              <li><a href="#">What Is Docker</a></li>
              <li><a href="#">Products</a></li>
              <li><a href="#">Docker Engine</a></li>
              <li><a href="#">Docker Hub</a></li>
              <li><a href="#">Docker Registry</a></li>
              <li><a href="#">Docker Machine</a></li>
              <li><a href="#">Docker Swarm</a></li>
              <li><a href="#">Docker Compose</a></li>
              <li><a href="#">Kitematic</a></li>
            </ul>
          </li>
          <li><a href="#">Customers</a></li>
          <li class="has-submenu"><a href="#">Community</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Community</a></li>
              <li><a href="#">Meetups</a></li>
              <li><a href="https://www.docker.com/community/events">Events</a></li>
              <li><a href="#">Forum</a></li>
              <li><a href="#">Scoop.it</a></li>
            </ul>
          </li>
          <li class="has-submenu"><a href="#">Partners</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Partners</a></li>
              <li><a href="https://www.docker.com/partners/partner-programs">Partners Programs</a></li>
            </ul>
          </li>
          <li><a href="#">Company</a></li>
          <li class="has-submenu"><a href="#">Open Source</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Open Source</a></li>
              <li><a href="#">Contribute</a></li>
              <li><a href="#">Governance</a></li>
            </ul>
          </li>
        </ul>
        <ul class="nav-global-off-canvas">
          <li><a href="#">Support</a></li>
          <li><a href="#">Training</a></li>
          <li><a href="#">Docs</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Sign in</a></li>
          <li><a href="#">Sign up</a></li>
        </ul>
      </aside>
      
      <a class="exit-off-canvas"></a>

<div id="docs" class="row">
    <div class="large-3 columns">
        <section id="multiple" data-accordion-group>
  
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Install</button>
          <div data-content>
            
              
                <article data-accordion>
                  <button data-control> Docker Engine</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/installation/mac/" class=""> Installation on Mac OS X</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/installation/windows/" class=""> Installation on Windows</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Linux</button>
                          <div data-content>
                            
                                <a data-link href="../../engine/installation/ubuntulinux/" class=""> Installation on Ubuntu </a>
                            
                                <a data-link href="../../engine/installation/rhel/" class=""> Installation on Red Hat Enterprise Linux</a>
                            
                                <a data-link href="../../engine/installation/centos/" class=""> Installation on CentOS</a>
                            
                                <a data-link href="../../engine/installation/fedora/" class=""> Installation on Fedora</a>
                            
                                <a data-link href="../../engine/installation/debian/" class=""> Installation on Debian</a>
                            
                                <a data-link href="../../engine/installation/archlinux/" class=""> Installation on Arch Linux</a>
                            
                                <a data-link href="../../engine/installation/cruxlinux/" class=""> Installation on CRUX Linux</a>
                            
                                <a data-link href="../../engine/installation/frugalware/" class=""> Installation on FrugalWare</a>
                            
                                <a data-link href="../../engine/installation/gentoolinux/" class=""> Installation on Gentoo</a>
                            
                                <a data-link href="../../engine/installation/oracle/" class=""> Installation on Oracle Linux</a>
                            
                                <a data-link href="../../engine/installation/SUSE/" class=""> Installation on openSUSE and SUSE Linux Enterprise</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Cloud</button>
                          <div data-content>
                            
                                <a data-link href="../../engine/installation/amazon/" class=""> Amazon EC2 Installation</a>
                            
                                <a data-link href="../../engine/installation/google/" class=""> Installation on Google Cloud Platform</a>
                            
                                <a data-link href="../../engine/installation/softlayer/" class=""> Installation on IBM SoftLayer </a>
                            
                                <a data-link href="../../engine/installation/azure/" class=""> Installation on Microsoft Azure platform</a>
                            
                                <a data-link href="../../engine/installation/rackspace/" class=""> Installation on Rackspace Cloud</a>
                            
                                <a data-link href="../../engine/installation/joyent/" class=""> Joyent Triton Elastic Container Service</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../engine/installation/binaries/" class=""> Installation from binaries</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../kitematic/" class=""> Kitematic</a>
              
            
              
                <a data-link href="../../machine/install-machine/" class=""> Docker Machine</a>
              
            
              
                <a data-link href="../../compose/install/" class=""> Docker Compose</a>
              
            
              
                <a data-link href="../../swarm/install-w-machine/" class=""> Docker Swarm</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Fundamentals</button>
          <div data-content>
            
              
                <a data-link href="../../engine/userguide/basics/" class=""> Quickstart containers</a>
              
            
              
                <a data-link href="../../engine/userguide/" class=""> The Docker user guide</a>
              
            
              
                <article data-accordion>
                  <button data-control> Work with Docker Images</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/articles/dockerfile_best-practices/" class=""> Best practices for writing Dockerfiles</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/articles/baseimages/" class=""> Create a base image</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Work with Docker Containers</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/userguide/dockerizing/" class=""> Hello world in a container</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/usingdocker/" class=""> Run a simple application</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/dockerimages/" class=""> Build your own images</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/networkingcontainers/" class=""> Networking containers</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/dockervolumes/" class=""> Manage data in containers</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/dockerrepos/" class=""> Store images on Docker Hub</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker on Windows &amp; OSX</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/articles/dsc/" class=""> PowerShell DSC Usage</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Use the Kitematic GUI</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../kitematic/userguide/" class=""> Kitematic User Guide: Intro &amp; Overview</a>
                      
                      
                    
                      
                        <a data-link href="../../kitematic/nginx-web-server/" class=""> Set up an Nginx web server</a>
                      
                      
                    
                      
                        <a data-link href="../../kitematic/minecraft-server/" class=""> Set up a Minecraft Server</a>
                      
                      
                    
                      
                        <a data-link href="../../kitematic/rethinkdb-dev-database/" class=""> Creating a Local RethinkDB Database for Development</a>
                      
                      
                    
                      
                        <a data-link href="../../kitematic/known-issues/" class=""> Known Issues</a>
                      
                      
                    
                  </div>
                </article>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Use Docker</button>
          <div data-content>
            
              
                <a data-link href="../../engine/misc/" class=""> About Docker</a>
              
            
              
                <a data-link href="../../engine/userguide/labels-custom-metadata/" class=""> Apply custom metadata</a>
              
            
              
                <a data-link href="../../engine/misc/deprecated/" class=""> Docker Deprecated Features</a>
              
            
              
                <a data-link href="../../engine/introduction/understanding-docker/" class=""> Understand the architecture</a>
              
            
              
                <article data-accordion>
                  <button data-control> Provision &amp; set up Docker hosts</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../machine/" class=""> Overview of Docker Machine</a>
                      
                      
                    
                      
                        <a data-link href="../../machine/get-started/" class=""> Get started with Docker Machine and a local VM</a>
                      
                      
                    
                      
                        <a data-link href="../../machine/get-started-cloud/" class=""> Using Docker Machine with a cloud provider</a>
                      
                      
                    
                      
                        <a data-link href="../../machine/migrate-to-machine/" class=""> Migrate from Boot2Docker to Docker Machine</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Create multi-container applications</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../compose/" class=""> Overview of Docker Compose</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/production/" class=""> Using Compose in production</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/extends/" class=""> Extending services in Compose</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/gettingstarted/" class=""> Getting Started</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/django/" class=""> Quickstart Guide: Compose and Django</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/rails/" class=""> Quickstart Guide: Compose and Rails</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/networking/" class=""> Networking in Compose</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/wordpress/" class=""> Quickstart Guide: Compose and WordPress</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/faq/" class=""> Frequently Asked Questions</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/completion/" class=""> Command-line Completion</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Cluster Docker containers</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../swarm/" class=""> Docker Swarm</a>
                      
                      
                    
                      
                        <a data-link href="../../swarm/scheduler/" class=""> Docker Swarm Scheduling</a>
                      
                      
                    
                      
                        <a data-link href="../../swarm/install-manual/" class=""> Create a swarm for development</a>
                      
                      
                    
                      
                        <a data-link href="../../swarm/multi-manager-setup/" class=""> High availability in Docker Swarm</a>
                      
                      
                    
                      
                        <a data-link href="../../swarm/networking/" class=""> Docker Swarm Networking</a>
                      
                      
                    
                      
                        <a data-link href="../../swarm/discovery/" class=""> Docker Swarm discovery</a>
                      
                      
                    
                      
                        <a data-link href="../../swarm/scheduler/filter/" class=""> Docker Swarm filters</a>
                      
                      
                    
                      
                        <a data-link href="../../swarm/scheduler/strategy/" class=""> Docker Swarm strategies</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Administrate Docker</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/articles/host_integration/" class=""> Automatically start containers</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/articles/security/" class=""> Docker security</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/articles/configuring/" class=""> Configuring and running Docker</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/articles/runmetrics/" class=""> Runtime metrics</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/articles/https/" class=""> Protect the Docker daemon socket</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/articles/ambassador_pattern_linking/" class=""> Link via an ambassador container</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/articles/systemd/" class=""> Control and configure Docker with systemd</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Logging</button>
                          <div data-content>
                            
                                <a data-link href="../../engine/reference/logging/overview/" class=""> Configuring Logging Drivers</a>
                            
                                <a data-link href="../../engine/reference/logging/awslogs/" class=""> Amazon CloudWatch Logs logging driver</a>
                            
                                <a data-link href="../../engine/reference/logging/log_tags/" class=""> Log tags for logging driver</a>
                            
                                <a data-link href="../../engine/reference/logging/fluentd/" class=""> Fluentd logging driver</a>
                            
                                <a data-link href="../../engine/reference/logging/journald/" class=""> journald logging driver</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Applications and Services</button>
                          <div data-content>
                            
                                <a data-link href="../../engine/examples/running_riak_service/" class=""> Dockerizing a Riak service</a>
                            
                                <a data-link href="../../engine/examples/running_ssh_service/" class=""> Dockerizing an SSH service</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Integrate with Third-party Tools</button>
                          <div data-content>
                            
                                <a data-link href="../../engine/articles/cfengine_process_management/" class=""> Process management with CFEngine</a>
                            
                                <a data-link href="../../engine/articles/chef/" class=""> Using Chef</a>
                            
                                <a data-link href="../../engine/articles/puppet/" class=""> Using Puppet</a>
                            
                                <a data-link href="../../engine/articles/using_supervisord/" class=""> Using Supervisor with Docker</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker storage drivers</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/userguide/storagedriver/imagesandcontainers/" class=""> Understand images, containers, and storage drivers</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/storagedriver/selectadriver/" class=""> Select a storage driver</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/storagedriver/aufs-driver/" class=""> AUFS storage driver in practice</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/storagedriver/btrfs-driver/" class=""> Btrfs storage in practice</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/storagedriver/device-mapper-driver/" class=""> Device mapper storage in practice</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/storagedriver/overlayfs-driver/" class=""> OverlayFS storage in practice</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/storagedriver/zfs-driver/" class=""> ZFS storage in practice</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Network configuration</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/userguide/networking/dockernetworks/" class=""> Docker container networking</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/networking/work-with-networks/" class=""> Work with network commands</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/userguide/networking/get-started-overlay/" class=""> Get started with multi-host networking</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Default bridge network</button>
                          <div data-content>
                            
                                <a data-link href="../../engine/userguide/networking/default_network/dockerlinks/" class=""> Legacy container links</a>
                            
                                <a data-link href="../../engine/userguide/networking/default_network/binding/" class=""> Bind container ports to the host</a>
                            
                                <a data-link href="../../engine/userguide/networking/default_network/build-bridges/" class=""> Build your own bridge</a>
                            
                                <a data-link href="../../engine/userguide/networking/default_network/configure-dns/" class=""> Configure container DNS</a>
                            
                                <a data-link href="../../engine/userguide/networking/default_network/custom-docker0/" class=""> Customize the docker0 bridge</a>
                            
                                <a data-link href="../../engine/userguide/networking/default_network/container-communication/" class=""> Understand container communication</a>
                            
                                <a data-link href="../../engine/userguide/networking/default_network/ipv6/" class=""> IPv6 with Docker</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Applied Docker</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/examples/mongodb/" class=""> Dockerizing MongoDB</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/examples/postgresql_service/" class=""> Dockerizing PostgreSQL</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/examples/couchdb_data_volumes/" class=""> Dockerizing a CouchDB service</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/examples/nodejs_web_app/" class=""> Dockerizing a Node.js web app</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/examples/running_redis_service/" class=""> Dockerizing a Redis service</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/examples/apt-cacher-ng/" class=""> Dockerizing an apt-cacher-ng service</a>
                      
                      
                    
                  </div>
                </article>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Manage image repositories</button>
          <div data-content>
            
              
                <a data-link href="../../engine/userguide/image_management/" class=""> Image management</a>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Hub</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../docker-hub/" class=""> Introducing Docker Hub</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/accounts/" class=""> Your Docker Hub account</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/repos/" class=""> Repositories on Docker Hub</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/builds/" class=""> Automated Builds</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/webhooks/" class=""> Webhooks for automated builds</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/bitbucket/" class=""> Automated Builds with Bitbucket</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/github/" class=""> Automated Builds from GitHub</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/orgs/" class=""> Teams &amp; Organizations</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-hub/official_repos/" class=""> Official Repositories on Docker Hub</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Trusted Registry</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../docker-trusted-registry/" class=""> Overview</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Installation</button>
                          <div data-content>
                            
                                <a data-link href="../../docker-trusted-registry/install/dtr-ami-byol-launch/" class=""> Install Docker Subscription for AWS (BYOL))</a>
                            
                                <a data-link href="../../docker-trusted-registry/install/engine-ami-launch/" class=""> Install Docker Engine for AWS AMI (BDS)</a>
                            
                                <a data-link href="../../docker-trusted-registry/install/dtr-ami-bds-launch/" class=""> Install Trusted Registry for AWS AMI (BDS)</a>
                            
                                <a data-link href="../../docker-trusted-registry/install/dtr-vhd-azure/" class=""> Install on Microsoft Azure</a>
                            
                                <a data-link href="../../docker-trusted-registry/install/install-csengine/" class=""> Manually Install the CS Docker Engine</a>
                            
                                <a data-link href="../../docker-trusted-registry/install/install-dtr/" class=""> Manually install Trusted Registry</a>
                            
                                <a data-link href="../../docker-trusted-registry/install/upgrade/" class=""> Upgrade Trusted Registry and the CS Engine</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/quick-start/" class=""> Quick-start: Basic Workflow</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/userguide/" class=""> User guide</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/adminguide/" class=""> Admin tasks</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/configuration/" class=""> Configuration options</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/license/" class=""> Trusted Registry License</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/accounts/" class=""> Account and repository management</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/soft-garbage/" class=""> Remove an image and garbage collection</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> DTR APIs</button>
                          <div data-content>
                            
                                <a data-link href="../../apidocs/v1.3.3/" class=""> v1.3.3 API</a>
                            
                                <a data-link href="../../apidocs/v1.4.0/" class=""> v1.4.0 API</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/support/" class=""> Support</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/release-notes/" class=""> Release notes</a>
                      
                      
                    
                      
                        <a data-link href="../../docker-trusted-registry/prior-release-notes/" class=""> Prior release notes archive</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Registry</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../registry/" class=""> Docker Registry</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/introduction/" class=""> Understanding the Registry</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/deploying/" class=""> Deploying a registry server</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/configuration/" class=" active"> Configuring a registry</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/notifications/" class=""> Working with notifications</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/help/" class=""> Getting help</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Use trusted images</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/security/trust/content_trust/" class=""> Content trust in Docker</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/security/trust/trust_automation/" class=""> Automation with content trust</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/security/trust/deploying_notary/" class=""> Deploying Notary</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/security/trust/trust_key_mng/" class=""> Manage keys for content trust</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/security/trust/trust_sandbox/" class=""> Play in a content trust sandbox</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../engine/articles/certificates/" class=""> Using certificates for repository client verification</a>
              
            
              
                <a data-link href="../../engine/articles/registry_mirror/" class=""> Run a local registry mirror</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Extend Docker</button>
          <div data-content>
            
              
                <a data-link href="../../engine/extend/plugins/" class=""> Extending Docker with plugins</a>
              
            
              
                <a data-link href="../../engine/extend/plugins_network/" class=""> Docker network driver plugins</a>
              
            
              
                <a data-link href="../../engine/extend/plugins_volume/" class=""> Volume plugins</a>
              
            
              
                <a data-link href="../../engine/extend/plugin_api/" class=""> Plugins API</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Command and API references</button>
          <div data-content>
            
              
                <article data-accordion>
                  <button data-control> Docker Engine Commands</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/reference/commandline/cli/" class=""> Use the Docker command line</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/daemon/" class=""> daemon</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/attach/" class=""> attach</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/build/" class=""> build</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/commit/" class=""> commit</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/cp/" class=""> cp</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/create/" class=""> create</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/diff/" class=""> diff</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/events/" class=""> events</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/exec/" class=""> exec</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/export/" class=""> export</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/history/" class=""> history</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/images/" class=""> images</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/import/" class=""> import</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/info/" class=""> info</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/inspect/" class=""> inspect</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/kill/" class=""> kill</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/load/" class=""> load</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/login/" class=""> login</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/logout/" class=""> logout</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/logs/" class=""> logs</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/network_connect/" class=""> network connect</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/network_create/" class=""> network create</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/network_disconnect/" class=""> network disconnect</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/network_inspect/" class=""> network inspect</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/network_ls/" class=""> network ls</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/network_rm/" class=""> network rm</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/pause/" class=""> pause</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/port/" class=""> port</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/ps/" class=""> ps</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/pull/" class=""> pull</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/push/" class=""> push</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/rename/" class=""> rename</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/restart/" class=""> restart</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/rm/" class=""> rm</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/rmi/" class=""> rmi</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/run/" class=""> run</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/save/" class=""> save</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/search/" class=""> search</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/start/" class=""> start</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/stats/" class=""> stats</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/stop/" class=""> stop</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/tag/" class=""> tag</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/top/" class=""> top</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/unpause/" class=""> unpause</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/version/" class=""> version</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/volume_create/" class=""> volume create</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/volume_inspect/" class=""> volume inspect</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/volume_ls/" class=""> volume ls</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/volume_rm/" class=""> volume rm</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/commandline/wait/" class=""> wait</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../engine/reference/run/" class=""> Docker run reference</a>
              
            
              
                <a data-link href="../../engine/reference/builder/" class=""> Dockerfile reference</a>
              
            
              
                <a data-link href="../../engine/reference/api/remote_api_client_libraries/" class=""> Remote API client libraries</a>
              
            
              
                <a data-link href="../../engine/reference/api/docker_io_accounts_api/" class=""> docker.io accounts API</a>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Remote API</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api/" class=""> Remote API</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.21/" class=""> Remote API v1.21</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.20/" class=""> Remote API v1.20</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.19/" class=""> Remote API v1.19</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.18/" class=""> Remote API v1.18</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.17/" class=""> Remote API v1.17</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.16/" class=""> Remote API v1.16</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.15/" class=""> Remote API v1.15</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker_remote_api_v1.14/" class=""> Remote API v1.14</a>
                      
                      
                    
                      
                        <a data-link href="../../engine/reference/api/docker-io_api/" class=""> Docker Hub API</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Hub</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../engine/reference/api/hub_registry_spec/" class=""> The Docker Hub and the Registry v1</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Compose Reference</button>
                  <div data-content>
                    
                      
                        <article data-accordion>
                          <button data-control> Compose CLI reference</button>
                          <div data-content>
                            
                                <a data-link href="../../compose/reference/overview/" class=""> Introduction to the CLI</a>
                            
                                <a data-link href="../../compose/reference/docker-compose/" class=""> docker-compose</a>
                            
                                <a data-link href="../../compose/reference/build/" class=""> build</a>
                            
                                <a data-link href="../../compose/reference/help/" class=""> help</a>
                            
                                <a data-link href="../../compose/reference/kill/" class=""> kill</a>
                            
                                <a data-link href="../../compose/reference/logs/" class=""> logs</a>
                            
                                <a data-link href="../../compose/reference/pause/" class=""> pause</a>
                            
                                <a data-link href="../../compose/reference/port/" class=""> port</a>
                            
                                <a data-link href="../../compose/reference/ps/" class=""> ps</a>
                            
                                <a data-link href="../../compose/reference/pull/" class=""> pull</a>
                            
                                <a data-link href="../../compose/reference/restart/" class=""> restart</a>
                            
                                <a data-link href="../../compose/reference/rm/" class=""> rm</a>
                            
                                <a data-link href="../../compose/reference/run/" class=""> run</a>
                            
                                <a data-link href="../../compose/reference/scale/" class=""> scale</a>
                            
                                <a data-link href="../../compose/reference/start/" class=""> start</a>
                            
                                <a data-link href="../../compose/reference/stop/" class=""> stop</a>
                            
                                <a data-link href="../../compose/reference/unpause/" class=""> unpause</a>
                            
                                <a data-link href="../../compose/reference/up/" class=""> up</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../compose/compose-file/" class=""> Compose file reference</a>
                      
                      
                    
                      
                        <a data-link href="../../compose/env/" class=""> Compose environment variables reference</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Machine Reference</button>
                  <div data-content>
                    
                      
                        <article data-accordion>
                          <button data-control> Drivers</button>
                          <div data-content>
                            
                                <a data-link href="../../machine/drivers/os-base/" class=""> Driver options and operating system defaults</a>
                            
                                <a data-link href="../../machine/drivers/aws/" class=""> Amazon Web Services</a>
                            
                                <a data-link href="../../machine/drivers/digital-ocean/" class=""> Digital Ocean</a>
                            
                                <a data-link href="../../machine/drivers/generic/" class=""> Generic</a>
                            
                                <a data-link href="../../machine/drivers/gce/" class=""> Google Compute Engine</a>
                            
                                <a data-link href="../../machine/drivers/soft-layer/" class=""> IBM Softlayer</a>
                            
                                <a data-link href="../../machine/drivers/azure/" class=""> Microsoft Azure</a>
                            
                                <a data-link href="../../machine/drivers/hyper-v/" class=""> Microsoft Hyper-V</a>
                            
                                <a data-link href="../../machine/drivers/openstack/" class=""> OpenStack</a>
                            
                                <a data-link href="../../machine/drivers/virtualbox/" class=""> Oracle VirtualBox</a>
                            
                                <a data-link href="../../machine/drivers/rackspace/" class=""> Rackspace</a>
                            
                                <a data-link href="../../machine/drivers/vm-fusion/" class=""> VMware Fusion</a>
                            
                                <a data-link href="../../machine/drivers/vm-cloud/" class=""> VMware vCloud Air</a>
                            
                                <a data-link href="../../machine/drivers/vsphere/" class=""> VMware vSphere</a>
                            
                                <a data-link href="../../machine/drivers/exoscale/" class=""> exoscale</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Subcommands</button>
                          <div data-content>
                            
                                <a data-link href="../../machine/reference/active/" class=""> active</a>
                            
                                <a data-link href="../../machine/reference/config/" class=""> config</a>
                            
                                <a data-link href="../../machine/reference/create/" class=""> create</a>
                            
                                <a data-link href="../../machine/reference/env/" class=""> env</a>
                            
                                <a data-link href="../../machine/reference/help/" class=""> help</a>
                            
                                <a data-link href="../../machine/reference/inspect/" class=""> inspect</a>
                            
                                <a data-link href="../../machine/reference/ip/" class=""> ip</a>
                            
                                <a data-link href="../../machine/reference/kill/" class=""> kill</a>
                            
                                <a data-link href="../../machine/reference/ls/" class=""> ls</a>
                            
                                <a data-link href="../../machine/reference/regenerate-certs/" class=""> regenerate-certs</a>
                            
                                <a data-link href="../../machine/reference/restart/" class=""> restart</a>
                            
                                <a data-link href="../../machine/reference/rm/" class=""> rm</a>
                            
                                <a data-link href="../../machine/reference/scp/" class=""> scp</a>
                            
                                <a data-link href="../../machine/reference/ssh/" class=""> ssh</a>
                            
                                <a data-link href="../../machine/reference/start/" class=""> start</a>
                            
                                <a data-link href="../../machine/reference/status/" class=""> status</a>
                            
                                <a data-link href="../../machine/reference/stop/" class=""> stop</a>
                            
                                <a data-link href="../../machine/reference/upgrade/" class=""> upgrade</a>
                            
                                <a data-link href="../../machine/reference/url/" class=""> url</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Swarm Reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../swarm/api/swarm-api/" class=""> Docker Swarm API</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Registry Reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../registry/spec/api/" class=""> HTTP API V2</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/storagedrivers/" class=""> Storage Drivers</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/spec/auth/jwt/" class=""> Token Authentication Implementation</a>
                      
                      
                    
                      
                        <a data-link href="../../registry/spec/auth/token/" class=""> Token Authentication Specification</a>
                      
                      
                    
                  </div>
                </article>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Open Source at Docker</button>
          <div data-content>
            
              
                <a data-link href="../../opensource/code/" class=""> Quickstart contribution</a>
              
            
              
                <article data-accordion>
                  <button data-control> Set up for Engine Development</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../opensource/project/who-written-for/" class=""> README first</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/project/software-required/" class=""> Get the required software</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/project/software-req-win/" class=""> Set up for development on Windows</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/project/set-up-git/" class=""> Configure Git for contributing</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/project/set-up-dev-env/" class=""> Work with a development container</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/project/test-and-docs/" class=""> Run tests and test documentation</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Contribution workflow</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../opensource/workflow/make-a-contribution/" class=""> Understand how to contribute</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/workflow/find-an-issue/" class=""> Find and claim an issue</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/workflow/work-issue/" class=""> Work on your issue</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/workflow/review-pr/" class=""> Participate in the PR review</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/workflow/advanced-contributing/" class=""> Advanced contributing</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/workflow/coding-style/" class=""> Coding style checklist</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Other ways to contribute</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../opensource/ways/meetups/" class=""> Organize a Docker Meetup</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/ways/issues/" class=""> Organize our issues</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/ways/community/" class=""> Support the community</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/ways/test/" class=""> Testing contributions</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Contribute to Kitematic</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../opensource/kitematic/get_started/" class=""> Get started</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/kitematic/find_issue/" class=""> Find an issue</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/kitematic/set_up_dev/" class=""> Set up for Kitematic development</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/kitematic/work_issue/" class=""> Develop in Kitematic (work on an issue)</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/kitematic/create_pr/" class=""> Create a pull request (PR)</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/kitematic/next_steps/" class=""> Where to learn more</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Governance</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../opensource/governance/dgab-info/" class=""> Docker Governance Advisory Board</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/governance/board-profiles/" class=""> Board member profiles</a>
                      
                      
                    
                      
                        <a data-link href="../../opensource/governance/conduct-code/" class=""> Code of conduct</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../opensource/FAQ/" class=""> FAQ for contributors</a>
              
            
              
                <a data-link href="../../opensource/get-help/" class=""> Where to chat or get help</a>
              
            
              
                <a data-link href="../../opensource/doc-style/" class=""> Style guide for Docker documentation</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> About</button>
          <div data-content>
            
              
                <a data-link href="../../release-notes/" class=""> Docker Release Notes</a>
              
            
              
                <a data-link href="../../engine/misc/faq/" class=""> FAQ</a>
              
            
              
                <a data-link href="../../engine/reference/glossary/" class=""> Docker Glossary</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button style="visibility: hidden" data-control> Docs archive</button>
          <div data-content>
            
              
                <a data-link href="https://docs.docker.com/v1.8/" class=""> Version 1.8</a>
              
            
              
                <a data-link href="https://docs.docker.com/v1.7/" class=""> Version 1.7</a>
              
            
              
                <a data-link href="https://docs.docker.com/v1.6/" class=""> Version 1.6</a>
              
            
              
                <a data-link href="https://docs.docker.com/v1.5/" class=""> Version 1.5</a>
              
            
              
                <a data-link href="https://docs.docker.com/v1.4/" class=""> Version 1.4</a>
              
            
          </div>
        </article>
       
    </section>
  
</section>

<script>
$(document).ready(function () {
  var $activeLink = $('#multiple [data-link].active');
  var $accordions = $activeLink.parents('article[data-accordion]');
  $($accordions.get().reverse()).each(function (index, accordion) {
    var $accordion = $(accordion);
    var $content = $accordion.find('[data-content]');
    $accordion.addClass('open');
    $content.css({'max-height': '100%'});
  });
});
</script>

    </div>
    <div class="large-6 columns">
      <section id="main">
        <article id="content">
          

<h1 id="registry-configuration-reference">Registry Configuration Reference</h1>

<p>The Registry configuration is based on a YAML file, detailed below. While it comes with sane default values out of the box, you are heavily encouraged to review it exhaustively before moving your systems to production.</p>

<h2 id="override-specific-configuration-options">Override specific configuration options</h2>

<p>In a typical setup where you run your Registry from the official image, you can specify a configuration variable from the environment by passing <code>-e</code> arguments to your <code>docker run</code> stanza, or from within a Dockerfile using the <code>ENV</code> instruction.</p>

<p>To override a configuration option, create an environment variable named
<code>REGISTRY_variable</code> where *<code>variable</code>* is the name of the configuration option
and the <code>_</code> (underscore) represents indention levels. For example, you can
configure the <code>rootdirectory</code> of the <code>filesystem</code> storage backend:</p>

<pre><code>storage:
  filesystem:
    rootdirectory: /var/lib/registry
</code></pre>

<p>To override this value, set an environment variable like this:</p>

<pre><code>REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/somewhere
</code></pre>

<p>This variable overrides the <code>/var/lib/registry</code> value to the <code>/somewhere</code>
directory.</p>

<blockquote>
<p><strong>NOTE</strong>: It is highly recommended to create a base configuration file with which environment variables can be used to tweak individual values.  Overriding configuration sections with environment variables is not recommended.</p>
</blockquote>

<h2 id="overriding-the-entire-configuration-file">Overriding the entire configuration file</h2>

<p>If the default configuration is not a sound basis for your usage, or if you are having issues overriding keys from the environment, you can specify an alternate YAML configuration file by mounting it as a volume in the container.</p>

<p>Typically, create a new configuration file from scratch, and call it <code>config.yml</code>, then:</p>

<pre><code>docker run -d -p 5000:5000 --restart=always --name registry \
  -v `pwd`/config.yml:/etc/docker/registry/config.yml \
  registry:2
</code></pre>

<p>You can (and probably should) use <a href="https://github.com/docker/distribution/blob/master/cmd/registry/config-example.yml">this as a starting point</a>.</p>

<h2 id="list-of-configuration-options">List of configuration options</h2>

<p>This section lists all the registry configuration options. Some options in
the list are mutually exclusive. So, make sure to read the detailed reference
information about each option that appears later in this page.</p>

<pre><code>version: 0.1
log:
  level: debug
  formatter: text
  fields:
    service: registry
    environment: staging
  hooks:
    - type: mail
      disabled: true
      levels:
        - panic
      options:
        smtp:
          addr: mail.example.com:25
          username: mailuser
          password: password
          insecure: true
        from: sender@example.com
        to:
          - errors@example.com
loglevel: debug # deprecated: use &quot;log&quot;
storage:
  filesystem:
    rootdirectory: /var/lib/registry
  azure:
    accountname: accountname
    accountkey: base64encodedaccountkey
    container: containername
  gcs:
    bucket: bucketname
    keyfile: /path/to/keyfile
    rootdirectory: /gcs/object/name/prefix
  s3:
    accesskey: awsaccesskey
    secretkey: awssecretkey
    region: us-west-1
    bucket: bucketname
    encrypt: true
    secure: true
    v4auth: true
    chunksize: 5242880
    rootdirectory: /s3/object/name/prefix
  rados:
    poolname: radospool
    username: radosuser
    chunksize: 4194304
  swift:
    username: username
    password: password
    authurl: https://storage.myprovider.com/auth/v1.0 or https://storage.myprovider.com/v2.0 or https://storage.myprovider.com/v3/auth
    tenant: tenantname
    tenantid: tenantid
    domain: domain name for Openstack Identity v3 API
    domainid: domain id for Openstack Identity v3 API
    insecureskipverify: true
    region: fr
    container: containername
    rootdirectory: /swift/object/name/prefix
  delete:
    enabled: false
  redirect:
    disable: false
  cache:
    blobdescriptor: redis
  maintenance:
    uploadpurging:
      enabled: true
      age: 168h
      interval: 24h
      dryrun: false
    readonly:
      enabled: false
auth:
  silly:
    realm: silly-realm
    service: silly-service
  token:
    realm: token-realm
    service: token-service
    issuer: registry-token-issuer
    rootcertbundle: /root/certs/bundle
  htpasswd:
    realm: basic-realm
    path: /path/to/htpasswd
middleware:
  registry:
    - name: ARegistryMiddleware
      options:
        foo: bar
  repository:
    - name: ARepositoryMiddleware
      options:
        foo: bar
  storage:
    - name: cloudfront
      options:
        baseurl: https://my.cloudfronted.domain.com/
        privatekey: /path/to/pem
        keypairid: cloudfrontkeypairid
        duration: 3000
reporting:
  bugsnag:
    apikey: bugsnagapikey
    releasestage: bugsnagreleasestage
    endpoint: bugsnagendpoint
  newrelic:
    licensekey: newreliclicensekey
    name: newrelicname
    verbose: true
http:
  addr: localhost:5000
  prefix: /my/nested/registry/
  host: https://myregistryaddress.org:5000
  secret: asecretforlocaldevelopment
  tls:
    certificate: /path/to/x509/public
    key: /path/to/x509/private
    clientcas:
      - /path/to/ca.pem
      - /path/to/another/ca.pem
  debug:
    addr: localhost:5001
  headers:
    X-Content-Type-Options: [nosniff]
notifications:
  endpoints:
    - name: alistener
      disabled: false
      url: https://my.listener.com/event
      headers: &lt;http.Header&gt;
      timeout: 500
      threshold: 5
      backoff: 1000
redis:
  addr: localhost:6379
  password: asecret
  db: 0
  dialtimeout: 10ms
  readtimeout: 10ms
  writetimeout: 10ms
  pool:
    maxidle: 16
    maxactive: 64
    idletimeout: 300s
health:
  storagedriver:
    enabled: true
    interval: 10s
    threshold: 3
  file:
    - file: /path/to/checked/file
      interval: 10s
  http:
    - uri: http://server.to.check/must/return/200
      headers:
        Authorization: [Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==]
      statuscode: 200
      timeout: 3s
      interval: 10s
      threshold: 3
  tcp:
    - addr: redis-server.domain.com:6379
      timeout: 3s
      interval: 10s
      threshold: 3
proxy:
  remoteurl: https://registry-1.docker.io
  username: [username]
  password: [password]
</code></pre>

<p>In some instances a configuration option is <strong>optional</strong> but it contains child
options marked as <strong>required</strong>. This indicates that you can omit the parent with
all its children. However, if the parent is included, you must also include all
the children marked <strong>required</strong>.</p>

<h2 id="version">version</h2>

<pre><code>version: 0.1
</code></pre>

<p>The <code>version</code> option is <strong>required</strong>. It specifies the configuration&rsquo;s version.
It is expected to remain a top-level field, to allow for a consistent version
check before parsing the remainder of the configuration file.</p>

<h2 id="log">log</h2>

<p>The <code>log</code> subsection configures the behavior of the logging system. The logging
system outputs everything to stdout. You can adjust the granularity and format
with this configuration section.</p>

<pre><code>log:
  level: debug
  formatter: text
  fields:
    service: registry
    environment: staging
</code></pre>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>level</code>
    </td>
    <td>
      no
    </td>
    <td>
      Sets the sensitivity of logging output. Permitted values are
      <code>error</code>, <code>warn</code>, <code>info</code> and
      <code>debug</code>. The default is <code>info</code>.
    </td>
  </tr>
  <tr>
    <td>
      <code>formatter</code>
    </td>
    <td>
      no
    </td>
    <td>
      This selects the format of logging output. The format primarily affects how keyed
      attributes for a log line are encoded. Options are <code>text</code>, <code>json</code> or
      <code>logstash</code>. The default is <code>text</code>.
    </td>
  </tr>
    <tr>
    <td>
      <code>fields</code>
    </td>
    <td>
      no
    </td>
    <td>
      A map of field names to values. These are added to every log line for
      the context. This is useful for identifying log messages source after
      being mixed in other systems.
    </td>
</table>

<h2 id="hooks">hooks</h2>

<pre><code>hooks:
  - type: mail
    levels:
      - panic
    options:
      smtp:
        addr: smtp.sendhost.com:25
        username: sendername
        password: password
        insecure: true
      from: name@sendhost.com
      to:
        - name@receivehost.com
</code></pre>

<p>The <code>hooks</code> subsection configures the logging hooks&rsquo; behavior. This subsection
includes a sequence handler which you can use for sending mail, for example.
Refer to <code>loglevel</code> to configure the level of messages printed.</p>

<h2 id="loglevel">loglevel</h2>

<blockquote>
<p><strong>DEPRECATED:</strong> Please use <a href="#log">log</a> instead.</p>
</blockquote>

<pre><code>loglevel: debug
</code></pre>

<p>Permitted values are <code>error</code>, <code>warn</code>, <code>info</code> and <code>debug</code>. The default is
<code>info</code>.</p>

<h2 id="storage">storage</h2>

<pre><code>storage:
  filesystem:
    rootdirectory: /var/lib/registry
  azure:
    accountname: accountname
    accountkey: base64encodedaccountkey
    container: containername
  gcs:
    bucket: bucketname
    keyfile: /path/to/keyfile
    rootdirectory: /gcs/object/name/prefix
  s3:
    accesskey: awsaccesskey
    secretkey: awssecretkey
    region: us-west-1
    bucket: bucketname
    encrypt: true
    secure: true
    v4auth: true
    chunksize: 5242880
    rootdirectory: /s3/object/name/prefix
  rados:
    poolname: radospool
    username: radosuser
    chunksize: 4194304
  swift:
    username: username
    password: password
    authurl: https://storage.myprovider.com/v2.0 or https://storage.myprovider.com/v3/auth
    tenant: tenantname
    tenantid: tenantid
    domain: domain name for Openstack Identity v3 API
    domainid: domain id for Openstack Identity v3 API
    insecureskipverify: true
    region: fr
    container: containername
    rootdirectory: /swift/object/name/prefix
  delete:
    enabled: false
  cache:
    blobdescriptor: inmemory
  maintenance:
    uploadpurging:
      enabled: true
      age: 168h
      interval: 24h
      dryrun: false
  redirect:
    disable: false
</code></pre>

<p>The storage option is <strong>required</strong> and defines which storage backend is in use.
You must configure one backend; if you configure more, the registry returns an error.</p>

<p>If you are deploying a registry on Windows, be aware that a Windows volume mounted from the host is not recommended. Instead, you can use a S3, or Azure, backing data-store. If you do use a Windows volume, you must ensure that the <code>PATH</code> to the mount point is within Windows&rsquo; <code>MAX_PATH</code> limits (typically 255 characters). Failure to do so can result in the following error message:</p>

<pre><code>mkdir /XXX protocol error and your registry will not function properly.
</code></pre>

<h3 id="delete">delete</h3>

<p>Use the <code>delete</code> subsection to enable the deletion of image blobs and manifests
by digest. It defaults to false, but it can be enabled by writing the following
on the configuration file:</p>

<pre><code>delete:
  enabled: true
</code></pre>

<h3 id="cache">cache</h3>

<p>Use the <code>cache</code> subsection to enable caching of data accessed in the storage
backend. Currently, the only available cache provides fast access to layer
metadata. This, if configured, uses the <code>blobdescriptor</code> field.</p>

<p>You can set <code>blobdescriptor</code> field to <code>redis</code> or <code>inmemory</code>.  The <code>redis</code> value uses
a Redis pool to cache layer metadata.  The <code>inmemory</code> value uses an in memory
map.</p>

<blockquote>
<p><strong>NOTE</strong>: Formerly, <code>blobdescriptor</code> was known as <code>layerinfo</code>. While these
are equivalent, <code>layerinfo</code> has been deprecated, in favor or
<code>blobdescriptor</code>.</p>
</blockquote>

<h3 id="redirect">redirect</h3>

<p>The <code>redirect</code> subsection provides configuration for managing redirects from
content backends. For backends that support it, redirecting is enabled by
default. Certain deployment scenarios may prefer to route all data through the
Registry, rather than redirecting to the backend. This may be more efficient
when using a backend that is not colocated or when a registry instance is
doing aggressive caching.</p>

<p>Redirects can be disabled by adding a single flag <code>disable</code>, set to <code>true</code>
under the <code>redirect</code> section:</p>

<pre><code>redirect:
  disable: true
</code></pre>

<h3 id="filesystem">filesystem</h3>

<p>The <code>filesystem</code> storage backend uses the local disk to store registry files. It
is ideal for development and may be appropriate for some small-scale production
applications.</p>

<p>This backend has a single, required <code>rootdirectory</code> parameter. The parameter
specifies the absolute path to a directory. The registry stores all its data
here so make sure there is adequate space available.</p>

<h3 id="azure">azure</h3>

<p>This storage backend uses Microsoft&rsquo;s Azure Blob Storage.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>accountname</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Azure account name.
    </td>
  </tr>
  <tr>
    <td>
      <code>accountkey</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Azure account key.
    </td>
  </tr>
  <tr>
    <td>
      <code>container</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Name of the Azure container into which to store data.
    </td>
  </tr>
   <tr>
    <td>
      <code>realm</code>
    </td>
    <td>
      no
    </td>
    <td>
      Domain name suffix for the Storage Service API endpoint. By default, this
      is <code>core.windows.net</code>.
    </td>
  </tr>

</table>

<h1 id="gcs">gcs</h1>

<p>This storage backend uses Google Cloud Storage.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>bucket</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Storage bucket name.
    </td>
  </tr>
  <tr>
    <td>
      <code>keyfile</code>
    </td>
    <td>
      no
    </td>
    <td>
      A private service account key file in JSON format. Instead of a key file <a href="https://developers.google.com/identity/protocols/application-default-credentials">Google Application Default Credentials</a> can be used.
    </td>
  </tr>
   <tr>
    <td>
      <code>rootdirectory</code>
    </td>
    <td>
      no
    </td>
    <td>
      This is a prefix that will be applied to all Google Cloud Storage keys to allow you to segment data in your bucket if necessary.
  </tr>

</table>

<h3 id="rados">rados</h3>

<p>This storage backend uses <a href="http://ceph.com/docs/master/rados/">Ceph Object Storage</a>.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>poolname</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Ceph pool name.
    </td>
  </tr>
   <tr>
    <td>
      <code>username</code>
    </td>
    <td>
      no
    </td>
    <td>
      Ceph cluster user to connect as (i.e. admin, not client.admin).
    </td>
  </tr>
   <tr>
    <td>
      <code>chunksize</code>
    </td>
    <td>
      no
    </td>
    <td>
      Size of the written RADOS objects. Default value is 4MB (4194304).
    </td>
  </tr>
</table>

<h3 id="s3">S3</h3>

<p>This storage backend uses Amazon&rsquo;s Simple Storage Service (S3).</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>accesskey</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Your AWS Access Key.
    </td>
  </tr>
    <tr>
    <td>
      <code>secretkey</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Your AWS Secret Key.
    </td>
  </tr>
    <tr>
    <td>
      <code>region</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The AWS region in which your bucket exists. For the moment, the Go AWS
      library in use does not use the newer DNS based bucket routing.
    </td>
  </tr>
    <tr>
    <td>
      <code>bucket</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The bucket name in which you want to store the registry's data.
    </td>
  </tr>
    <tr>
    <td>
      <code>encrypt</code>
    </td>
    <td>
      no
    </td>
    <td>
       Specifies whether the registry stores the image in encrypted format or
       not. A boolean value. The default is false.
    </td>
  </tr>
    <tr>
    <td>
      <code>secure</code>
    </td>
    <td>
      no
    </td>
    <td>
      Indicates whether to use HTTPS instead of HTTP. A boolean value. The
      default is <code>true</code>.
    </td>
  </tr>
    <tr>
    <td>
      <code>v4auth</code>
    </td>
    <td>
      no
    </td>
    <td>
      Indicates whether the registry uses Version 4 of AWS's authentication.
      Generally, you should set this to <code>true</code>. By default, this is
      <code>false</code>.
    </td>
  </tr>
    <tr>
    <td>
      <code>chunksize</code>
    </td>
    <td>
      no
    </td>
    <td>
      The S3 API requires multipart upload chunks to be at least 5MB. This value
      should be a number that is larger than 5*1024*1024.
    </td>
  </tr>
   <tr>
    <td>
      <code>rootdirectory</code>
    </td>
    <td>
      no
    </td>
    <td>
      This is a prefix that will be applied to all S3 keys to allow you to segment data in your bucket if necessary.
    </td>
  </tr>
</table>

<h3 id="maintenance">Maintenance</h3>

<p>Currently upload purging and read-only mode are the only maintenance functions available.
These and future maintenance functions which are related to storage can be configured under
the maintenance section.</p>

<h3 id="upload-purging">Upload Purging</h3>

<p>Upload purging is a background process that periodically removes orphaned files from the upload
directories of the registry.  Upload purging is enabled by default.  To
configure upload directory purging, the following parameters
must be set.</p>

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>enabled</code></td>
<td>yes</td>
<td>Set to true to enable upload purging.  Default=true.</td>
</tr>

<tr>
<td><code>age</code></td>
<td>yes</td>
<td>Upload directories which are older than this age will be deleted.  Default=168h (1 week)</td>
</tr>

<tr>
<td><code>interval</code></td>
<td>yes</td>
<td>The interval between upload directory purging.  Default=24h.</td>
</tr>

<tr>
<td><code>dryrun</code></td>
<td>yes</td>
<td>dryrun can be set to true to obtain a summary of what directories will be deleted.  Default=false.</td>
</tr>
</tbody>
</table>

<p>Note: <code>age</code> and <code>interval</code> are strings containing a number with optional fraction and a unit suffix: e.g. 45m, 2h10m, 168h (1 week).</p>

<h3 id="read-only-mode">Read-only mode</h3>

<p>If the <code>readonly</code> section under <code>maintenance</code> has <code>enabled</code> set to <code>true</code>,
clients will not be allowed to write to the registry. This mode is useful to
temporarily prevent writes to the backend storage so a garbage collection pass
can be run.  Before running garbage collection, the registry should be
restarted with readonly&rsquo;s <code>enabled</code> set to true. After the garbage collection
pass finishes, the registry may be restarted again, this time with <code>readonly</code>
removed from the configuration (or set to false).</p>

<h3 id="openstack-swift">Openstack Swift</h3>

<p>This storage backend uses Openstack Swift object storage.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>authurl</code>
    </td>
    <td>
      yes
    </td>
    <td>
      URL for obtaining an auth token. https://storage.myprovider.com/v2.0 or https://storage.myprovider.com/v3/auth
    </td>
  </tr>
  <tr>
    <td>
      <code>username</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Your Openstack user name.
    </td>
  </tr>
  <tr>
    <td>
      <code>password</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Your Openstack password.
    </td>
  </tr>
  <tr>
    <td>
      <code>region</code>
    </td>
    <td>
      no
    </td>
    <td>
      The Openstack region in which your container exists.
    </td>
  </tr>
  <tr>
    <td>
      <code>container</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The container name in which you want to store the registry's data.
    </td>
  </tr>
  <tr>
    <td>
      <code>tenant</code>
    </td>
    <td>
      no
    </td>
    <td>
      Your Openstack tenant name.
    </td>
  </tr>
  <tr>
    <td>
      <code>tenantid</code>
    </td>
    <td>
      no
    </td>
    <td>
      Your Openstack tenant id.
    </td>
  </tr>
  <tr>
    <td>
      <code>domain</code>
    </td>
    <td>
      no
    </td>
    <td>
      Your Openstack domain name for Identity v3 API.
    </td>
  </tr>
  <tr>
    <td>
      <code>domainid</code>
    </td>
    <td>
      no
    </td>
    <td>
      Your Openstack domain id for Identity v3 API.
    </td>
  </tr>
  <tr>
    <td>
      <code>trustid</code>
    </td>
    <td>
      no
    </td>
    <td>
      Your Openstack trust id for Identity v3 API.
    </td>
  </tr>
  <tr>
    <td>
      <code>insecureskipverify</code>
    </td>
    <td>
      no
    </td>
    <td>
      true to skip TLS verification, false by default.
    </td>
  </tr>
  <tr>
    <td>
      <code>chunksize</code>
    </td>
    <td>
      no
    </td>
    <td>
      Size of the data segments for the Swift Dynamic Large Objects. This value should be a number (defaults to 5M).
    </td>
  </tr>
  <tr>
    <td>
      <code>rootdirectory</code>
    </td>
    <td>
      no
    </td>
    <td>
      This is a prefix that will be applied to all Swift keys to allow you to segment data in your container if necessary.
    </td>
  </tr>
</table>

<h2 id="auth">auth</h2>

<pre><code>auth:
  silly:
    realm: silly-realm
    service: silly-service
  token:
    realm: token-realm
    service: token-service
    issuer: registry-token-issuer
    rootcertbundle: /root/certs/bundle
  htpasswd:
    realm: basic-realm
    path: /path/to/htpasswd
</code></pre>

<p>The <code>auth</code> option is <strong>optional</strong>. There are
currently 3 possible auth providers, <code>silly</code>, <code>token</code> and <code>htpasswd</code>. You can configure only
one <code>auth</code> provider.</p>

<h3 id="silly">silly</h3>

<p>The <code>silly</code> auth is only for development purposes. It simply checks for the
existence of the <code>Authorization</code> header in the HTTP request. It has no regard for
the header&rsquo;s value. If the header does not exist, the <code>silly</code> auth responds with a
challenge response, echoing back the realm, service, and scope that access was
denied for.</p>

<p>The following values are used to configure the response:</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>realm</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The realm in which the registry server authenticates.
    </td>
  </tr>
    <tr>
    <td>
      <code>service</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The service being authenticated.
    </td>
  </tr>
</table>

<h3 id="token">token</h3>

<p>Token based authentication allows the authentication system to be decoupled from
the registry. It is a well established authentication paradigm with a high
degree of security.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>realm</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The realm in which the registry server authenticates.
    </td>
  </tr>
    <tr>
    <td>
      <code>service</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The service being authenticated.
    </td>
  </tr>
    <tr>
    <td>
      <code>issuer</code>
    </td>
    <td>
      yes
    </td>
    <td>
The name of the token issuer. The issuer inserts this into
the token so it must match the value configured for the issuer.
    </td>
  </tr>
    <tr>
    <td>
      <code>rootcertbundle</code>
    </td>
    <td>
      yes
     </td>
    <td>
The absolute path to the root certificate bundle. This bundle contains the
public part of the certificates that is used to sign authentication tokens.
     </td>
  </tr>
</table>

<p>For more information about Token based authentication configuration, see the <a href="../../registry/spec/auth/token/">specification</a>.</p>

<h3 id="htpasswd">htpasswd</h3>

<p>The <em>htpasswd</em> authentication backed allows one to configure basic auth using an
<a href="https://httpd.apache.org/docs/2.4/programs/htpasswd.html">Apache HTPasswd File</a>.
Only <a href="http://en.wikipedia.org/wiki/Bcrypt"><code>bcrypt</code></a> format passwords are
supported. Entries with other hash types will be ignored. The htpasswd file is
loaded once, at startup. If the file is invalid, the registry will display and
error and will not start.</p>

<blockquote>
<p><strong>WARNING:</strong> This authentication scheme should only be used with TLS
configured, since basic authentication sends passwords as part of the http
header.</p>
</blockquote>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>realm</code>
    </td>
    <td>
      yes
    </td>
    <td>
      The realm in which the registry server authenticates.
    </td>
  </tr>
    <tr>
    <td>
      <code>path</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Path to htpasswd file to load at startup.
    </td>
  </tr>
</table>

<h2 id="middleware">middleware</h2>

<p>The <code>middleware</code> option is <strong>optional</strong>. Use this option to inject middleware at
named hook points. All middlewares must implement the same interface as the
object they&rsquo;re wrapping. This means a registry middleware must implement the
<code>distribution.Namespace</code> interface, repository middleware must implement
<code>distribution.Repository</code>, and storage middleware must implement
<code>driver.StorageDriver</code>.</p>

<p>Currently only one middleware, <code>cloudfront</code>, a storage middleware, is supported
in the registry implementation.</p>

<pre><code>middleware:
  registry:
    - name: ARegistryMiddleware
      options:
        foo: bar
  repository:
    - name: ARepositoryMiddleware
      options:
        foo: bar
  storage:
    - name: cloudfront
      options:
        baseurl: https://my.cloudfronted.domain.com/
        privatekey: /path/to/pem
        keypairid: cloudfrontkeypairid
        duration: 3000
</code></pre>

<p>Each middleware entry has <code>name</code> and <code>options</code> entries. The <code>name</code> must
correspond to the name under which the middleware registers itself. The
<code>options</code> field is a map that details custom configuration required to
initialize the middleware. It is treated as a <code>map[string]interface{}</code>. As such,
it supports any interesting structures desired, leaving it up to the middleware
initialization function to best determine how to handle the specific
interpretation of the options.</p>

<h3 id="cloudfront">cloudfront</h3>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>baseurl</code>
    </td>
    <td>
      yes
    </td>
    <td>
      <code>SCHEME://HOST[/PATH]</code> at which Cloudfront is served.
    </td>
  </tr>
    <tr>
    <td>
      <code>privatekey</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Private Key for Cloudfront provided by AWS.
    </td>
  </tr>
    <tr>
    <td>
      <code>keypairid</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Key pair ID provided by AWS.
    </td>
  </tr>
    <tr>
    <td>
      <code>duration</code>
    </td>
    <td>
      no
    </td>
    <td>
      Duration for which a signed URL should be valid.
    </td>
  </tr>
</table>

<h2 id="reporting">reporting</h2>

<pre><code>reporting:
  bugsnag:
    apikey: bugsnagapikey
    releasestage: bugsnagreleasestage
    endpoint: bugsnagendpoint
  newrelic:
    licensekey: newreliclicensekey
    name: newrelicname
    verbose: true
</code></pre>

<p>The <code>reporting</code> option is <strong>optional</strong> and configures error and metrics
reporting tools. At the moment only two services are supported, <a href="http://newrelic.com/">New
Relic</a> and <a href="http://bugsnag.com">Bugsnag</a>, a valid
configuration may contain both.</p>

<h3 id="bugsnag">bugsnag</h3>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>apikey</code>
    </td>
    <td>
      yes
    </td>
    <td>
      API Key provided by Bugsnag
    </td>
  </tr>
  <tr>
    <td>
      <code>releasestage</code>
    </td>
    <td>
      no
    </td>
    <td>
      Tracks where the registry is deployed, for example,
      <code>production</code>,<code>staging</code>, or
      <code>development</code>.
    </td>
  </tr>
  <tr>
    <td>
      <code>endpoint</code>
    </td>
    <td>
      no
    </td>
    <td>
      Specify the enterprise Bugsnag endpoint.
    </td>
  </tr>
</table>

<h3 id="newrelic">newrelic</h3>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>licensekey</code>
    </td>
    <td>
      yes
    </td>
    <td>
      License key provided by New Relic.
    </td>
  </tr>
   <tr>
    <td>
      <code>name</code>
    </td>
    <td>
      no
    </td>
    <td>
      New Relic application name.
    </td>
  </tr>
     <tr>
    <td>
      <code>verbose</code>
    </td>
    <td>
      no
    </td>
    <td>
      Enable New Relic debugging output on stdout.
    </td>
  </tr>
</table>

<h2 id="http">http</h2>

<pre><code>http:
  addr: localhost:5000
  net: tcp
  prefix: /my/nested/registry/
  host: https://myregistryaddress.org:5000
  secret: asecretforlocaldevelopment
  tls:
    certificate: /path/to/x509/public
    key: /path/to/x509/private
    clientcas:
      - /path/to/ca.pem
      - /path/to/another/ca.pem
  debug:
    addr: localhost:5001
  headers:
    X-Content-Type-Options: [nosniff]
</code></pre>

<p>The <code>http</code> option details the configuration for the HTTP server that hosts the registry.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>addr</code>
    </td>
    <td>
      yes
    </td>
    <td>
     The address for which the server should accept connections. The form depends on a network type (see <code>net</code> option):
     <code>HOST:PORT</code> for tcp and <code>FILE</code> for a unix socket.
    </td>
  </tr>
  <tr>
    <td>
      <code>net</code>
    </td>
    <td>
      no
    </td>
    <td>
     The network which is used to create a listening socket. Known networks are <code>unix</code> and <code>tcp</code>.
     The default empty value means tcp.
    </td>
  </tr>
  <tr>
    <td>
      <code>prefix</code>
    </td>
    <td>
      no
    </td>
    <td>
If the server does not run at the root path use this value to specify the
prefix. The root path is the section before <code>v2</code>. It
should have both preceding and trailing slashes, for example <code>/path/</code>.
    </td>
  </tr>
  <tr>
    <td>
      <code>host</code>
    </td>
    <td>
      no
    </td>
    <td>
This parameter specifies an externally-reachable address for the registry, as a
fully qualified URL. If present, it is used when creating generated URLs.
Otherwise, these URLs are derived from client requests.
    </td>
  </tr>
  <tr>
    <td>
      <code>secret</code>
    </td>
    <td>
      yes
    </td>
    <td>
A random piece of data. This is used to sign state that may be stored with the
client to protect against tampering. For production environments you should generate a
random piece of data using a cryptographically secure random generator. This
configuration parameter may be omitted, in which case the registry will automatically
generate a secret at launch.
<p />
<b>WARNING: If you are building a cluster of registries behind a load balancer, you MUST
ensure the secret is the same for all registries.</b>
    </td>
  </tr>
</table>

<h3 id="tls">tls</h3>

<p>The <code>tls</code> struct within <code>http</code> is <strong>optional</strong>. Use this to configure TLS
for the server. If you already have a server such as Nginx or Apache running on
the same host as the registry, you may prefer to configure TLS termination there
and proxy connections to the registry server.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>certificate</code>
    </td>
    <td>
      yes
    </td>
    <td>
       Absolute path to x509 cert file
    </td>
  </tr>
    <tr>
    <td>
      <code>key</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Absolute path to x509 private key file.
    </td>
  </tr>
  <tr>
    <td>
      <code>clientcas</code>
    </td>
    <td>
      no
    </td>
    <td>
      An array of absolute paths to a x509 CA file
    </td>
  </tr>
</table>

<h3 id="debug">debug</h3>

<p>The <code>debug</code> option is <strong>optional</strong> . Use it to configure a debug server that
can be helpful in diagnosing problems. The debug endpoint can be used for
monitoring registry metrics and health, as well as profiling. Sensitive
information may be available via the debug endpoint. Please be certain that
access to the debug endpoint is locked down in a production environment.</p>

<p>The <code>debug</code> section takes a single, required <code>addr</code> parameter. This parameter
specifies the <code>HOST:PORT</code> on which the debug server should accept connections.</p>

<h3 id="headers">headers</h3>

<p>The <code>headers</code> option is <strong>optional</strong> . Use it to specify headers that the HTTP
server should include in responses. This can be used for security headers such
as <code>Strict-Transport-Security</code>.</p>

<p>The <code>headers</code> option should contain an option for each header to include, where
the parameter name is the header&rsquo;s name, and the parameter value a list of the
header&rsquo;s payload values.</p>

<p>Including <code>X-Content-Type-Options: [nosniff]</code> is recommended, so that browsers
will not interpret content as HTML if they are directed to load a page from the
registry. This header is included in the example configuration files.</p>

<h2 id="notifications">notifications</h2>

<pre><code>notifications:
  endpoints:
    - name: alistener
      disabled: false
      url: https://my.listener.com/event
      headers: &lt;http.Header&gt;
      timeout: 500
      threshold: 5
      backoff: 1000
</code></pre>

<p>The notifications option is <strong>optional</strong> and currently may contain a single
option, <code>endpoints</code>.</p>

<h3 id="endpoints">endpoints</h3>

<p>Endpoints is a list of named services (URLs) that can accept event notifications.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>name</code>
    </td>
    <td>
      yes
    </td>
    <td>
A human readable name for the service.
</td>
  </tr>
  <tr>
    <td>
      <code>disabled</code>
    </td>
    <td>
      no
    </td>
    <td>
A boolean to enable/disable notifications for a service.
    </td>
  </tr>
  <tr>
    <td>
      <code>url</code>
    </td>
    <td>
    yes
    </td>
    <td>
The URL to which events should be published.
    </td>
  </tr>
   <tr>
    <td>
      <code>headers</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Static headers to add to each request. Each header's name should be a key
      underneath headers, and each value is a list of payloads for that
      header name. Note that values must always be lists.
    </td>
  </tr>
  <tr>
    <td>
      <code>timeout</code>
    </td>
    <td>
      yes
    </td>
    <td>
      An HTTP timeout value. This field takes a positive integer and an optional
      suffix indicating the unit of time. Possible units are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    </td>
  </tr>
  <tr>
    <td>
      <code>threshold</code>
    </td>
    <td>
      yes
    </td>
    <td>
      An integer specifying how long to wait before backing off a failure.
    </td>
  </tr>
  <tr>
    <td>
      <code>backoff</code>
    </td>
    <td>
      yes
    </td>
    <td>
      How long the system backs off before retrying. This field takes a positive
      integer and an optional suffix indicating the unit of time. Possible units
      are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    </td>
  </tr>
</table>

<h2 id="redis">redis</h2>

<pre><code>redis:
  addr: localhost:6379
  password: asecret
  db: 0
  dialtimeout: 10ms
  readtimeout: 10ms
  writetimeout: 10ms
  pool:
    maxidle: 16
    maxactive: 64
    idletimeout: 300s
</code></pre>

<p>Declare parameters for constructing the redis connections. Registry instances
may use the Redis instance for several applications. The current purpose is
caching information about immutable blobs. Most of the options below control
how the registry connects to redis. You can control the pool&rsquo;s behavior
with the <a href="#pool">pool</a> subsection.</p>

<p>It&rsquo;s advisable to configure Redis itself with the <strong>allkeys-lru</strong> eviction policy
as the registry does not set an expire value on keys.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>addr</code>
    </td>
    <td>
      yes
    </td>
    <td>
      Address (host and port) of redis instance.
    </td>
  </tr>
  <tr>
    <td>
      <code>password</code>
    </td>
    <td>
      no
    </td>
    <td>
      A password used to authenticate to the redis instance.
    </td>
  </tr>
  <tr>
    <td>
      <code>db</code>
    </td>
    <td>
      no
    </td>
    <td>
      Selects the db for each connection.
    </td>
  </tr>
  <tr>
    <td>
      <code>dialtimeout</code>
    </td>
    <td>
      no
    </td>
    <td>
      Timeout for connecting to a redis instance.
    </td>
  </tr>
  <tr>
    <td>
      <code>readtimeout</code>
    </td>
    <td>
      no
    </td>
    <td>
      Timeout for reading from redis connections.
    </td>
  </tr>
  <tr>
    <td>
      <code>writetimeout</code>
    </td>
    <td>
      no
    </td>
    <td>
      Timeout for writing to redis connections.
    </td>
  </tr>
</table>

<h3 id="pool">pool</h3>

<pre><code>pool:
  maxidle: 16
  maxactive: 64
  idletimeout: 300s
</code></pre>

<p>Configure the behavior of the Redis connection pool.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>maxidle</code>
    </td>
    <td>
      no
    </td>
    <td>
      Sets the maximum number of idle connections.
    </td>
  </tr>
  <tr>
    <td>
      <code>maxactive</code>
    </td>
    <td>
      no
    </td>
    <td>
      sets the maximum number of connections that should
  be opened before blocking a connection request.
    </td>
  </tr>
  <tr>
    <td>
      <code>idletimeout</code>
    </td>
    <td>
      no
    </td>
    <td>
      sets the amount time to wait before closing
  inactive connections.
    </td>
  </tr>
</table>

<h2 id="health">health</h2>

<pre><code>health:
  storagedriver:
    enabled: true
    interval: 10s
    threshold: 3
  file:
    - file: /path/to/checked/file
      interval: 10s
  http:
    - uri: http://server.to.check/must/return/200
      headers:
        Authorization: [Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==]
      statuscode: 200
      timeout: 3s
      interval: 10s
      threshold: 3
  tcp:
    - addr: redis-server.domain.com:6379
      timeout: 3s
      interval: 10s
      threshold: 3
</code></pre>

<p>The health option is <strong>optional</strong>. It may contain preferences for a periodic
health check on the storage driver&rsquo;s backend storage, and optional periodic
checks on local files, HTTP URIs, and/or TCP servers. The results of the health
checks are available at /debug/health on the debug HTTP server if the debug
HTTP server is enabled (see http section).</p>

<h3 id="storagedriver">storagedriver</h3>

<p>storagedriver contains options for a health check on the configured storage
driver&rsquo;s backend storage. enabled must be set to true for this health check to
be active.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>enabled</code>
    </td>
    <td>
      yes
    </td>
    <td>
"true" to enable the storage driver health check or "false" to disable it.
</td>
  </tr>
  <tr>
    <td>
      <code>interval</code>
    </td>
    <td>
      no
    </td>
    <td>
      The length of time to wait between repetitions of the check. This field
      takes a positive integer and an optional suffix indicating the unit of
      time. Possible units are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    The default value is 10 seconds if this field is omitted.
    </td>
  </tr>
  <tr>
    <td>
      <code>threshold</code>
    </td>
    <td>
      no
    </td>
    <td>
      An integer specifying the number of times the check must fail before the
      check triggers an unhealthy state. If this filed is not specified, a
      single failure will trigger an unhealthy state.
    </td>
  </tr>
</table>

<h3 id="file">file</h3>

<p>file is a list of paths to be periodically checked for the existence of a file.
If a file exists at the given path, the health check will fail. This can be
used as a way of bringing a registry out of rotation by creating a file.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>file</code>
    </td>
    <td>
      yes
    </td>
    <td>
The path to check for the existence of a file.
</td>
  </tr>
  <tr>
    <td>
      <code>interval</code>
    </td>
    <td>
      no
    </td>
    <td>
      The length of time to wait between repetitions of the check. This field
      takes a positive integer and an optional suffix indicating the unit of
      time. Possible units are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    The default value is 10 seconds if this field is omitted.
    </td>
  </tr>
</table>

<h3 id="http-1">http</h3>

<p>http is a list of HTTP URIs to be periodically checked with HEAD requests. If
a HEAD request doesn&rsquo;t complete or returns an unexpected status code, the
health check will fail.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>uri</code>
    </td>
    <td>
      yes
    </td>
    <td>
The URI to check.
</td>
  </tr>
   <tr>
    <td>
      <code>headers</code>
    </td>
    <td>
      no
    </td>
    <td>
      Static headers to add to each request. Each header's name should be a key
      underneath headers, and each value is a list of payloads for that
      header name. Note that values must always be lists.
    </td>
  </tr>
  <tr>
    <td>
      <code>statuscode</code>
    </td>
    <td>
      no
    </td>
    <td>
Expected status code from the HTTP URI. Defaults to 200.
</td>
  </tr>
  <tr>
    <td>
      <code>timeout</code>
    </td>
    <td>
      no
    </td>
    <td>
      The length of time to wait before timing out the HTTP request. This field
      takes a positive integer and an optional suffix indicating the unit of
      time. Possible units are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    </td>
  </tr>
  <tr>
    <td>
      <code>interval</code>
    </td>
    <td>
      no
    </td>
    <td>
      The length of time to wait between repetitions of the check. This field
      takes a positive integer and an optional suffix indicating the unit of
      time. Possible units are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    The default value is 10 seconds if this field is omitted.
    </td>
  </tr>
  <tr>
    <td>
      <code>threshold</code>
    </td>
    <td>
      no
    </td>
    <td>
      An integer specifying the number of times the check must fail before the
      check triggers an unhealthy state. If this filed is not specified, a
      single failure will trigger an unhealthy state.
    </td>
  </tr>
</table>

<h3 id="tcp">tcp</h3>

<p>tcp is a list of TCP addresses to be periodically checked with connection
attempts. The addresses must include port numbers. If a connection attempt
fails, the health check will fail.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>addr</code>
    </td>
    <td>
      yes
    </td>
    <td>
The TCP address to connect to, including a port number.
</td>
  </tr>
  <tr>
    <td>
      <code>timeout</code>
    </td>
    <td>
      no
    </td>
    <td>
      The length of time to wait before timing out the TCP connection. This
      field takes a positive integer and an optional suffix indicating the unit
      of time. Possible units are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    </td>
  </tr>
  <tr>
    <td>
      <code>interval</code>
    </td>
    <td>
      no
    </td>
    <td>
      The length of time to wait between repetitions of the check. This field
      takes a positive integer and an optional suffix indicating the unit of
      time. Possible units are:
      <ul>
        <li><code>ns</code> (nanoseconds)</li>
        <li><code>us</code> (microseconds)</li>
        <li><code>ms</code> (milliseconds)</li>
        <li><code>s</code> (seconds)</li>
        <li><code>m</code> (minutes)</li>
        <li><code>h</code> (hours)</li>
      </ul>
    If you omit the suffix, the system interprets the value as nanoseconds.
    The default value is 10 seconds if this field is omitted.
    </td>
  </tr>
  <tr>
    <td>
      <code>threshold</code>
    </td>
    <td>
      no
    </td>
    <td>
      An integer specifying the number of times the check must fail before the
      check triggers an unhealthy state. If this filed is not specified, a
      single failure will trigger an unhealthy state.
    </td>
  </tr>
</table>

<h2 id="proxy">Proxy</h2>

<pre><code>proxy:
  remoteurl: https://registry-1.docker.io
  username: [username]
  password: [password]
</code></pre>

<p>Proxy enables a registry to be configured as a pull through cache to the official Docker Hub.  See <a href="../../registry/mirror/">mirror</a> for more information. Pushing to a registry configured as a pull through cache is currently unsupported.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Required</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      <code>remoteurl</code>
    </td>
    <td>
      yes
    </td>
    <td>
     The URL of the official Docker Hub
    </td>
  </tr>
  <tr>
    <td>
      <code>username</code>
    </td>
    <td>
      no
    </td>
    <td>
     The username of the Docker Hub account
    </td>
  </tr>
  <tr>
    <td>
      <code>password</code>
    </td>
    <td>
      no
    </td>
    <td>
     The password for the official Docker Hub account
    </td>
  </tr>
</table>

<p>To enable pulling private repositories (e.g. <code>batman/robin</code>) a username and password for user <code>batman</code> must be specified.  Note: These private repositories will be stored in the proxy cache&rsquo;s storage and relevant measures should be taken to protect access to this.</p>

<h2 id="example-development-configuration">Example: Development configuration</h2>

<p>The following is a simple example you can use for local development:</p>

<pre><code>version: 0.1
log:
  level: debug
storage:
    filesystem:
        rootdirectory: /var/lib/registry
http:
    addr: localhost:5000
    secret: asecretforlocaldevelopment
    debug:
        addr: localhost:5001
</code></pre>

<p>The above configures the registry instance to run on port <code>5000</code>, binding to
<code>localhost</code>, with the <code>debug</code> server enabled. Registry data storage is in the
<code>/var/lib/registry</code> directory. Logging is in <code>debug</code> mode, which is the most
verbose.</p>

<p>A similar simple configuration is available at
<a href="https://github.com/docker/distribution/blob/master/cmd/registry/config-example.yml">config-example.yml</a>.
Both are generally useful for local development.</p>

<h2 id="example-middleware-configuration">Example: Middleware configuration</h2>

<p>This example illustrates how to configure storage middleware in a registry.
Middleware allows the registry to serve layers via a content delivery network
(CDN). This is useful for reducing requests to the storage layer.</p>

<p>Currently, the registry supports <a href="http://aws.amazon.com/cloudfront/">Amazon
Cloudfront</a>. You can only use Cloudfront in
conjunction with the S3 storage driver.</p>

<table>
  <tr>
    <th>Parameter</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><code>name</code></td>
    <td>The storage middleware name. Currently <code>cloudfront</code> is an accepted value.</td>
  </tr>
  <tr>
    <td><code>disabled<code></td>
    <td>Set to <code>false</code> to easily disable the middleware.</td>
  </tr>
  <tr>
    <td><code>options:</code></td>
    <td>
    A set of key/value options to configure the middleware.
    <ul>
    <li><code>baseurl:</code> The Cloudfront base URL.</li>
    <li><code>privatekey:</code> The location of your AWS private key on the filesystem. </li>
    <li><code>keypairid:</code> The ID of your Cloudfront keypair. </li>
    <li><code>duration:</code> The duration in minutes for which the URL is valid. Default is 20. </li>
    </ul>
    </td>
  </tr>
</table>

<p>The following example illustrates these values:</p>

<pre><code>middleware:
    storage:
        - name: cloudfront
          disabled: false
          options:
             baseurl: http://d111111abcdef8.cloudfront.net
             privatekey: /path/to/asecret.pem
             keypairid: asecret
             duration: 60
</code></pre>

<blockquote>
<p><strong>Note</strong>: Cloudfront keys exist separately to other AWS keys.  See
<a href="http://docs.aws.amazon.com/general/latest/gr/aws-security-credentials.html">the documentation on AWS credentials</a>
for more information.</p>
</blockquote>

        </article>
		  </section>
    </div>
    <div id="toc" class="large-3 columns toc ">
     On this page:
        <nav id="TableOfContents">
<ul>
<li><a href="#registry-configuration-reference">Registry Configuration Reference</a>
<ul>
<li><a href="#override-specific-configuration-options">Override specific configuration options</a></li>
<li><a href="#overriding-the-entire-configuration-file">Overriding the entire configuration file</a></li>
<li><a href="#list-of-configuration-options">List of configuration options</a></li>
<li><a href="#version">version</a></li>
<li><a href="#log">log</a></li>
<li><a href="#hooks">hooks</a></li>
<li><a href="#loglevel">loglevel</a></li>
<li><a href="#storage">storage</a>
<ul>
<li><a href="#delete">delete</a></li>
<li><a href="#cache">cache</a></li>
<li><a href="#redirect">redirect</a></li>
<li><a href="#filesystem">filesystem</a></li>
<li><a href="#azure">azure</a></li>
</ul></li>
</ul></li>
<li><a href="#gcs">gcs</a>
<ul>
<li>
<ul>
<li><a href="#rados">rados</a></li>
<li><a href="#s3">S3</a></li>
<li><a href="#maintenance">Maintenance</a></li>
<li><a href="#upload-purging">Upload Purging</a></li>
<li><a href="#read-only-mode">Read-only mode</a></li>
<li><a href="#openstack-swift">Openstack Swift</a></li>
</ul></li>
<li><a href="#auth">auth</a>
<ul>
<li><a href="#silly">silly</a></li>
<li><a href="#token">token</a></li>
<li><a href="#htpasswd">htpasswd</a></li>
</ul></li>
<li><a href="#middleware">middleware</a>
<ul>
<li><a href="#cloudfront">cloudfront</a></li>
</ul></li>
<li><a href="#reporting">reporting</a>
<ul>
<li><a href="#bugsnag">bugsnag</a></li>
<li><a href="#newrelic">newrelic</a></li>
</ul></li>
<li><a href="#http">http</a>
<ul>
<li><a href="#tls">tls</a></li>
<li><a href="#debug">debug</a></li>
<li><a href="#headers">headers</a></li>
</ul></li>
<li><a href="#notifications">notifications</a>
<ul>
<li><a href="#endpoints">endpoints</a></li>
</ul></li>
<li><a href="#redis">redis</a>
<ul>
<li><a href="#pool">pool</a></li>
</ul></li>
<li><a href="#health">health</a>
<ul>
<li><a href="#storagedriver">storagedriver</a></li>
<li><a href="#file">file</a></li>
<li><a href="#http-1">http</a></li>
<li><a href="#tcp">tcp</a></li>
</ul></li>
<li><a href="#proxy">Proxy</a></li>
<li><a href="#example-development-configuration">Example: Development configuration</a></li>
<li><a href="#example-middleware-configuration">Example: Middleware configuration</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

<footer class="main-footer">
  <div class="row">
  </div>
  <div class="row">
  </div>
  <div id="buildinfo">
    Dec 22, 2015 at 5:49am (PST)
{
    "docker/apidocs": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/dhe-deploy.git"
        ],
        "sha": "9ac9c4a4180ae73873aa10d0282b7b811e720598"
    },
    "docker/compose": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/compose.git"
        ],
        "sha": "8f48fa47472bbabf7e9181872501db2e53dc1879"
    },
    "docker/docker-hub": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/hub2-demo.git"
        ],
        "sha": "1c056349073e4e6f7cb48bea14f921ed07b9a874"
    },
    "docker/docker-trusted-registry": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/dhe-deploy.git"
        ],
        "sha": "9ac9c4a4180ae73873aa10d0282b7b811e720598"
    },
    "docker/docs-base": {
        "ref": "hugo-github-linking",
        "repos": [
            "git@github.com:docker/docs-base.git"
        ],
        "sha": "4983ebade4340e4ecd78b7c61fff3caed1f47cde"
    },
    "docker/engine": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/docker.git"
        ],
        "sha": "d001fd763ae6710f3385fe77186ba0cdc9bb8ee8"
    },
    "docker/machine": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/machine.git"
        ],
        "sha": "6643d0e53ed8f7a15391425d8336d6734bc9a097"
    },
    "docker/opensource": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/opensource.git"
        ],
        "sha": "b4cb02bf89772563ec664c87805a21f27f841cb2"
    },
    "docker/registry": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/distribution.git"
        ],
        "sha": "8e367cc7378d0ef798a71bc7f5dfb081a0e80890"
    },
    "docker/swarm": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/swarm.git"
        ],
        "sha": "30e381a29ad0f1917bc0ce444cc33354057b0668"
    },
    "docker/tutorials": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/tutorials.git"
        ],
        "sha": "a7ea64f0fa0e160e3810abec6d80d16aec77dee3"
    },
    "docs.docker.com": {
        "ref": "refs/heads/dtr-1.4.5-release",
        "repos": [
            "git@github.com:moxiegirl/docs.docker.com.git",
            "git@github.com:docker/docs.docker.com.git"
        ],
        "sha": "74fd1a668b79e6177b7d2b927764975685d57a11"
    },
    "kitematic/kitematic": {
        "ref": "master",
        "repos": [
            "git@github.com:kitematic/kitematic.git"
        ],
        "sha": "a8b5b4f2de826fb39e960da00a63d2748ef185a6"
    }
}   </div>
</footer>
<link rel="stylesheet" href="../../highlight/styles/github.css">
<script src="../../highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/dist/assets/js/all.js"></script>
<script src="/dist/assets/js/archive.js"></script>
<script>
  $( 'nav li:has(ul)' ).doubleTapToGo();
</script>
<script>

;(function ( $, window, document, undefined ) {

    var pluginName = 'accordion',
        defaults = {
            transitionSpeed: 300,
            transitionEasing: 'ease',
            controlElement: '[data-control]',
            contentElement: '[data-content]',
            groupElement: '[data-accordion-group]',
            singleOpen: true
        };

    function Accordion(element, options) {
        this.element = element;
        this.options = $.extend({}, defaults, options);
        this._defaults = defaults;
        this._name = pluginName;
        this.init();
    }

    Accordion.prototype.init = function () {
        var self = this,
            opts = self.options;

        var $accordion = $(self.element),
            $controls = $accordion.find('> ' + opts.controlElement),
            $content =  $accordion.find('> ' + opts.contentElement);

        var accordionParentsQty = $accordion.parents('[data-accordion]').length,
            accordionHasParent = accordionParentsQty > 0;

        var closedCSS = { 'max-height': 0, 'overflow': 'hidden' };

        var CSStransitions = supportsTransitions();

        function debounce(func, threshold, execAsap) {
            var timeout;

            return function debounced() {
                var obj = this,
                    args = arguments;

                function delayed() {
                    if (!execAsap) func.apply(obj, args);
                    timeout = null;
                };

                if (timeout) clearTimeout(timeout);
                else if (execAsap) func.apply(obj, args);

                timeout = setTimeout(delayed, threshold || 100);
            };
        }

        function supportsTransitions() {
            var b = document.body || document.documentElement,
                s = b.style,
                p = 'transition';

            if (typeof s[p] == 'string') {
                return true;
            }

            var v = ['Moz', 'webkit', 'Webkit', 'Khtml', 'O', 'ms'];

            p = 'Transition';

            for (var i=0; i<v.length; i++) {
                if (typeof s[v[i] + p] == 'string') {
                    return true;
                }
            }

            return false;
        }

        function requestAnimFrame(cb) {
            if(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame) {
                return  requestAnimationFrame(cb) ||
                        webkitRequestAnimationFrame(cb) ||
                        mozRequestAnimationFrame(cb);
            } else {
                return setTimeout(cb, 1000 / 60);
            }
        }

        function toggleTransition($el, remove) {
            if(!remove) {
                $content.css({
                    '-webkit-transition': 'max-height ' + opts.transitionSpeed + 'ms ' + opts.transitionEasing,
                    'transition': 'max-height ' + opts.transitionSpeed + 'ms ' + opts.transitionEasing
                });
            } else {
                $content.css({
                    '-webkit-transition': '',
                    'transition': ''
                });
            }
        }

        function calculateHeight($el) {
            var height = 0;

            $el.children().each(function() {
                height = height + $(this).outerHeight(true);
            });

            $el.data('oHeight', height);
        }

        function updateParentHeight($parentAccordion, $currentAccordion, qty, operation) {
            var $content = $parentAccordion.filter('.open').find('> [data-content]'),
                $childs = $content.find('[data-accordion].open > [data-content]'),
                $matched;

            if(!opts.singleOpen) {
                $childs = $childs.not($currentAccordion.siblings('[data-accordion].open').find('> [data-content]'));
            }

            $matched = $content.add($childs);

            if($parentAccordion.hasClass('open')) {
                $matched.each(function() {
                    var currentHeight = $(this).data('oHeight');

                    switch (operation) {
                        case '+':
                            $(this).data('oHeight', currentHeight + qty);
                            break;
                        case '-':
                            $(this).data('oHeight', currentHeight - qty);
                            break;
                        default:
                            throw 'updateParentHeight method needs an operation';
                    }

                    $(this).css('max-height', $(this).data('oHeight'));
                });
            }
        }

        function refreshHeight($accordion) {
            if($accordion.hasClass('open')) {
                var $content = $accordion.find('> [data-content]'),
                    $childs = $content.find('[data-accordion].open > [data-content]'),
                    $matched = $content.add($childs);

                calculateHeight($matched);

                $matched.css('max-height', $matched.data('oHeight'));
            }
        }

        function closeAccordion($accordion, $content) {
            $accordion.trigger('accordion.close');
            
            if(CSStransitions) {
                if(accordionHasParent) {
                    var $parentAccordions = $accordion.parents('[data-accordion]');

                    updateParentHeight($parentAccordions, $accordion, $content.data('oHeight'), '-');
                }

                $content.css(closedCSS);

                $accordion.removeClass('open');
            } else {
                $content.css('max-height', $content.data('oHeight'));

                $content.animate(closedCSS, opts.transitionSpeed);

                $accordion.removeClass('open');
            }
        }

        function openAccordion($accordion, $content) {
            $accordion.trigger('accordion.open');
            if(CSStransitions) {
                toggleTransition($content);

                if(accordionHasParent) {
                    var $parentAccordions = $accordion.parents('[data-accordion]');

                    updateParentHeight($parentAccordions, $accordion, $content.data('oHeight'), '+');
                }

                requestAnimFrame(function() {
                    $content.css('max-height', $content.data('oHeight'));
                });

                $accordion.addClass('open');
            } else {
                $content.animate({
                    'max-height': $content.data('oHeight')
                }, opts.transitionSpeed, function() {
                    $content.css({'max-height': 'none'});
                });

                $accordion.addClass('open');
            }
        }

        function closeSiblingAccordions($accordion) {
            var $accordionGroup = $accordion.closest(opts.groupElement);

            var $siblings = $accordion.siblings('[data-accordion]').filter('.open'),
                $siblingsChildren = $siblings.find('[data-accordion]').filter('.open');

            var $otherAccordions = $siblings.add($siblingsChildren);

            $otherAccordions.each(function() {
                var $accordion = $(this),
                    $content = $accordion.find(opts.contentElement);

                closeAccordion($accordion, $content);
            });

            $otherAccordions.removeClass('open');
        }

        function toggleAccordion() {
            var isAccordionGroup = (opts.singleOpen) ? $accordion.parents(opts.groupElement).length > 0 : false;

            calculateHeight($content);

            if(isAccordionGroup) {
                closeSiblingAccordions($accordion);
            }

            if($accordion.hasClass('open')) {
                closeAccordion($accordion, $content);
            } else {
                openAccordion($accordion, $content);
            }
        }

        function addEventListeners() {
            $controls.on('click', toggleAccordion);
            
            $controls.on('accordion.toggle', function() {
                if(opts.singleOpen && $controls.length > 1) {
                    return false;
                }
                
                toggleAccordion();
            });

            $(window).on('resize', debounce(function() {
                refreshHeight($accordion);
            }));
        }

        function setup() {
            $content.each(function() {
                var $curr = $(this);

                if($curr.css('max-height') != 0) {
                    if(!$curr.closest('[data-accordion]').hasClass('open')) {
                        $curr.css({ 'max-height': 0, 'overflow': 'hidden' });
                    } else {
                        toggleTransition($curr);
                        calculateHeight($curr);

                        $curr.css('max-height', $curr.data('oHeight'));
                    }
                }
            });


            if(!$accordion.attr('data-accordion')) {
                $accordion.attr('data-accordion', '');
                $accordion.find(opts.controlElement).attr('data-control', '');
                $accordion.find(opts.contentElement).attr('data-content', '');
            }
        }

        setup();
        addEventListeners();
    };

    $.fn[pluginName] = function ( options ) {
        return this.each(function () {
            if (!$.data(this, 'plugin_' + pluginName)) {
                $.data(this, 'plugin_' + pluginName,
                new Accordion( this, options ));
            }
        });
    }

})( jQuery, window, document );

$(document).ready(function() {
  $('#multiple [data-accordion]').accordion({
    singleOpen: false
  });
});

</script>


<script type="text/javascript">
 	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
 	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
 	  analytics.page();
 	  }}();
 	</script>

