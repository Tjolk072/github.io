<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
  <meta name="docker_version" content="1.6.1">
  <meta name="docker_git_branch" content="master">
  <meta name="docker_git_commit" content="59cd467">
  <meta name="docker_build_date" content="Fri Jun  5 11:40:50 UTC 2015">

  <meta name="description" content="Explains how to deploy a registry server">
  <meta name="keywords" content="registry, service, images, repository">
  
  <link rel="canonical" href="/registry/deploying/">
  <link href="/css/bootstrap-custom.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/prettify-1.0.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/dockerfile_tutorial.css">
  <link href="/tipuesearch
/tipuesearch.css" rel="stylesheet">
  <link href="/css/docs.css" rel="stylesheet">
  <link rel="shortcut icon" href="/img/favicon.png">
  <title>&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Deploy a registry - Docker Documentation</title>
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
  
  <script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
  
</head>
<body>

<div id="topmostnav" class="topmostnav_loggedout navbar navbar-static-top">
  <div class="container">
    <a href="/" title="Docker Docs Home"><div class="brand logo"><img src="/img/nav/docker-logo-loggedin.png"> </div></a>
    <form id="nav_search" class="navbar-index-search pull-right" action="/jsearch/">
      <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span>
      <input name="q" id="tipue_search_input" type="text" class="search_input search-query ui-autocomplete-input" placeholder="Search the Docs" autocomplete="off">
    </form>
    <ul class="nav">
      <li class=""><a href="http://www.docker.com/whatisdocker/" title="What is Docker">What is Docker?</a></li>
      <li class=""><a href="http://www.docker.com/resources/usecases/" title="Use Cases">Use Cases</a></li>
      <li class=""><a href="http://www.docker.com/tryit/" title="Try It!">Try It!</a></li>
      <li><a href="https://registry.hub.docker.com" title="Browse">Browse</a></li>
    </ul>
    <div id="usernav" class="pull-right">
      <a href="https://hub.docker.com/account/login" class="btn nav-button2" title="Lg In">Log In</a>
      <a href="https://hub.docker.com/account/signup" class="btn nav-button1" title="Sign Up">Sign Up</a>
    </div>
  </div>
</div>
<div id="topmostnav" class="topmostnav_loggedin navbar navbar-static-top">
  <div class="container">
    <a href="/" title="Docker Docs Home"><div class="brand logo"><img src="/img/nav/docker-logo-loggedin.png"> </div></a>
    <form id="nav_search" class="navbar-index-search pull-right" action="/jsearch/">
      <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span>
      <input name="q" id="tipue_search_input" type="text" class="search_input search-query ui-autocomplete-input" placeholder="Search the Docs" autocomplete="off">
    </form>
    <ul class="nav">
      <li><a href="https://registry.hub.docker.com" title="Browse Repos">Browse Repos</a></li>
      <li class="active"><a href="http://docs.docker.com" title="Documentation">Documentation</a></li>
      <li><a href="http://www.docker.com/community/participate/" title="Community">Community</a></li>
      <li><a href="http://www.docker.com/resources/help/" title="Help">Help</a></li>
    </ul>
    <div id="usernav" class="pull-right">
      <ul class="nav user">
        <li class="dropdown">
          <a id="logged-in-header-username" class="dropdown-toggle" data-toggle="dropdown" href="#">
            <img class="profile" src="" alt="profile picture">
          </a>
          <ul class="dropdown-menu pull-right">
            <li><a href="https://hub.docker.com/">View Profile</a></li>
            <li><a href="https://hub.docker.com/account/settings/">Settings</a></li>
            <li><a href="https://hub.docker.com/repos/">My Repositories</a></li>
            <li><a href="https://hub.docker.com/plans/billing-info">Billing</a></li>
            <li><a href="https://hub.docker.com/account/logout/?next=/">Log out</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>

<div id="wrap">
  <nav id="nav_menu" class="clearfix navbar navbar-default navbar-static-top affix" role="navigation">
  <div id="docsnav">
    <ul id="main-nav" class="pull-left">
      
      
      <li class="dd_menu pull-left">
        
        <a href="/">About</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/">Docker</a>
          </li>
        
          <li >
            <a href="/release-notes/">Release Notes</a>
          </li>
        
          <li >
            <a href="/introduction/understanding-docker/">Understanding Docker</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/installation/ubuntulinux/">Installation</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/installation/ubuntulinux/">Ubuntu</a>
          </li>
        
          <li >
            <a href="/installation/mac/">Mac OS X</a>
          </li>
        
          <li >
            <a href="/kitematic/">Kitematic on OS X</a>
          </li>
        
          <li >
            <a href="/installation/windows/">Microsoft Windows</a>
          </li>
        
          <li >
            <a href="/installation/testing-windows-docker-client/">Building and testing the Windows Docker client</a>
          </li>
        
          <li >
            <a href="/installation/amazon/">Amazon EC2</a>
          </li>
        
          <li >
            <a href="/installation/archlinux/">Arch Linux</a>
          </li>
        
          <li >
            <a href="/installation/binaries/">Binaries</a>
          </li>
        
          <li >
            <a href="/installation/centos/">CentOS</a>
          </li>
        
          <li >
            <a href="/installation/cruxlinux/">CRUX Linux</a>
          </li>
        
          <li >
            <a href="/installation/debian/">Debian</a>
          </li>
        
          <li >
            <a href="/installation/fedora/">Fedora</a>
          </li>
        
          <li >
            <a href="/installation/frugalware/">FrugalWare</a>
          </li>
        
          <li >
            <a href="/installation/google/">Google Cloud Platform</a>
          </li>
        
          <li >
            <a href="/installation/gentoolinux/">Gentoo</a>
          </li>
        
          <li >
            <a href="/installation/softlayer/">IBM Softlayer</a>
          </li>
        
          <li >
            <a href="/installation/joyent/">Joyent Compute Service</a>
          </li>
        
          <li >
            <a href="/installation/azure/">Microsoft Azure</a>
          </li>
        
          <li >
            <a href="/installation/rackspace/">Rackspace Cloud</a>
          </li>
        
          <li >
            <a href="/installation/rhel/">Red Hat Enterprise Linux</a>
          </li>
        
          <li >
            <a href="/installation/oracle/">Oracle Linux</a>
          </li>
        
          <li >
            <a href="/installation/SUSE/">SUSE</a>
          </li>
        
          <li >
            <a href="/compose/install/">Docker Compose</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/userguide/">User Guide</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/userguide/">The Docker User Guide</a>
          </li>
        
          <li >
            <a href="/userguide/dockerhub/">Getting Started with Docker Hub</a>
          </li>
        
          <li >
            <a href="/userguide/dockerizing/">Dockerizing Applications</a>
          </li>
        
          <li >
            <a href="/userguide/usingdocker/">Working with Containers</a>
          </li>
        
          <li >
            <a href="/userguide/dockerimages/">Working with Docker Images</a>
          </li>
        
          <li >
            <a href="/userguide/dockerlinks/">Linking containers together</a>
          </li>
        
          <li >
            <a href="/userguide/dockervolumes/">Managing data in containers</a>
          </li>
        
          <li >
            <a href="/userguide/labels-custom-metadata/">Apply custom metadata</a>
          </li>
        
          <li >
            <a href="/userguide/dockerrepos/">Working with Docker Hub</a>
          </li>
        
          <li >
            <a href="/compose/">Docker Compose</a>
          </li>
        
          <li >
            <a href="/compose/production/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Use Compose in production</a>
          </li>
        
          <li >
            <a href="/compose/extends/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Extend Compose services</a>
          </li>
        
          <li >
            <a href="/machine/">Docker Machine</a>
          </li>
        
          <li >
            <a href="/swarm/">Docker Swarm</a>
          </li>
        
          <li >
            <a href="/kitematic/userguide/">Kitematic</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/docker-hub/">Docker Hub</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/docker-hub/">Docker Hub</a>
          </li>
        
          <li >
            <a href="/docker-hub/accounts/">Accounts</a>
          </li>
        
          <li >
            <a href="/docker-hub/userguide/">User Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub/repos/">Your Repositories</a>
          </li>
        
          <li >
            <a href="/docker-hub/builds/">Automated Builds</a>
          </li>
        
          <li >
            <a href="/docker-hub/official_repos/">Official Repositories</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/docker-hub-enterprise/">Docker Hub Enterprise</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/docker-hub-enterprise/">Overview</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/quick-start/">Quick Start: Basic Workflow</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/userguide/">User Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/adminguide/">Admin Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/install/">&nbsp;&nbsp;Installation</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/configuration/">&nbsp;&nbsp;Configuration options</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/support/">Support</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/release-notes/">Release notes</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/examples/nodejs_web_app/">Examples</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/examples/nodejs_web_app/">Dockerizing a Node.js web application</a>
          </li>
        
          <li >
            <a href="/examples/mongodb/">Dockerizing MongoDB</a>
          </li>
        
          <li >
            <a href="/examples/running_redis_service/">Dockerizing a Redis service</a>
          </li>
        
          <li >
            <a href="/examples/postgresql_service/">Dockerizing a PostgreSQL service</a>
          </li>
        
          <li >
            <a href="/examples/running_riak_service/">Dockerizing a Riak service</a>
          </li>
        
          <li >
            <a href="/examples/running_ssh_service/">Dockerizing an SSH service</a>
          </li>
        
          <li >
            <a href="/examples/couchdb_data_volumes/">Dockerizing a CouchDB service</a>
          </li>
        
          <li >
            <a href="/examples/apt-cacher-ng/">Dockerizing an Apt-Cacher-ng service</a>
          </li>
        
          <li >
            <a href="/compose/django/">Getting started with Compose and Django</a>
          </li>
        
          <li >
            <a href="/compose/rails/">Getting started with Compose and Rails</a>
          </li>
        
          <li >
            <a href="/compose/wordpress/">Getting started with Compose and Wordpress</a>
          </li>
        
          <li >
            <a href="/kitematic/minecraft-server/">Kitematic: Minecraft server</a>
          </li>
        
          <li >
            <a href="/kitematic/nginx-web-server/">Kitematic: Ngnix web server</a>
          </li>
        
          <li >
            <a href="/kitematic/rethinkdb-dev-database/">Kitematic: RethinkDB development database</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/articles/basics/">Articles</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/articles/basics/">Docker basics</a>
          </li>
        
          <li >
            <a href="/articles/networking/">Advanced networking</a>
          </li>
        
          <li >
            <a href="/articles/security/">Security</a>
          </li>
        
          <li >
            <a href="/articles/https/">Running Docker with HTTPS</a>
          </li>
        
          <li >
            <a href="/articles/registry_mirror/">Run a local registry mirror</a>
          </li>
        
          <li >
            <a href="/articles/host_integration/">Automatically starting containers</a>
          </li>
        
          <li >
            <a href="/articles/baseimages/">Creating a base image</a>
          </li>
        
          <li >
            <a href="/articles/dockerfile_best-practices/">Best practices for writing Dockerfiles</a>
          </li>
        
          <li >
            <a href="/articles/certificates/">Using certificates for repository client verification</a>
          </li>
        
          <li >
            <a href="/articles/using_supervisord/">Using Supervisor</a>
          </li>
        
          <li >
            <a href="/articles/configuring/">Configuring Docker</a>
          </li>
        
          <li >
            <a href="/articles/cfengine_process_management/">Process management with CFEngine</a>
          </li>
        
          <li >
            <a href="/articles/puppet/">Using Puppet</a>
          </li>
        
          <li >
            <a href="/articles/chef/">Using Chef</a>
          </li>
        
          <li >
            <a href="/articles/dsc/">Using PowerShell DSC</a>
          </li>
        
          <li >
            <a href="/articles/ambassador_pattern_linking/">Cross-Host linking using ambassador containers</a>
          </li>
        
          <li >
            <a href="/articles/runmetrics/">Runtime metrics</a>
          </li>
        
          <li >
            <a href="/articles/b2d_volume_resize/">Increasing a Boot2Docker volume</a>
          </li>
        
          <li >
            <a href="/articles/systemd/">Controlling and configuring Docker using Systemd</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left active">
        
        <a href="/reference/commandline/cli/">Reference</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/reference/commandline/cli/">Docker command line</a>
          </li>
        
          <li >
            <a href="/reference/builder/">Dockerfile</a>
          </li>
        
          <li >
            <a href="/faq/">FAQ</a>
          </li>
        
          <li >
            <a href="/reference/run/">Run Reference</a>
          </li>
        
          <li >
            <a href="/compose/cli/">Compose command line</a>
          </li>
        
          <li >
            <a href="/compose/yml/">Compose yml</a>
          </li>
        
          <li >
            <a href="/compose/env/">Compose ENV variables</a>
          </li>
        
          <li >
            <a href="/compose/completion/">Compose commandline completion</a>
          </li>
        
          <li >
            <a href="/swarm/discovery/">Swarm discovery</a>
          </li>
        
          <li >
            <a href="/swarm/scheduler/strategy/">Swarm strategies</a>
          </li>
        
          <li >
            <a href="/swarm/scheduler/filter/">Swarm filters</a>
          </li>
        
          <li >
            <a href="/swarm/API/">Swarm API</a>
          </li>
        
          <li >
            <a href="/registry/">Docker Registry 2.0</a>
          </li>
        
          <li class="active">
            <a href="/registry/deploying/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Deploy a registry</a>
          </li>
        
          <li >
            <a href="/registry/configuration/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Configure a registry</a>
          </li>
        
          <li >
            <a href="/registry/storagedrivers/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Storage driver model</a>
          </li>
        
          <li >
            <a href="/registry/notifications/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Work with notifications</a>
          </li>
        
          <li >
            <a href="/registry/spec/api/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Registry Service API v2</a>
          </li>
        
          <li >
            <a href="/registry/spec/json/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; JSON format</a>
          </li>
        
          <li >
            <a href="/registry/spec/auth/token/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Authenticate via central service</a>
          </li>
        
          <li >
            <a href="/reference/api/hub_registry_spec/">Docker Hub and Registry 1.0</a>
          </li>
        
          <li >
            <a href="/reference/api/registry_api/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp;Docker Registry API v1</a>
          </li>
        
          <li >
            <a href="/reference/api/registry_api_client_libraries/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp;Docker Registry 1.0 API Client Libraries</a>
          </li>
        
          <li >
            <a href="/reference/api/docker-io_api/">Docker Hub API</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api/">Docker Remote API</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.18/">Docker Remote API v1.18</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.17/">Docker Remote API v1.17</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.16/">Docker Remote API v1.16</a>
          </li>
        
          <li >
            <a href="/reference/api/remote_api_client_libraries/">Docker Remote API client libraries</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_io_accounts_api/">Docker Hub accounts API</a>
          </li>
        
          <li >
            <a href="/kitematic/faq/">Kitematic: FAQ</a>
          </li>
        
          <li >
            <a href="/kitematic/known-issues/">Kitematic: Known issues</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/project/who-written-for/">Contributor</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/project/who-written-for/">README first</a>
          </li>
        
          <li >
            <a href="/project/software-required/">Get required software for Linux or OS X</a>
          </li>
        
          <li >
            <a href="/project/software-req-win/">Get required software for Windows</a>
          </li>
        
          <li >
            <a href="/project/set-up-git/">Configure Git for contributing</a>
          </li>
        
          <li >
            <a href="/project/set-up-dev-env/">Work with a development container</a>
          </li>
        
          <li >
            <a href="/project/test-and-docs/">Run tests and test documentation</a>
          </li>
        
          <li >
            <a href="/project/make-a-contribution/">Understand contribution workflow</a>
          </li>
        
          <li >
            <a href="/project/find-an-issue/">Find an issue</a>
          </li>
        
          <li >
            <a href="/project/work-issue/">Work on an issue</a>
          </li>
        
          <li >
            <a href="/project/create-pr/">Create a pull request</a>
          </li>
        
          <li >
            <a href="/project/review-pr/">Participate in the PR review</a>
          </li>
        
          <li >
            <a href="/project/advanced-contributing/">Advanced contributing</a>
          </li>
        
          <li >
            <a href="/project/get-help/">Where to get help</a>
          </li>
        
          <li >
            <a href="/project/coding-style/">Coding style guide</a>
          </li>
        
          <li >
            <a href="/project/doc-style/">Documentation style guide</a>
          </li>
        
        </ul>
      </li>
      
      
    </ul>
  </div>
</nav>
  <div id="content" class="container">
    <div class="row">

      <div class="span3" id="leftnav">
        <div id="toc_table">
          <ul class="nav nav-tabs nav-stacked">
            
  
    <li class=""><a href="#simple-example-with-the-official-image">Simple example with the official image</a>
      <ul>
    
      <li><a href="#making-dockers-official-registry-image-production-ready">Making Docker's official registry image production ready</a></li>
    
      </ul>
    </li>
  
    <li class=""><a href="#understand-production-deployment">Understand production deployment</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#configure-tls-on-a-registry-server">Configure TLS on a registry server</a>
      <ul>
    
      <li><a href="#download-the-source-and-generate-certificates">Download the source and generate certificates</a></li>
    
      <li><a href="#add-tls-to-the-configuration">Add TLS to the configuration</a></li>
    
      <li><a href="#build-and-run-your-registry-image">Build and run your registry image</a></li>
    
      </ul>
    </li>
  
    <li class=""><a href="#configure-nginx-with-a-v1-and-v2-registry">Configure Nginx with a v1 and v2 registry</a>
      <ul>
    
      <li><a href="#install-docker-compose">Install Docker Compose</a></li>
    
      <li><a href="#do-some-housekeeping">Do some housekeeping</a></li>
    
      <li><a href="#configure-ssl">Configure SSL</a></li>
    
      <li><a href="#build-and-run">Build and run</a></li>
    
      <li><a href="#explore-a-bit">Explore a bit</a></li>
    
      </ul>
    </li>
  

          </ul>
        </div>
      </div>
      <div class="span9 content-body">

        

        <h1 id="deploying-a-registry-server">Deploying a registry server</h1>
<p>This section explains how to deploy a Docker Registry either privately
for your own company or publicly for other users. For example, your company may
require a private registry to support your continuous integration (CI) system as
it builds new releases or test servers. Alternatively, your company may have a
large number of products or services with images you wish to serve in a branded
manner.</p>
<p>Docker's public registry maintains a default <code>registry</code> image to assist you in the
deployment process. This registry image is sufficient for running local tests
but is insufficient for production. For production you should configure and
build your own custom registry image from the <code>docker/distribution</code> code.</p>
<blockquote>
<p><strong>Note</strong>: The examples on this page were written and tested using Ubuntu 14.04. 
If you are running Docker in a different OS, you may need to "translate"
the commands to meet the requirements of your own environment. </p>
</blockquote>
<h2 id="simple-example-with-the-official-image">Simple example with the official image</h2>
<p>In this section, you create a container running Docker's official registry
image. You push an image to, and then pull the same image from, this registry.
This a good exercise for understanding the basic interactions a client has with
a local registry.</p>
<ol>
<li>
<p>Install Docker.</p>
</li>
<li>
<p>Run the <code>hello-world</code> image from the Docker public registry.</p>
<pre class="prettyprint well"><code>$ docker run hello-world
</code></pre>
<p>The <code>run</code> command automatically pulls a <code>hello-world</code> image from Docker's
official images.</p>
</li>
<li>
<p>Start a registry on your localhost.</p>
<pre class="prettyprint well"><code>$ docker run -p 5000:5000 registry:2.0
</code></pre>
<p>This starts a registry on your <code>DOCKER_HOST</code> running on port <code>5000</code>. </p>
</li>
<li>
<p>List your images.</p>
<pre class="prettyprint well"><code> $ docker images
 REPOSITORY     TAG     IMAGE ID      CREATED       VIRTUAL SIZE
 registry       2.0     bbf0b6ffe923  3 days ago    545.1 MB
 golang         1.4     121a93c90463  5 days ago    514.9 MB
 hello-world    latest  e45a5af57b00  3 months ago  910 B
</code></pre>
<p>Your list should include a <code>hello-world</code> image from the earlier run.</p>
</li>
<li>
<p>Retag the <code>hello-world</code> image for your local repoistory.</p>
<pre class="prettyprint well"><code>$ docker tag hello-world:latest localhost:5000/hello-mine:latest
</code></pre>
<p>The command labels a <code>hello-world:latest</code> using a new tag in the
 <code>[REGISTRYHOST/]NAME[:TAG]</code> format.  The <code>REGISTRYHOST</code> is this case is
 <code>localhost</code>. In a Mac OSX environment, you'd substitute <code>$(boot2docker
 ip):5000</code> for the <code>localhost</code>.</p>
</li>
<li>
<p>List your new image.</p>
<pre class="prettyprint well"><code> $ docker images
 REPOSITORY                  TAG          IMAGE ID      CREATED       VIRTUAL SIZE
 registry                    2.0     bbf0b6ffe923  3 days ago    545.1 MB
 golang                      1.4     121a93c90463  5 days ago    514.9 MB
 hello-world                 latest  e45a5af57b00  3 months ago  910 B       
 localhost:5000/hello-mine   latest  ef5a5gf57b01  3 months ago  910 B
</code></pre>
<p>You should see your new image in your listing.</p>
</li>
<li>
<p>Push this new image to your local registry.</p>
<pre class="prettyprint well"><code>$ docker push localhost:5000/hello-mine:latest
The push refers to a repository [localhost:5000/hello-mine] (len: 1)
e45a5af57b00: Image already exists 
31cbccb51277: Image successfully pushed 
511136ea3c5a: Image already exists 
Digest: sha256:a1b13bc01783882434593119198938b9b9ef2bd32a0a246f16ac99b01383ef7a
</code></pre>
</li>
<li>
<p>Use the <code>curl</code> command and the Docker Registry API v2 to list your
   image in the registry:</p>
<pre class="prettyprint well"><code>$ curl -v -X GET http://localhost:5000/v2/hello-mine/tags/list
* Hostname was NOT found in DNS cache
*   Trying 127.0.0.1...
* Connected to localhost (127.0.0.1) port 5000 (#0)
&gt; GET /v2/hello-mine/tags/list HTTP/1.1
&gt; User-Agent: curl/7.35.0
&gt; Host: localhost:5000
&gt; Accept: */*
&gt; 
&lt; HTTP/1.1 200 OK
&lt; Content-Type: application/json; charset=utf-8
&lt; Docker-Distribution-Api-Version: registry/2.0
&lt; Date: Sun, 12 Apr 2015 01:29:47 GMT
&lt; Content-Length: 40
&lt; 
{"name":"hello-mine","tags":["latest"]}
* Connection #0 to host localhost left intact
</code></pre>
<p>You can also get this information by entering the
<code>http://localhost:5000/v2/hello-mine/tags/list</code> address in your browser.</p>
</li>
<li>
<p>Remove all the unused images from your local environment:</p>
<pre class="prettyprint well"><code>$ docker rmi -f $(docker images -q -a )
</code></pre>
<p>This command is for illustrative purposes; removing the image forces any <code>run</code>
to pull from a registry rather than a local cache. If you run <code>docker images</code>
after this you should not see any instance of <code>hello-world</code> or <code>hello-mine</code> in
your images list.</p>
<pre class="prettyprint well"><code> $ docker images
 REPOSITORY      TAG      IMAGE ID      CREATED       VIRTUAL SIZE
 registry         2.0     bbf0b6ffe923  3 days ago    545.1 MB
 golang           1.4     121a93c90463  5 days ago    514.9 MB
</code></pre>
</li>
<li>
<p>Try running <code>hello-mine</code>.</p>
<pre class="prettyprint well"><code>$ docker run hello-mine
Unable to find image 'hello-mine:latest' locally
Pulling repository hello-mine
FATA[0001] Error: image library/hello-mine:latest not found
</code></pre>
<p>The <code>run</code> command fails because your new image doesn't exist in the Docker public
registry.</p>
</li>
<li>
<p>Now, try running the image but specifying the image's registry:</p>
<pre class="prettyprint well"><code>$ docker run localhost:5000/hello-mine
</code></pre>
<p>If you run <code>docker images</code> after this you'll fine a <code>hello-mine</code> instance. </p>
</li>
</ol>
<h3 id="making-dockers-official-registry-image-production-ready">Making Docker's official registry image production ready</h3>
<p>Docker's official image is for simple tests or debugging. Its configuration is
unsuitable for most production instances. For example, any client with access to
the server's IP can push and pull images to it. See the next section for
information on making this image production ready.</p>
<h2 id="understand-production-deployment">Understand production deployment</h2>
<p>When deploying a registry for a production deployment you should consider these
factors:</p>
<table>
  <tr>
    <th align="left">
        backend storage
    </th>
    <td>
        Where should you store the images? 
    </td>
  </tr>
  <tr>
    <th align="left">
        access and/or authentication
    </th>
    <td>
        Should users have full or controlled access? This can depend on whether
        you are serving images to the public or internally to your company only.
    </td>
  </tr>
   <tr>
    <th align="left">
        debugging
    </th>
    <td>
        When problems or issues arise, do you have the means of solving them. Logs
        are useful as is reporting to see trends.
    </td>
  </tr>
  <tr>
    <th align="left">
        caching
    </th>
    <td>
        Quickly retrieving images can be crucial if you are relying on images for
        tests, builds, or other automated systems.
    </td>
  </tr>     
</table>

<p>You can configure your registry features to adjust for these factors. You do
this by specifying options on the command line or, more typically, by writing a
registry configuration file. The configuration file is in YAML format.</p>
<p>Docker's official repository image is preconfigured using the following
configuration file:</p>
<pre class="prettyprint well"><code class="yaml">version: 0.1
log:
  level: debug
  fields:
    service: registry
    environment: development
storage:
  cache:
      layerinfo: inmemory
  filesystem:
      rootdirectory: /tmp/registry-dev
  maintenance:
        uploadpurging:
            enabled: false
http:
  addr: :5000
  secret: asecretforlocaldevelopment
  debug:
      addr: localhost:5001
redis:
  addr: localhost:6379
  pool:
    maxidle: 16
    maxactive: 64
    idletimeout: 300s
  dialtimeout: 10ms
  readtimeout: 10ms
  writetimeout: 10ms
notifications:
  endpoints:
      - name: local-8082
        url: http://localhost:5003/callback
        headers:
           Authorization: [Bearer &lt;an example token&gt;]
        timeout: 1s
        threshold: 10
        backoff: 1s
        disabled: true
      - name: local-8083
        url: http://localhost:8083/callback
        timeout: 1s
        threshold: 10
        backoff: 1s
        disabled: true
</code></pre>

<p>This configuration is very basic and you can see it would present some problems
in a production. For example, the <code>http</code> section details the configuration for
the HTTP server that hosts the registry. The server is not using even the most
minimal transport layer security (TLS). Let's configure that in the next section. </p>
<h2 id="configure-tls-on-a-registry-server">Configure TLS on a registry server</h2>
<p>In this section, you configure TLS on the server to enable communication through
the <code>https</code> protocol. Enabling TLS on the server is the minimum layer of
security recommended for running a registry behind a corporate firewall. One way
to do this is to build your own registry image.  </p>
<h3 id="download-the-source-and-generate-certificates">Download the source and generate certificates</h3>
<ol>
<li>
<p><a href="https://github.com/docker/distribution/releases/tag/v2.0.0">Download the registry
source</a>.</p>
<p>Alternatively, use the <code>git clone</code> command if you are more comfortable with that.</p>
</li>
<li>
<p>Unpack the the downloaded package into a local directory.</p>
<p>The package creates a <code>distribution</code> directory.</p>
</li>
<li>
<p>Change to the root of the new <code>distribution</code> directory.</p>
<pre class="prettyprint well"><code>$ cd distribution
</code></pre>
</li>
<li>
<p>Make a <code>certs</code> subdirectory.</p>
<pre class="prettyprint well"><code>$ mkdir certs
</code></pre>
</li>
<li>
<p>Use SSL to generate some self-signed certificates.</p>
<pre class="prettyprint well"><code>$ openssl req \
         -newkey rsa:2048 -nodes -keyout certs/domain.key \
         -x509 -days 365 -out certs/domain.crt
</code></pre>
<p>This command prompts you for basic information it needs to create the certificates.</p>
</li>
<li>
<p>List the contents of the <code>certs</code> directory.</p>
<pre class="prettyprint well"><code>$ ls certs
domain.crt  domain.key
</code></pre>
<p>When you build this container, the <code>certs</code> directory and its contents
automatically get copied also.</p>
</li>
</ol>
<h3 id="add-tls-to-the-configuration">Add TLS to the configuration</h3>
<p>The <code>distribution</code> repo includes sample registry configurations in the <code>cmd</code>
subdirectory. In this section, you edit one of these configurations to add TLS
support. </p>
<ol>
<li>
<p>Edit the <code>./cmd/registry/config.yml</code>  file.</p>
<pre class="prettyprint well"><code>$ vi ./cmd/registry/config.yml
</code></pre>
</li>
<li>
<p>Locate the <code>http</code> block.</p>
<pre class="prettyprint well"><code>http:
        addr: :5000
        secret: asecretforlocaldevelopment
        debug:
                addr: localhost:5001
</code></pre>
</li>
<li>
<p>Add a <code>tls</code> block for the server's self-signed certificates:</p>
<pre class="prettyprint well"><code>http:
        addr: :5000
        secret: asecretforlocaldevelopment
        debug:
                addr: localhost:5001
        tls:
            certificate: /go/src/github.com/docker/distribution/certs/domain.crt
            key: /go/src/github.com/docker/distribution/certs/domain.key
</code></pre>
<p>You provide the paths to the certificates in the container. If you want
two-way authentication across the layer, you can add an optional <code>clientcas</code>
section.</p>
</li>
<li>
<p>Save and close the file.</p>
</li>
</ol>
<h3 id="build-and-run-your-registry-image">Build and run your registry image</h3>
<ol>
<li>
<p>Build your registry image.</p>
<pre class="prettyprint well"><code>$ docker build -t secure_registry .
</code></pre>
</li>
<li>
<p>Run your new image.</p>
<pre class="prettyprint well"><code>$ docker run -p 5000:5000 secure_registry:latest
time="2015-04-12T03:06:18.616502588Z" level=info msg="endpoint local-8082 disabled, skipping" environment=development instance.id=bf33c9dc-2564-406b-97c3-6ee69dc20ec6 service=registry 
time="2015-04-12T03:06:18.617012948Z" level=info msg="endpoint local-8083 disabled, skipping" environment=development instance.id=bf33c9dc-2564-406b-97c3-6ee69dc20ec6 service=registry 
time="2015-04-12T03:06:18.617190113Z" level=info msg="using inmemory layerinfo cache" environment=development instance.id=bf33c9dc-2564-406b-97c3-6ee69dc20ec6 service=registry 
time="2015-04-12T03:06:18.617349067Z" level=info msg="listening on :5000, tls" environment=development instance.id=bf33c9dc-2564-406b-97c3-6ee69dc20ec6 service=registry 
time="2015-04-12T03:06:18.628589577Z" level=info msg="debug server listening localhost:5001" 
2015/04/12 03:06:28 http: TLS handshake error from 172.17.42.1:44261: remote error: unknown certificate authority

Watch the messages at startup. You should see that `tls` is running.
</code></pre>
</li>
<li>
<p>Use <code>curl</code> to verify that you can connect over <code>https</code>.</p>
<pre class="prettyprint well"><code>$ curl -v https://localhost:5000
* Rebuilt URL to: https://localhost:5000/
* Hostname was NOT found in DNS cache
*   Trying 127.0.0.1...
* Connected to localhost (127.0.0.1) port 5000 (#0)
* successfully set certificate verify locations:
*   CAfile: none
    CApath: /etc/ssl/certs
* SSLv3, TLS handshake, Client hello (1):
* SSLv3, TLS handshake, Server hello (2):
* SSLv3, TLS handshake, CERT (11):
* SSLv3, TLS alert, Server hello (2):
* SSL certificate problem: self signed certificate
* Closing connection 0
curl: (60) SSL certificate problem: self signed certificate
More details here: http://curl.haxx.se/docs/sslcerts.html
</code></pre>
</li>
</ol>
<h2 id="configure-nginx-with-a-v1-and-v2-registry">Configure Nginx with a v1 and v2 registry</h2>
<p>This sections describes how to  user <code>docker-compose</code> to run a combined version
1 and version 2.0 registry behind an <code>nginx</code> proxy. The combined registry is
accessed at <code>localhost:5000</code>. If a <code>docker</code> client has a version less than 1.6,
Nginx will route its requests to the 1.0 registry. Requests from newer clients
will route to the 2.0 registry.</p>
<p>This procedure uses the same <code>distribution</code> directory you created in the last
procedure. The directory includes an example <code>compose</code> configuration. </p>
<h3 id="install-docker-compose">Install Docker Compose</h3>
<ol>
<li>
<p>Open a new terminal on the host with your <code>distribution</code> directory.</p>
</li>
<li>
<p>Get the <code>docker-compose</code> binary.</p>
<pre class="prettyprint well"><code>$ sudo wget https://github.com/docker/compose/releases/download/1.1.0/docker-compose-`uname  -s`-`uname -m` -O /usr/local/bin/docker-compose
</code></pre>
<p>This command installs the binary in the <code>/usr/local/bin</code> directory. </p>
</li>
<li>
<p>Add executable permissions to the binary.</p>
<pre class="prettyprint well"><code>$  sudo chmod +x /usr/local/bin/docker-compose
</code></pre>
</li>
</ol>
<h3 id="do-some-housekeeping">Do some housekeeping</h3>
<ol>
<li>
<p>Remove any previous images.</p>
<pre class="prettyprint well"><code>$ docker rmi -f $(docker images -q -a )
</code></pre>
<p>This step is a house keeping step. It prevents you from mistakenly picking up
 an old image as you work through this example.</p>
</li>
<li>
<p>Edit the <code>distribution/cmd/registry/config.yml</code> file and remove the <code>tls</code> block.</p>
<p>If you worked through the previous example, you'll have a <code>tls</code> block. </p>
</li>
<li>
<p>Save any changes and close the file.</p>
</li>
</ol>
<h3 id="configure-ssl">Configure SSL</h3>
<ol>
<li>
<p>Change to the <code>distribution/contrib/compose/nginx</code> directory.</p>
<p>This directory contains configuration files for Nginx and both registries.</p>
</li>
<li>
<p>Use SSL to generate some self-signed certificates.</p>
<pre class="prettyprint well"><code>$ openssl req \
         -newkey rsa:2048 -nodes -keyout domain.key \
         -x509 -days 365 -out domain.crt
</code></pre>
<p>This command prompts you for basic information it needs to create certificates.</p>
</li>
<li>
<p>Edit the <code>Dockerfile</code>and add the following lines.</p>
<pre class="prettyprint well"><code>COPY domain.crt /etc/nginx/domain.crt
COPY domain.key /etc/nginx/domain.key
</code></pre>
<p>When you are done, the file looks like the following.</p>
<pre class="prettyprint well"><code>FROM nginx:1.7

COPY nginx.conf /etc/nginx/nginx.conf
COPY registry.conf /etc/nginx/conf.d/registry.conf
COPY docker-registry.conf /etc/nginx/docker-registry.conf
COPY docker-registry-v2.conf /etc/nginx/docker-registry-v2.conf
COPY domain.crt /etc/nginx/domain.crt
COPY domain.key /etc/nginx/domain.key
</code></pre>
</li>
<li>
<p>Save and close the <code>Dockerfile</code> file.</p>
</li>
<li>
<p>Edit the <code>registry.conf</code> file and add the following configuration. </p>
<pre class="prettyprint well"><code> ssl on;
    ssl_certificate /etc/nginx/domain.crt;
    ssl_certificate_key /etc/nginx/domain.key;
</code></pre>
<p>This is an <code>nginx</code> configuration file.</p>
</li>
<li>
<p>Save and close the <code>registry.conf</code> file.</p>
</li>
</ol>
<h3 id="build-and-run">Build and run</h3>
<ol>
<li>
<p>Go up to the <code>distribution/contrib/compose</code> directory</p>
<p>This directory includes a single <code>docker-compose.yml</code> configuration.</p>
<pre class="prettyprint well"><code>nginx:
    build: "nginx"
    ports:
        - "5000:5000"
    links:
        - registryv1:registryv1
        - registryv2:registryv2
registryv1:
    image: registry
    ports:
        - "5000"
registryv2:
    build: "../../"
    ports:
        - "5000"
</code></pre>
</li>
</ol>
<p>This configuration builds a new <code>nginx</code> image as specified by the
 <code>nginx/Dockerfile</code> file. The 1.0 registry comes from Docker's official public
 image. Finally, the registry 2.0 image is built from the
 <code>distribution/Dockerfile</code> you've used previously.</p>
<ol>
<li>
<p>Get a registry 1.0 image.</p>
<pre class="prettyprint well"><code>$ docker pull registry:0.9.1
</code></pre>
<p>The Compose configuration looks for this image locally. If you don't do this
step, later steps can fail.</p>
</li>
<li>
<p>Build <code>nginx</code>, the registry 2.0 image, and </p>
<pre class="prettyprint well"><code>$ docker-compose build
registryv1 uses an image, skipping
Building registryv2...
Step 0 : FROM golang:1.4

...

Removing intermediate container 9f5f5068c3f3
Step 4 : COPY docker-registry-v2.conf /etc/nginx/docker-registry-v2.conf
 ---&gt; 74acc70fa106
Removing intermediate container edb84c2b40cb
Successfully built 74acc70fa106
</code></pre>
<p>The commmand outputs its progress until it completes.</p>
</li>
<li>
<p>Start your configuration with compose.</p>
<pre class="prettyprint well"><code>$ docker-compose up
Recreating compose_registryv1_1...
Recreating compose_registryv2_1...
Recreating compose_nginx_1...
Attaching to compose_registryv1_1, compose_registryv2_1, compose_nginx_1
...
</code></pre>
</li>
<li>
<p>In another terminal, display the running configuration.</p>
<pre class="prettyprint well"><code>$ docker ps
CONTAINER ID        IMAGE                       COMMAND                CREATED             STATUS              PORTS                                     NAMES
a81ad2557702        compose_nginx:latest        "nginx -g 'daemon of   8 minutes ago       Up 8 minutes        80/tcp, 443/tcp, 0.0.0.0:5000-&gt;5000/tcp   compose_nginx_1        
0618437450dd        compose_registryv2:latest   "registry cmd/regist   8 minutes ago       Up 8 minutes        0.0.0.0:32777-&gt;5000/tcp                   compose_registryv2_1   
aa82b1ed8e61        registry:latest             "docker-registry"      8 minutes ago       Up 8 minutes        0.0.0.0:32776-&gt;5000/tcp                   compose_registryv1_1
</code></pre>
</li>
</ol>
<h3 id="explore-a-bit">Explore a bit</h3>
<ol>
<li>
<p>Check for TLS on your <code>nginx</code> server.</p>
<pre class="prettyprint well"><code>$ curl -v https://localhost:5000
* Rebuilt URL to: https://localhost:5000/
* Hostname was NOT found in DNS cache
*   Trying 127.0.0.1...
* Connected to localhost (127.0.0.1) port 5000 (#0)
* successfully set certificate verify locations:
*   CAfile: none
    CApath: /etc/ssl/certs
* SSLv3, TLS handshake, Client hello (1):
* SSLv3, TLS handshake, Server hello (2):
* SSLv3, TLS handshake, CERT (11):
* SSLv3, TLS alert, Server hello (2):
* SSL certificate problem: self signed certificate
* Closing connection 0
curl: (60) SSL certificate problem: self signed certificate
More details here: http://curl.haxx.se/docs/sslcerts.html
</code></pre>
</li>
<li>
<p>Tag the <code>v1</code> registry image.</p>
<pre class="prettyprint well"><code> $ docker tag registry:latest localhost:5000/registry_one:latest
</code></pre>
</li>
<li>
<p>Push it to the localhost.</p>
<pre class="prettyprint well"><code> $ docker push localhost:5000/registry_one:latest
</code></pre>
<p>If you are using the 1.6 Docker client, this pushes the image the <code>v2</code>registry.</p>
</li>
<li>
<p>Use <code>curl</code> to list the image in the registry.</p>
<pre class="prettyprint well"><code>    $ curl -v -X GET http://localhost:32777/v2/registry_one/tags/list
    * Hostname was NOT found in DNS cache
    *   Trying 127.0.0.1...
    * Connected to localhost (127.0.0.1) port 32777 (#0)
    &gt; GET /v2/registry_one/tags/list HTTP/1.1
    &gt; User-Agent: curl/7.36.0
    &gt; Host: localhost:32777
    &gt; Accept: */*
    &gt; 
    &lt; HTTP/1.1 200 OK
    &lt; Content-Type: application/json; charset=utf-8
    &lt; Docker-Distribution-Api-Version: registry/2.0
    &lt; Date: Tue, 14 Apr 2015 22:34:13 GMT
    &lt; Content-Length: 39
    &lt; 
    {"name":"registry1","tags":["latest"]}
    * Connection #0 to host localhost left intact
</code></pre>
<p>This example refers to the specific port assigned to the 2.0 registry. You saw
this port earlier, when you used <code>docker ps</code> to show your running containers.</p>
</li>
</ol>

      </div>
    </div>
  </div>

  <div id="push-footer"></div>

</div>



<div id="footer-container" class="container">
  <div id="footer" class="grey-body">
    <div class="row">
      <div class="span2">
        <span class="footer-title">Community</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/community/events/">Events</a></li>
          <li><a class="primary-button" href="http://posts.docker.com">Friends' Posts</a></li>
          <li><a class="primary-button" href="https://www.docker.com/community/meetups/">Meetups</a></li>
          <li><a class="primary-button" href="https://www.docker.com/community/governance/">Governance</a></li>
          <li><a class="primary-button" href="http://forums.docker.com">Forums</a></li>
          <li><a class="primary-button" href="http://botbot.me/freenode/docker">IRC</a></li>
          <li><a class="primary-button" href="https://github.com/docker/docker">GitHub</a></li>
          <li><a class="primary-button" href="http://stackoverflow.com/search?q=docker">Stackoverflow</a></li>
          <li><a class="primary-button" href="http://www.cafepress.com/docker">Swag</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Enterprise</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/enterprise/support/">Support</a></li>
          <li><a class="primary-button" href="https://www.docker.com/enterprise/education/">Education</a></li>
          <li><a class="primary-button" href="https://www.docker.com/enterprise/services/">Services</a></li>
        </ul>
        <span class="footer-title">Partner Solutions</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/partners/find/">Find a Partner</a></li>
          <li><a class="primary-button" href="https://www.docker.com/partners/program/">Partner Program</a></li>
          <li><a class="primary-button" href="https://www.docker.com/partners/learn/">Learn More</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Resources</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://docs.docker.com">Documentation</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/help/">Help</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/usecases/">Use Cases</a></li>
          <li><a class="primary-button" href="http://www.docker.com/tryit/">Online Tutorial</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/howtobuy/">How To Buy</a></li>
          <li><a class="primary-button" href="http://status.docker.com">Status</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/security/">Security</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Company</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/company/aboutus/">About Us</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/team/">Team</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/news/">News</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/press/">Press</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/careers/">Careers</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/contact/">Contact</a></li>
        </ul>
      </div>
      <div class="span3">
        <span class="footer-title">Connect</span>
        <div class="search">
          <span>Subscribe to our newsletter</span>
          <form action="https://www.docker.com/subscribe_newsletter/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='aWL78QXQkY8DSKNYh6cl08p5eTLl7sOa' />
            <tr><th><label for="id_email">Email:</label></th><td><input class="form-control" id="id_email" name="email" placeholder="Enter your email" type="text" /></td></tr>
            
            <button type="submit"><i class="icon-arrow-right"></i> </button>
          </form>
        </div>
        <ul class="unstyled social">
          <li><a title="Docker on Twitter" class="primary-button blog" href="http://blog.docker.com">Blog</a></li>
          <li><a title="Docker on Twitter" class="primary-button twitter" href="http://twitter.com/docker">Twitter</a></li>
          <li><a title="Docker on Google+" class="primary-button googleplus" href="https://plus.google.com/u/0/communities/108146856671494713993">Google+</a></li>
          <li><a title="Docker on Facebook" class="primary-button facebook" href="https://www.facebook.com/docker.run">Facebook</a></li>
          <li><a title="Docker on Youtube" class="primary-button youtube" href="http://www.youtube.com/user/dockerrun">YouTube</a></li>
        </ul>
        <ul class="unstyled social">
          <li><a title="Docker on SlideShare" class="primary-button slideshare" href="http://www.slideshare.net/Docker">Slideshare</a></li>
          <li>
             <a title="Docker on LinkedIn" class="primary-button" href="https://www.linkedin.com/company/docker">
                 <span class="linkedin"></span>
                 LinkedIn
             </a>
          </li>
          <li>
              <a title="Docker on GitHub" class="primary-button" href="https://github.com/docker/">
                  <span class="github"></span>
                  GitHub
              </a>
          </li>
          <li>
              <a title="Docker on Reddit" class="primary-button" href="http://www.reddit.com/r/docker">
                  <span class="reddit"></span>
                  Reddit
              </a>
          </li>
          <li>
              <a title="Docker on AngelList" class="primary-button" href="https://angel.co/docker-inc-1">
                  <span class="angellist"></span>
                  AngelList
              </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="row clearfix">
      <div class="span6 pagination-right copyright">
        <span>&copy; 2014-2015 Docker, Inc.</span>
      </div>
      <div class="span6 pagination-left copyright">
        <a href="http://www.docker.com/legal/terms_of_service">Terms</a> &middot;
        <a href="http://www.docker.com/legal/privacy_policy">Privacy</a> &middot;
        <a href="http://www.docker.com/legal/trademark_guidelines">Trademarks</a>
      </div>
    </div>
  </div>
</div>

<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/jquery.cookie.js" ></script>
<script src="/js/jquery-scrolltofixed-min.js"></script>
<script src="/js/bootstrap-3.0.3.min.js"></script>
<script src="/js/prettify-1.0.min.js"></script>
<script src="/js/dockerfile_tutorial.js"></script>
<script src="/js/dockerfile_tutorial_level.js"></script>
<script src="/js/base.js"></script>
<script src="/tipuesearch/tipuesearch_set.js"></script>
<script src="/tipuesearch/tipuesearch.min.js"></script>
<script type="text/javascript">
piAId = '45082';
piCId = '1482';

(function() {
  function async_load(){
    var s = document.createElement('script'); s.type = 'text/javascript';
    s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
    var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
  }
  if(window.attachEvent) { window.attachEvent('onload', async_load); }
  else { window.addEventListener('load', async_load, false); }
})();
</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('#content').css("min-height", $(window).height() - 553 );
    // if the URL contains a version string, update the version picker to reflect that
    version = document.location.pathname.match(/^\/(v\d\.\d)\/.*/)
    if (version && version[1]) {
        $('#document-version-number')[0].text = 'Version '+version[1];
    } else {
        $('#document-version-number')[0].text = $('#document-version-number')[0].text + " (Latest)"
    }
    // load the complete versions list
    $.get("/versions.html_fragment", function( data ) {
    	$('#documentation-version-list').prepend(data);
	//remove any "/v1.1/" bits from front, so we can add the path to the version selection dropdown.
	path = document.location.pathname.replace(/^\/v\d\.\d/, "");
	$('#documentation-version-list a.version').each(function(i, e) {
		e.href = e.href+path;
		$(e).removeClass()
	});
    });

  })
  var userName = getCookie('docker_sso_username');
  if (userName) {
    $('.topmostnav_loggedout').hide();
    $('.topmostnav_loggedin').show();
    $('#logged-in-header-username').text(userName);
  } else {
    $('.topmostnav_loggedout').show();
    $('.topmostnav_loggedin').hide();
  }
</script>
</body>
</html>