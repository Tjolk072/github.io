<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
  <meta name="docker_version" content="1.6.1">
  <meta name="docker_git_branch" content="master">
  <meta name="docker_git_commit" content="59cd467">
  <meta name="docker_build_date" content="Fri Jun  5 11:40:50 UTC 2015">

  <meta name="description" content="How to use Docker's development environment">
  <meta name="keywords" content="development, inception, container, image Dockerfile, dependencies, Go, artifacts">
  
  <link rel="canonical" href="/project/set-up-dev-env/">
  <link href="/css/bootstrap-custom.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/prettify-1.0.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/css/dockerfile_tutorial.css">
  <link href="/tipuesearch
/tipuesearch.css" rel="stylesheet">
  <link href="/css/docs.css" rel="stylesheet">
  <link rel="shortcut icon" href="/img/favicon.png">
  <title>Work with a development container - Docker Documentation</title>
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->
  
  <script type="text/javascript">
	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
	  analytics.page();
	  }}();
	</script>
  
</head>
<body>

<div id="topmostnav" class="topmostnav_loggedout navbar navbar-static-top">
  <div class="container">
    <a href="/" title="Docker Docs Home"><div class="brand logo"><img src="/img/nav/docker-logo-loggedin.png"> </div></a>
    <form id="nav_search" class="navbar-index-search pull-right" action="/jsearch/">
      <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span>
      <input name="q" id="tipue_search_input" type="text" class="search_input search-query ui-autocomplete-input" placeholder="Search the Docs" autocomplete="off">
    </form>
    <ul class="nav">
      <li class=""><a href="http://www.docker.com/whatisdocker/" title="What is Docker">What is Docker?</a></li>
      <li class=""><a href="http://www.docker.com/resources/usecases/" title="Use Cases">Use Cases</a></li>
      <li class=""><a href="http://www.docker.com/tryit/" title="Try It!">Try It!</a></li>
      <li><a href="https://registry.hub.docker.com" title="Browse">Browse</a></li>
    </ul>
    <div id="usernav" class="pull-right">
      <a href="https://hub.docker.com/account/login" class="btn nav-button2" title="Lg In">Log In</a>
      <a href="https://hub.docker.com/account/signup" class="btn nav-button1" title="Sign Up">Sign Up</a>
    </div>
  </div>
</div>
<div id="topmostnav" class="topmostnav_loggedin navbar navbar-static-top">
  <div class="container">
    <a href="/" title="Docker Docs Home"><div class="brand logo"><img src="/img/nav/docker-logo-loggedin.png"> </div></a>
    <form id="nav_search" class="navbar-index-search pull-right" action="/jsearch/">
      <span role="status" aria-live="polite" class="ui-helper-hidden-accessible"></span>
      <input name="q" id="tipue_search_input" type="text" class="search_input search-query ui-autocomplete-input" placeholder="Search the Docs" autocomplete="off">
    </form>
    <ul class="nav">
      <li><a href="https://registry.hub.docker.com" title="Browse Repos">Browse Repos</a></li>
      <li class="active"><a href="http://docs.docker.com" title="Documentation">Documentation</a></li>
      <li><a href="http://www.docker.com/community/participate/" title="Community">Community</a></li>
      <li><a href="http://www.docker.com/resources/help/" title="Help">Help</a></li>
    </ul>
    <div id="usernav" class="pull-right">
      <ul class="nav user">
        <li class="dropdown">
          <a id="logged-in-header-username" class="dropdown-toggle" data-toggle="dropdown" href="#">
            <img class="profile" src="" alt="profile picture">
          </a>
          <ul class="dropdown-menu pull-right">
            <li><a href="https://hub.docker.com/">View Profile</a></li>
            <li><a href="https://hub.docker.com/account/settings/">Settings</a></li>
            <li><a href="https://hub.docker.com/repos/">My Repositories</a></li>
            <li><a href="https://hub.docker.com/plans/billing-info">Billing</a></li>
            <li><a href="https://hub.docker.com/account/logout/?next=/">Log out</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>

<div id="wrap">
  <nav id="nav_menu" class="clearfix navbar navbar-default navbar-static-top affix" role="navigation">
  <div id="docsnav">
    <ul id="main-nav" class="pull-left">
      
      
      <li class="dd_menu pull-left">
        
        <a href="/">About</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/">Docker</a>
          </li>
        
          <li >
            <a href="/release-notes/">Release Notes</a>
          </li>
        
          <li >
            <a href="/introduction/understanding-docker/">Understanding Docker</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/installation/ubuntulinux/">Installation</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/installation/ubuntulinux/">Ubuntu</a>
          </li>
        
          <li >
            <a href="/installation/mac/">Mac OS X</a>
          </li>
        
          <li >
            <a href="/kitematic/">Kitematic on OS X</a>
          </li>
        
          <li >
            <a href="/installation/windows/">Microsoft Windows</a>
          </li>
        
          <li >
            <a href="/installation/testing-windows-docker-client/">Building and testing the Windows Docker client</a>
          </li>
        
          <li >
            <a href="/installation/amazon/">Amazon EC2</a>
          </li>
        
          <li >
            <a href="/installation/archlinux/">Arch Linux</a>
          </li>
        
          <li >
            <a href="/installation/binaries/">Binaries</a>
          </li>
        
          <li >
            <a href="/installation/centos/">CentOS</a>
          </li>
        
          <li >
            <a href="/installation/cruxlinux/">CRUX Linux</a>
          </li>
        
          <li >
            <a href="/installation/debian/">Debian</a>
          </li>
        
          <li >
            <a href="/installation/fedora/">Fedora</a>
          </li>
        
          <li >
            <a href="/installation/frugalware/">FrugalWare</a>
          </li>
        
          <li >
            <a href="/installation/google/">Google Cloud Platform</a>
          </li>
        
          <li >
            <a href="/installation/gentoolinux/">Gentoo</a>
          </li>
        
          <li >
            <a href="/installation/softlayer/">IBM Softlayer</a>
          </li>
        
          <li >
            <a href="/installation/joyent/">Joyent Compute Service</a>
          </li>
        
          <li >
            <a href="/installation/azure/">Microsoft Azure</a>
          </li>
        
          <li >
            <a href="/installation/rackspace/">Rackspace Cloud</a>
          </li>
        
          <li >
            <a href="/installation/rhel/">Red Hat Enterprise Linux</a>
          </li>
        
          <li >
            <a href="/installation/oracle/">Oracle Linux</a>
          </li>
        
          <li >
            <a href="/installation/SUSE/">SUSE</a>
          </li>
        
          <li >
            <a href="/compose/install/">Docker Compose</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/userguide/">User Guide</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/userguide/">The Docker User Guide</a>
          </li>
        
          <li >
            <a href="/userguide/dockerhub/">Getting Started with Docker Hub</a>
          </li>
        
          <li >
            <a href="/userguide/dockerizing/">Dockerizing Applications</a>
          </li>
        
          <li >
            <a href="/userguide/usingdocker/">Working with Containers</a>
          </li>
        
          <li >
            <a href="/userguide/dockerimages/">Working with Docker Images</a>
          </li>
        
          <li >
            <a href="/userguide/dockerlinks/">Linking containers together</a>
          </li>
        
          <li >
            <a href="/userguide/dockervolumes/">Managing data in containers</a>
          </li>
        
          <li >
            <a href="/userguide/labels-custom-metadata/">Apply custom metadata</a>
          </li>
        
          <li >
            <a href="/userguide/dockerrepos/">Working with Docker Hub</a>
          </li>
        
          <li >
            <a href="/compose/">Docker Compose</a>
          </li>
        
          <li >
            <a href="/compose/production/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Use Compose in production</a>
          </li>
        
          <li >
            <a href="/compose/extends/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Extend Compose services</a>
          </li>
        
          <li >
            <a href="/machine/">Docker Machine</a>
          </li>
        
          <li >
            <a href="/swarm/">Docker Swarm</a>
          </li>
        
          <li >
            <a href="/kitematic/userguide/">Kitematic</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/docker-hub/">Docker Hub</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/docker-hub/">Docker Hub</a>
          </li>
        
          <li >
            <a href="/docker-hub/accounts/">Accounts</a>
          </li>
        
          <li >
            <a href="/docker-hub/userguide/">User Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub/repos/">Your Repositories</a>
          </li>
        
          <li >
            <a href="/docker-hub/builds/">Automated Builds</a>
          </li>
        
          <li >
            <a href="/docker-hub/official_repos/">Official Repositories</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/docker-hub-enterprise/">Docker Hub Enterprise</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/docker-hub-enterprise/">Overview</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/quick-start/">Quick Start: Basic Workflow</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/userguide/">User Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/adminguide/">Admin Guide</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/install/">&nbsp;&nbsp;Installation</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/configuration/">&nbsp;&nbsp;Configuration options</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/support/">Support</a>
          </li>
        
          <li >
            <a href="/docker-hub-enterprise/release-notes/">Release notes</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/examples/nodejs_web_app/">Examples</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/examples/nodejs_web_app/">Dockerizing a Node.js web application</a>
          </li>
        
          <li >
            <a href="/examples/mongodb/">Dockerizing MongoDB</a>
          </li>
        
          <li >
            <a href="/examples/running_redis_service/">Dockerizing a Redis service</a>
          </li>
        
          <li >
            <a href="/examples/postgresql_service/">Dockerizing a PostgreSQL service</a>
          </li>
        
          <li >
            <a href="/examples/running_riak_service/">Dockerizing a Riak service</a>
          </li>
        
          <li >
            <a href="/examples/running_ssh_service/">Dockerizing an SSH service</a>
          </li>
        
          <li >
            <a href="/examples/couchdb_data_volumes/">Dockerizing a CouchDB service</a>
          </li>
        
          <li >
            <a href="/examples/apt-cacher-ng/">Dockerizing an Apt-Cacher-ng service</a>
          </li>
        
          <li >
            <a href="/compose/django/">Getting started with Compose and Django</a>
          </li>
        
          <li >
            <a href="/compose/rails/">Getting started with Compose and Rails</a>
          </li>
        
          <li >
            <a href="/compose/wordpress/">Getting started with Compose and Wordpress</a>
          </li>
        
          <li >
            <a href="/kitematic/minecraft-server/">Kitematic: Minecraft server</a>
          </li>
        
          <li >
            <a href="/kitematic/nginx-web-server/">Kitematic: Ngnix web server</a>
          </li>
        
          <li >
            <a href="/kitematic/rethinkdb-dev-database/">Kitematic: RethinkDB development database</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/articles/basics/">Articles</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/articles/basics/">Docker basics</a>
          </li>
        
          <li >
            <a href="/articles/networking/">Advanced networking</a>
          </li>
        
          <li >
            <a href="/articles/security/">Security</a>
          </li>
        
          <li >
            <a href="/articles/https/">Running Docker with HTTPS</a>
          </li>
        
          <li >
            <a href="/articles/registry_mirror/">Run a local registry mirror</a>
          </li>
        
          <li >
            <a href="/articles/host_integration/">Automatically starting containers</a>
          </li>
        
          <li >
            <a href="/articles/baseimages/">Creating a base image</a>
          </li>
        
          <li >
            <a href="/articles/dockerfile_best-practices/">Best practices for writing Dockerfiles</a>
          </li>
        
          <li >
            <a href="/articles/certificates/">Using certificates for repository client verification</a>
          </li>
        
          <li >
            <a href="/articles/using_supervisord/">Using Supervisor</a>
          </li>
        
          <li >
            <a href="/articles/configuring/">Configuring Docker</a>
          </li>
        
          <li >
            <a href="/articles/cfengine_process_management/">Process management with CFEngine</a>
          </li>
        
          <li >
            <a href="/articles/puppet/">Using Puppet</a>
          </li>
        
          <li >
            <a href="/articles/chef/">Using Chef</a>
          </li>
        
          <li >
            <a href="/articles/dsc/">Using PowerShell DSC</a>
          </li>
        
          <li >
            <a href="/articles/ambassador_pattern_linking/">Cross-Host linking using ambassador containers</a>
          </li>
        
          <li >
            <a href="/articles/runmetrics/">Runtime metrics</a>
          </li>
        
          <li >
            <a href="/articles/b2d_volume_resize/">Increasing a Boot2Docker volume</a>
          </li>
        
          <li >
            <a href="/articles/systemd/">Controlling and configuring Docker using Systemd</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left">
        
        <a href="/reference/commandline/cli/">Reference</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/reference/commandline/cli/">Docker command line</a>
          </li>
        
          <li >
            <a href="/reference/builder/">Dockerfile</a>
          </li>
        
          <li >
            <a href="/faq/">FAQ</a>
          </li>
        
          <li >
            <a href="/reference/run/">Run Reference</a>
          </li>
        
          <li >
            <a href="/compose/cli/">Compose command line</a>
          </li>
        
          <li >
            <a href="/compose/yml/">Compose yml</a>
          </li>
        
          <li >
            <a href="/compose/env/">Compose ENV variables</a>
          </li>
        
          <li >
            <a href="/compose/completion/">Compose commandline completion</a>
          </li>
        
          <li >
            <a href="/swarm/discovery/">Swarm discovery</a>
          </li>
        
          <li >
            <a href="/swarm/scheduler/strategy/">Swarm strategies</a>
          </li>
        
          <li >
            <a href="/swarm/scheduler/filter/">Swarm filters</a>
          </li>
        
          <li >
            <a href="/swarm/API/">Swarm API</a>
          </li>
        
          <li >
            <a href="/registry/">Docker Registry 2.0</a>
          </li>
        
          <li >
            <a href="/registry/deploying/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Deploy a registry</a>
          </li>
        
          <li >
            <a href="/registry/configuration/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Configure a registry</a>
          </li>
        
          <li >
            <a href="/registry/storagedrivers/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Storage driver model</a>
          </li>
        
          <li >
            <a href="/registry/notifications/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Work with notifications</a>
          </li>
        
          <li >
            <a href="/registry/spec/api/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Registry Service API v2</a>
          </li>
        
          <li >
            <a href="/registry/spec/json/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; JSON format</a>
          </li>
        
          <li >
            <a href="/registry/spec/auth/token/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp; Authenticate via central service</a>
          </li>
        
          <li >
            <a href="/reference/api/hub_registry_spec/">Docker Hub and Registry 1.0</a>
          </li>
        
          <li >
            <a href="/reference/api/registry_api/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp;Docker Registry API v1</a>
          </li>
        
          <li >
            <a href="/reference/api/registry_api_client_libraries/">&nbsp;&nbsp;&nbsp;&nbsp;&blacksquare;&nbsp;Docker Registry 1.0 API Client Libraries</a>
          </li>
        
          <li >
            <a href="/reference/api/docker-io_api/">Docker Hub API</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api/">Docker Remote API</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.18/">Docker Remote API v1.18</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.17/">Docker Remote API v1.17</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_remote_api_v1.16/">Docker Remote API v1.16</a>
          </li>
        
          <li >
            <a href="/reference/api/remote_api_client_libraries/">Docker Remote API client libraries</a>
          </li>
        
          <li >
            <a href="/reference/api/docker_io_accounts_api/">Docker Hub accounts API</a>
          </li>
        
          <li >
            <a href="/kitematic/faq/">Kitematic: FAQ</a>
          </li>
        
          <li >
            <a href="/kitematic/known-issues/">Kitematic: Known issues</a>
          </li>
        
        </ul>
      </li>
      
      
      
      <li class="dd_menu pull-left active">
        
        <a href="/project/who-written-for/">Contributor</a>
        
        <ul class="dd_submenu" style="max-height: 75px;">
        
          <li >
            <a href="/project/who-written-for/">README first</a>
          </li>
        
          <li >
            <a href="/project/software-required/">Get required software for Linux or OS X</a>
          </li>
        
          <li >
            <a href="/project/software-req-win/">Get required software for Windows</a>
          </li>
        
          <li >
            <a href="/project/set-up-git/">Configure Git for contributing</a>
          </li>
        
          <li class="active">
            <a href="/project/set-up-dev-env/">Work with a development container</a>
          </li>
        
          <li >
            <a href="/project/test-and-docs/">Run tests and test documentation</a>
          </li>
        
          <li >
            <a href="/project/make-a-contribution/">Understand contribution workflow</a>
          </li>
        
          <li >
            <a href="/project/find-an-issue/">Find an issue</a>
          </li>
        
          <li >
            <a href="/project/work-issue/">Work on an issue</a>
          </li>
        
          <li >
            <a href="/project/create-pr/">Create a pull request</a>
          </li>
        
          <li >
            <a href="/project/review-pr/">Participate in the PR review</a>
          </li>
        
          <li >
            <a href="/project/advanced-contributing/">Advanced contributing</a>
          </li>
        
          <li >
            <a href="/project/get-help/">Where to get help</a>
          </li>
        
          <li >
            <a href="/project/coding-style/">Coding style guide</a>
          </li>
        
          <li >
            <a href="/project/doc-style/">Documentation style guide</a>
          </li>
        
        </ul>
      </li>
      
      
    </ul>
  </div>
</nav>
  <div id="content" class="container">
    <div class="row">

      <div class="span3" id="leftnav">
        <div id="toc_table">
          <ul class="nav nav-tabs nav-stacked">
            
  
    <li class=""><a href="#clean-your-host-of-docker-artifacts">Clean your host of Docker artifacts</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#build-an-image">Build an image</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#start-a-container-and-run-a-test">Start a container and run a test</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#restart-a-container-with-your-source">Restart a container with your source</a>
      <ul>
    
      </ul>
    </li>
  
    <li class=""><a href="#where-to-go-next">Where to go next</a>
      <ul>
    
      </ul>
    </li>
  

          </ul>
        </div>
      </div>
      <div class="span9 content-body">

        

        <div id="versionnav" class="span3 pull-right invisible">
          <ul class="nav version pull-right">
            <li class="dropdown">
              <a id="document-version-number" class="dropdown-toggle" data-toggle="dropdown" href="#">
		      Version v1.6
              </a>
              <ul id="documentation-version-list" class="dropdown-menu pull-right">

		<li role="presentation" class="divider"></li>
		<li> <a class="home-link3 tertiary-nav" href="https://github.com/docker/docker/blob/master/docs/sources/project/set-up-dev-env.md" >Edit on GitHub</a></li>

              </ul>
            </li>
          </ul>
        </div>

        <h1 id="work-with-a-development-container">Work with a development container</h1>
<p>In this section, you learn to develop like a member of Docker's core team.
The <code>docker</code> repository includes a <code>Dockerfile</code> at its root. This file defines
Docker's development environment.  The <code>Dockerfile</code> lists the environment's
dependencies: system libraries and binaries, go environment, go dependencies,
etc. </p>
<p>Docker's development environment is itself, ultimately a Docker container.
You use the <code>docker</code> repository and its <code>Dockerfile</code> to create a Docker image, 
run a Docker container, and develop code in the container. Docker itself builds,
tests, and releases new Docker versions using this container.</p>
<p>If you followed the procedures that <a href="./set-up-prereqs" target="_blank">
set up the prerequisites</a>, you should have a fork of the <code>docker/docker</code>
repository. You also created a branch called <code>dry-run-test</code>. In this section,
you continue working with your fork on this branch.</p>
<h2 id="clean-your-host-of-docker-artifacts">Clean your host of Docker artifacts</h2>
<p>Docker developers run the latest stable release of the Docker software; Or 
Boot2docker and Docker if their machine is Mac OS X. They clean their local
hosts of unnecessary Docker artifacts such as stopped containers or unused
images. Cleaning unnecessary artifacts isn't strictly necessary but it is
good practice, so it is included here.</p>
<p>To remove unnecessary artifacts.</p>
<ol>
<li>
<p>Verify that you have no unnecessary containers running on your host.</p>
<pre class="prettyprint well"><code>$ docker ps
</code></pre>
<p>You should see something similar to the following:</p>
<p><table class="code">
  <tr>
    <th>CONTAINER ID</th>
    <th>IMAGE</th>
    <th>COMMAND</th>
    <th>CREATED</th>
    <th>STATUS</th>
    <th>PORTS</th>
    <th>NAMES</th>
  </tr>
</table></p>
<p>There are no running containers on this host. If you have running but unused
containers, stop and then remove them with the <code>docker stop</code> and <code>docker rm</code>
commands.</p>
</li>
<li>
<p>Verify that your host has no dangling images.</p>
<pre class="prettyprint well"><code>$ docker images
</code></pre>
<p>You should see something similar to the following:</p>
<p><table class="code">
  <tr>
    <th>REPOSITORY</th>
    <th>TAG</th>
    <th>IMAGE ID</th>
    <th>CREATED</th>
    <th>VIRTUAL SIZE</th>
  </tr>
</table></p>
<p>This host has no images. You may have one or more <em>dangling</em> images. A
dangling image is not used by a running container and is not an ancestor of
another image on your system. A fast way to remove dangling containers is
the following:</p>
<pre class="prettyprint well"><code>$ docker rmi -f $(docker images -q -a -f dangling=true)
</code></pre>
<p>This command uses <code>docker images</code> to lists all images (<code>-a</code> flag) by numeric
IDs (<code>-q</code> flag) and filter them to find dangling images (<code>-f
dangling=true</code>). Then, the <code>docker rmi</code> command forcibly (<code>-f</code> flag) removes
the resulting list. To remove just one image, use the <code>docker rmi ID</code>
command.</p>
</li>
</ol>
<h2 id="build-an-image">Build an image</h2>
<p>If you followed the last procedure, your host is clean of unnecessary images 
and containers. In this section, you build an image from the Docker development
environment.</p>
<ol>
<li>
<p>Open a terminal.</p>
<p>Mac users, use <code>boot2docker status</code> to make sure Boot2Docker is running. You
may need to run <code>eval "$(boot2docker shellinit)"</code> to initialize your shell
environment.</p>
</li>
<li>
<p>Change into the root of your forked repository.</p>
<pre class="prettyprint well"><code>$ cd ~/repos/docker-fork
</code></pre>
</li>
<li>
<p>Ensure you are on your <code>dry-run-test</code> branch.</p>
<pre class="prettyprint well"><code>$ git checkout dry-run-test
</code></pre>
</li>
<li>
<p>Compile your development environment container into an image.</p>
<pre class="prettyprint well"><code>$ docker build -t dry-run-test .
</code></pre>
<p>The <code>docker build</code> command returns informational message as it runs. The
first build may take a few minutes to create an image. Using the
instructions in the <code>Dockerfile</code>, the build may need to download source and
other images. A successful build returns a final status message similar to
the following:</p>
<pre class="prettyprint well"><code>Successfully built 676815d59283
</code></pre>
</li>
<li>
<p>List your Docker images again.</p>
<pre class="prettyprint well"><code>$ docker images
</code></pre>
<p>You should see something similar to this:</p>
<p><table class="code">
  <tr>
    <th>REPOSTITORY</th>
    <th>TAG</th>
    <th>IMAGE ID</th>
    <th>CREATED</th>
    <th>VIRTUAL SIZE</th>
  </tr>
  <tr>
    <td>dry-run-test</td>
    <td>latest</td>
    <td>663fbee70028</td>
    <td>About a minute ago</td>
    <td></td>
  </tr>
  <tr>
    <td>ubuntu</td>
    <td>trusty</td>
    <td>2d24f826cb16</td>
    <td>2 days ago</td>
    <td>188.3 MB</td>
  </tr>
  <tr>
    <td>ubuntu</td>
    <td>trusty-20150218.1</td>
    <td>2d24f826cb16</td>
    <td>2 days ago</td>
    <td>188.3 MB</td>
  </tr>
  <tr>
    <td>ubuntu</td>
    <td>14.04</td>
    <td>2d24f826cb16</td>
    <td>2 days ago</td>
    <td>188.3 MB</td>
  </tr>
  <tr>
    <td>ubuntu</td>
    <td>14.04.2</td>
    <td>2d24f826cb16</td>
    <td>2 days ago</td>
    <td>188.3 MB</td>
  </tr>
  <tr>
    <td>ubuntu</td>
    <td>latest</td>
    <td>2d24f826cb16</td>
    <td>2 days ago</td>
    <td>188.3 MB</td>
  </tr>
</table></p>
<p>Locate your new <code>dry-run-test</code> image in the list. You should also see a
number of <code>ubuntu</code> images. The build process creates these. They are the
ancestors of your new Docker development image. When you next rebuild your
image, the build process reuses these ancestors images if they exist. </p>
<p>Keeping the ancestor images improves the build performance. When you rebuild
the child image, the build process uses the local ancestors rather than
retrieving them from the Hub. The build process gets new ancestors only if
DockerHub has updated versions.</p>
</li>
</ol>
<h2 id="start-a-container-and-run-a-test">Start a container and run a test</h2>
<p>At this point, you have created a new Docker development environment image. Now,
you'll use this image to create a Docker container to develop in. Then, you'll
build and run a <code>docker</code> binary in your container.</p>
<ol>
<li>
<p>Open two additional terminals on your host.</p>
<p>At this point, you'll have about three terminals open.</p>
<p><img alt="Multiple terminals" src="/project/images/three_terms.png" /></p>
<p>Mac OSX users, make sure you run <code>eval "$(boot2docker shellinit)"</code> in any new 
terminals.</p>
</li>
<li>
<p>In a terminal, create a new container from your <code>dry-run-test</code> image.</p>
<pre class="prettyprint well"><code>$ docker run --privileged --rm -ti dry-run-test /bin/bash
root@5f8630b873fe:/go/src/github.com/docker/docker#
</code></pre>
<p>The command creates a container from your <code>dry-run-test</code> image. It opens an
interactive terminal (<code>-ti</code>) running a <code>/bin/bash shell</code>.  The
<code>--privileged</code> flag gives the container access to kernel features and device
access. It is this flag that allows you to run a container in a container.
Finally, the <code>-rm</code> flag instructs Docker to remove the container when you
exit the <code>/bin/bash</code> shell.</p>
<p>The container includes the source of your image repository in the
<code>/go/src/github.com/docker/docker</code> directory. Try listing the contents to
verify they are the same as that of your <code>docker-fork</code> repo.</p>
<p><img alt="List example" src="/project/images/list_example.png" /></p>
</li>
<li>
<p>Investigate your container bit. </p>
<p>If you do a <code>go version</code> you'll find the <code>go</code> language is part of the
container. </p>
<pre class="prettyprint well"><code>root@31ed86e9ddcf:/go/src/github.com/docker/docker# go version
go version go1.4.2 linux/amd64
</code></pre>
<p>Similarly, if you do a <code>docker version</code> you find the container
has no <code>docker</code> binary. </p>
<pre class="prettyprint well"><code>root@31ed86e9ddcf:/go/src/github.com/docker/docker# docker version
bash: docker: command not found
</code></pre>
<p>You will create one in the next steps.</p>
</li>
<li>
<p>From the <code>/go/src/github.com/docker/docker</code> directory make a <code>docker</code> binary with the <code>make.sh</code> script.</p>
<pre class="prettyprint well"><code>root@5f8630b873fe:/go/src/github.com/docker/docker# hack/make.sh binary
</code></pre>
<p>You only call <code>hack/make.sh</code> to build a binary <em>inside</em> a Docker
development container as you are now. On your host, you'll use <code>make</code>
commands (more about this later). </p>
<p>As it makes the binary, the <code>make.sh</code> script reports the build's progress.
When the command completes successfully, you should see the following
output:</p>
<pre class="prettyprint well"><code>---&gt; Making bundle: ubuntu (in bundles/1.5.0-dev/ubuntu)
Created package {:path=&gt;"lxc-docker-1.5.0-dev_1.5.0~dev~git20150223.181106.0.1ab0d23_amd64.deb"}
Created package {:path=&gt;"lxc-docker_1.5.0~dev~git20150223.181106.0.1ab0d23_amd64.deb"}
</code></pre>
</li>
<li>
<p>List all the contents of the <code>binary</code> directory.</p>
<pre class="prettyprint well"><code>root@5f8630b873fe:/go/src/github.com/docker/docker#  ls bundles/1.5.0-dev/binary/
docker  docker-1.5.0-dev  docker-1.5.0-dev.md5  docker-1.5.0-dev.sha256
</code></pre>
<p>You should see that <code>binary</code> directory, just as it sounds, contains the
made binaries.</p>
</li>
<li>
<p>Copy the <code>docker</code> binary to the <code>/usr/bin</code> of your container.</p>
<pre class="prettyprint well"><code>root@5f8630b873fe:/go/src/github.com/docker/docker#  cp bundles/1.5.0-dev/binary/docker /usr/bin
</code></pre>
</li>
<li>
<p>Inside your container, check your Docker version.</p>
<pre class="prettyprint well"><code>root@5f8630b873fe:/go/src/github.com/docker/docker# docker --version
Docker version 1.5.0-dev, build 6e728fb
</code></pre>
<p>Inside the container you are running a development version. This is version
on the current branch it reflects the value of the <code>VERSION</code> file at the
root of your <code>docker-fork</code> repository.</p>
</li>
<li>
<p>Start a <code>docker</code> daemon running inside your container.</p>
<pre class="prettyprint well"><code>root@5f8630b873fe:/go/src/github.com/docker/docker#  docker -dD
</code></pre>
<p>The <code>-dD</code> flag starts the daemon in debug mode; You'll find this useful
when debugging your code.</p>
</li>
<li>
<p>Bring up one of the terminals on your local host.</p>
</li>
<li>
<p>List your containers and look for the container running the <code>dry-run-test</code> image.</p>
<pre class="prettyprint well"><code>$ docker ps
</code></pre>
<p><table class="code">
  <tr>
    <th>CONTAINER ID</th>
    <th>IMAGE</th>
    <th>COMMAND</th>
    <th>CREATED</th>
    <th>STATUS</th>
    <th>PORTS</th>
    <th>NAMES</th>
  </tr>
  <tr>
    <td>474f07652525</td>
    <td>dry-run-test:latest</td>
    <td>"hack/dind /bin/bash</td>
    <td>14 minutes ago</td>
    <td>Up 14 minutes</td>
    <td></td>
    <td>tender_shockley</td>
  </tr>
</table></p>
<p>In this example, the container's name is <code>tender_shockley</code>; yours will be
different.</p>
</li>
<li>
<p>From the terminal, start another shell on your Docker development container.</p>
<pre class="prettyprint well"><code>$ docker exec -it tender_shockley bash
</code></pre>
<p>At this point, you have two terminals both with a shell open into your
development container. One terminal is running a debug session. The other
terminal is displaying a <code>bash</code> prompt.</p>
</li>
<li>
<p>At the prompt, test the Docker client by running the <code>hello-world</code> container.   </p>
<pre class="prettyprint well"><code>root@9337c96e017a:/go/src/github.com/docker/docker#  docker run hello-world
</code></pre>
<p>You should see the image load and return. Meanwhile, you
can see the calls made via the debug session in your other terminal.</p>
<p><img alt="List example" src="/project/images/three_running.png" /></p>
</li>
</ol>
<h2 id="restart-a-container-with-your-source">Restart a container with your source</h2>
<p>At this point, you have experienced the "Docker inception" technique. That is,
you have:</p>
<ul>
<li>built a Docker image from the Docker repository</li>
<li>created and started a Docker development container from that image</li>
<li>built a Docker binary inside of your Docker development container</li>
<li>launched a <code>docker</code> daemon using your newly compiled binary</li>
<li>called the <code>docker</code> client to run a <code>hello-world</code> container inside
  your development container</li>
</ul>
<p>When you really get to developing code though, you'll want to iterate code
changes and builds inside the container. For that you need to mount your local
Docker repository source into your Docker container. Try that now.</p>
<ol>
<li>
<p>If you haven't already, exit out of BASH shells in your running Docker
container.</p>
<p>If you have followed this guide exactly, exiting out your BASH shells stops
the running container. You can use the <code>docker ps</code> command to verify the
development container is stopped. All of your terminals should be at the
local host prompt.</p>
</li>
<li>
<p>Choose a terminal and make sure you are in your <code>docker-fork</code> repository.</p>
<pre class="prettyprint well"><code>$ pwd
/Users/mary/go/src/github.com/moxiegirl/docker-fork
</code></pre>
<p>Your location will be different because it reflects your environment. </p>
</li>
<li>
<p>Create a container using <code>dry-run-test</code> but this time mount your repository onto the <code>/go</code> directory inside the container.</p>
<pre class="prettyprint well"><code>$  docker run --privileged --rm -ti -v `pwd`:/go/src/github.com/docker/docker dry-run-test /bin/bash
</code></pre>
<p>When you pass <code>pwd</code>, <code>docker</code> resolves it to your current directory.</p>
</li>
<li>
<p>From inside the container, list your <code>binary</code> directory.</p>
<pre class="prettyprint well"><code>root@074626fc4b43:/go/src/github.com/docker/docker# ls bundles/1.5.0-dev/binary
ls: cannot access binary: No such file or directory
</code></pre>
<p>Your <code>dry-run-test</code> image does not retain any of the changes you made inside
the container.  This is the expected behavior for a container. </p>
</li>
<li>
<p>In a fresh terminal on your local host, change to the <code>docker-fork</code> root.</p>
<pre class="prettyprint well"><code>$ cd ~/repos/docker-fork/
</code></pre>
</li>
<li>
<p>Create a fresh binary but this time use the <code>make</code> command.</p>
<pre class="prettyprint well"><code>$ make BINDDIR=. binary
</code></pre>
<p>The <code>BINDDIR</code> flag is only necessary on Mac OS X but it won't hurt to pass
it on Linux command line. The <code>make</code> command, like the <code>make.sh</code> script
inside the container, reports its progress. When the make succeeds, it
returns the location of the new binary.</p>
</li>
<li>
<p>Back in the terminal running the container, list your <code>binary</code> directory.</p>
<pre class="prettyprint well"><code>root@074626fc4b43:/go/src/github.com/docker/docker# ls bundles/1.5.0-dev/binary
docker  docker-1.5.0-dev  docker-1.5.0-dev.md5  docker-1.5.0-dev.sha256
</code></pre>
<p>The compiled binaries created from your repository on your local host are
now available inside your running Docker development container.</p>
</li>
<li>
<p>Repeat the steps you ran in the previous procedure.</p>
<ul>
<li>copy the binary inside the development container using
  <code>cp bundles/1.5.0-dev/binary/docker /usr/bin</code></li>
<li>start <code>docker -dD</code> to launch the Docker daemon inside the container</li>
<li>run <code>docker ps</code> on local host to get the development container's name</li>
<li>connect to your running container <code>docker exec -it container_name bash</code></li>
<li>use the <code>docker run hello-world</code> command to create and run a container 
  inside your development container</li>
</ul>
</li>
</ol>
<h2 id="where-to-go-next">Where to go next</h2>
<p>Congratulations, you have successfully achieved Docker inception. At this point,
you've set up your development environment and verified almost all the essential
processes you need to contribute. Of course, before you start contributing, 
<a href="/project/test-and-docs/">you'll need to learn one more piece of the development environment, the test framework</a>.</p>

      </div>
    </div>
  </div>

  <div id="push-footer"></div>

</div>



<div id="footer-container" class="container">
  <div id="footer" class="grey-body">
    <div class="row">
      <div class="span2">
        <span class="footer-title">Community</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/community/events/">Events</a></li>
          <li><a class="primary-button" href="http://posts.docker.com">Friends' Posts</a></li>
          <li><a class="primary-button" href="https://www.docker.com/community/meetups/">Meetups</a></li>
          <li><a class="primary-button" href="https://www.docker.com/community/governance/">Governance</a></li>
          <li><a class="primary-button" href="http://forums.docker.com">Forums</a></li>
          <li><a class="primary-button" href="http://botbot.me/freenode/docker">IRC</a></li>
          <li><a class="primary-button" href="https://github.com/docker/docker">GitHub</a></li>
          <li><a class="primary-button" href="http://stackoverflow.com/search?q=docker">Stackoverflow</a></li>
          <li><a class="primary-button" href="http://www.cafepress.com/docker">Swag</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Enterprise</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/enterprise/support/">Support</a></li>
          <li><a class="primary-button" href="https://www.docker.com/enterprise/education/">Education</a></li>
          <li><a class="primary-button" href="https://www.docker.com/enterprise/services/">Services</a></li>
        </ul>
        <span class="footer-title">Partner Solutions</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/partners/find/">Find a Partner</a></li>
          <li><a class="primary-button" href="https://www.docker.com/partners/program/">Partner Program</a></li>
          <li><a class="primary-button" href="https://www.docker.com/partners/learn/">Learn More</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Resources</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://docs.docker.com">Documentation</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/help/">Help</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/usecases/">Use Cases</a></li>
          <li><a class="primary-button" href="http://www.docker.com/tryit/">Online Tutorial</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/howtobuy/">How To Buy</a></li>
          <li><a class="primary-button" href="http://status.docker.com">Status</a></li>
          <li><a class="primary-button" href="https://www.docker.com/resources/security/">Security</a></li>
        </ul>
      </div>
      <div class="span2">
        <span class="footer-title">Company</span>
        <ul class="unstyled">
          <li><a class="primary-button" href="https://www.docker.com/company/aboutus/">About Us</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/team/">Team</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/news/">News</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/press/">Press</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/careers/">Careers</a></li>
          <li><a class="primary-button" href="https://www.docker.com/company/contact/">Contact</a></li>
        </ul>
      </div>
      <div class="span3">
        <span class="footer-title">Connect</span>
        <div class="search">
          <span>Subscribe to our newsletter</span>
          <form action="https://www.docker.com/subscribe_newsletter/" method="post">
            <input type='hidden' name='csrfmiddlewaretoken' value='aWL78QXQkY8DSKNYh6cl08p5eTLl7sOa' />
            <tr><th><label for="id_email">Email:</label></th><td><input class="form-control" id="id_email" name="email" placeholder="Enter your email" type="text" /></td></tr>
            
            <button type="submit"><i class="icon-arrow-right"></i> </button>
          </form>
        </div>
        <ul class="unstyled social">
          <li><a title="Docker on Twitter" class="primary-button blog" href="http://blog.docker.com">Blog</a></li>
          <li><a title="Docker on Twitter" class="primary-button twitter" href="http://twitter.com/docker">Twitter</a></li>
          <li><a title="Docker on Google+" class="primary-button googleplus" href="https://plus.google.com/u/0/communities/108146856671494713993">Google+</a></li>
          <li><a title="Docker on Facebook" class="primary-button facebook" href="https://www.facebook.com/docker.run">Facebook</a></li>
          <li><a title="Docker on Youtube" class="primary-button youtube" href="http://www.youtube.com/user/dockerrun">YouTube</a></li>
        </ul>
        <ul class="unstyled social">
          <li><a title="Docker on SlideShare" class="primary-button slideshare" href="http://www.slideshare.net/Docker">Slideshare</a></li>
          <li>
             <a title="Docker on LinkedIn" class="primary-button" href="https://www.linkedin.com/company/docker">
                 <span class="linkedin"></span>
                 LinkedIn
             </a>
          </li>
          <li>
              <a title="Docker on GitHub" class="primary-button" href="https://github.com/docker/">
                  <span class="github"></span>
                  GitHub
              </a>
          </li>
          <li>
              <a title="Docker on Reddit" class="primary-button" href="http://www.reddit.com/r/docker">
                  <span class="reddit"></span>
                  Reddit
              </a>
          </li>
          <li>
              <a title="Docker on AngelList" class="primary-button" href="https://angel.co/docker-inc-1">
                  <span class="angellist"></span>
                  AngelList
              </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="row clearfix">
      <div class="span6 pagination-right copyright">
        <span>&copy; 2014-2015 Docker, Inc.</span>
      </div>
      <div class="span6 pagination-left copyright">
        <a href="http://www.docker.com/legal/terms_of_service">Terms</a> &middot;
        <a href="http://www.docker.com/legal/privacy_policy">Privacy</a> &middot;
        <a href="http://www.docker.com/legal/trademark_guidelines">Trademarks</a>
      </div>
    </div>
  </div>
</div>

<script src="/js/jquery-1.10.2.min.js"></script>
<script src="/js/jquery.cookie.js" ></script>
<script src="/js/jquery-scrolltofixed-min.js"></script>
<script src="/js/bootstrap-3.0.3.min.js"></script>
<script src="/js/prettify-1.0.min.js"></script>
<script src="/js/dockerfile_tutorial.js"></script>
<script src="/js/dockerfile_tutorial_level.js"></script>
<script src="/js/base.js"></script>
<script src="/tipuesearch/tipuesearch_set.js"></script>
<script src="/tipuesearch/tipuesearch.min.js"></script>
<script type="text/javascript">
piAId = '45082';
piCId = '1482';

(function() {
  function async_load(){
    var s = document.createElement('script'); s.type = 'text/javascript';
    s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
    var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
  }
  if(window.attachEvent) { window.attachEvent('onload', async_load); }
  else { window.addEventListener('load', async_load, false); }
})();
</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('#content').css("min-height", $(window).height() - 553 );
    // if the URL contains a version string, update the version picker to reflect that
    version = document.location.pathname.match(/^\/(v\d\.\d)\/.*/)
    if (version && version[1]) {
        $('#document-version-number')[0].text = 'Version '+version[1];
    } else {
        $('#document-version-number')[0].text = $('#document-version-number')[0].text + " (Latest)"
    }
    // load the complete versions list
    $.get("/versions.html_fragment", function( data ) {
    	$('#documentation-version-list').prepend(data);
	//remove any "/v1.1/" bits from front, so we can add the path to the version selection dropdown.
	path = document.location.pathname.replace(/^\/v\d\.\d/, "");
	$('#documentation-version-list a.version').each(function(i, e) {
		e.href = e.href+path;
		$(e).removeClass()
	});
    });

  })
  var userName = getCookie('docker_sso_username');
  if (userName) {
    $('.topmostnav_loggedout').hide();
    $('.topmostnav_loggedin').show();
    $('#logged-in-header-username').text(userName);
  } else {
    $('.topmostnav_loggedout').show();
    $('.topmostnav_loggedin').hide();
  }
</script>
</body>
</html>