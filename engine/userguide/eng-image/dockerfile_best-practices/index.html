<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Hints, tips and guidelines for writing clean, reliable Dockerfiles">
    <meta name="keywords" content="[Examples, Usage, base image, docker, documentation, dockerfile, best practices, hub,  official repo]">
    <title>Best practices for writing Dockerfiles </title>
    <link rel="shortcut icon" href="../../../../images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/dist/assets/css/bootstrap-custom.css"/>
<link rel="stylesheet" href="/dist/assets/css/app.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.6/animate.min.css"/>
    <link rel="stylesheet" href="../../../../css/custom.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/dist/assets/js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../../dist/assets/js/modernizr.js"></script>
</head>
<body>
  <div class="off-canvas-wrap" data-offcanvas>
    <div class="inner-wrap">

      <a class="left-off-canvas-toggle" href="#" >
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve">
          <path fill="#3597D4" d="M30.583,9.328c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,7.966,30.583,8.576,30.583,9.328L30.583,9.328z"/>
          <path fill="#3597D4" d="M30.583,17.09c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,15.728,30.583,16.338,30.583,17.09L30.583,17.09z"/>
          <path fill="#3597D4" d="M30.583,24.387c0,0.752-0.539,1.362-1.203,1.362H5.113c-0.664,0-1.203-0.61-1.203-1.362l0,0
          c0-0.752,0.539-1.362,1.203-1.362H29.38C30.045,23.025,30.583,23.635,30.583,24.387L30.583,24.387z"/>
        </svg>
      </a>
      <a class="button secondary small get-started-cta">Get Started</a>
      <header class="main-header">
        <div class="row">
          <div class="large-3 columns">
            <a href="https://www.docker.com/"><img class="logo" src="../../../../dist/assets/images/logo.png"></a>
          </div>
          <div class="large-9 columns">
            <ul class="nav-global">
              <li><a href="https://www.docker.com/support">Support</a></li>
              <li><a href="https://training.docker.com/">Training</a></li>
              <li><a href="https://docs.docker.com/">Docs</a></li>
              <li><a href="http://blog.docker.com/">Blog</a></li>
              <li><a href="https://hub.docker.com/">Docker Hub</a></li>
              <li><a class="button" href="../../../../mac/started/">Get Started</a></li>
            </ul>
            <ul class="nav-main">
              <li><a href="https://www.docker.com/products">Products</a>
                <ul>
                  <li><a href="https://www.docker.com/pricing">Pricing</a></li>
                  <li><a href="https://www.docker.com/whatisdocker">What is Docker?</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/customers">Customers</a></li>
              <li><a href="https://www.docker.com/community">Community</a>
                <ul>
                  <li><a href="https://www.docker.com/community/meetups">Meetups</a></li>
                  <li><a href="https://www.docker.com/community/events">Events</a></li>
                  <li><a href="https://forums.docker.com">Forums</a></li>
                  <li><a href="http://www.scoop.it/t/docker-by-docker">Community News</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/partners">Partners</a>
                <ul>
                  <li><a href="https://www.docker.com/partners/partner-programs">Partner Programs</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/company">Company</a>
                <ul>
                  <li><a href="https://www.docker.com/news-and-press">News &amp; Press</a></li>
                  <li><a href="https://www.docker.com/work-docker">Work at Docker</a></li>
                  <li><a href="https://www.docker.com/company/management">Management</a></li>
                  <li><a href="https://www.docker.com/company/contact">Contact</a></li>
                </ul>
              </li>
              <li><a href="https://www.docker.com/open-source">Open Source</a>
                <ul>
                  <li><a href="https://www.docker.com/contribute">Contribute</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </header>

      
      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li class="has-submenu"><a href="#">Products</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Pricing</a></li>
              <li><a href="#">What Is Docker</a></li>
              <li><a href="#">Products</a></li>
              <li><a href="#">Docker Engine</a></li>
              <li><a href="#">Docker Hub</a></li>
              <li><a href="#">Docker Registry</a></li>
              <li><a href="#">Docker Machine</a></li>
              <li><a href="#">Docker Swarm</a></li>
              <li><a href="#">Docker Compose</a></li>
              <li><a href="#">Kitematic</a></li>
            </ul>
          </li>
          <li><a href="#">Customers</a></li>
          <li class="has-submenu"><a href="#">Community</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Community</a></li>
              <li><a href="#">Meetups</a></li>
              <li><a href="https://www.docker.com/community/events">Events</a></li>
              <li><a href="#">Forum</a></li>
              <li><a href="#">Scoop.it</a></li>
            </ul>
          </li>
          <li class="has-submenu"><a href="#">Partners</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Partners</a></li>
              <li><a href="https://www.docker.com/partners/partner-programs">Partners Programs</a></li>
            </ul>
          </li>
          <li><a href="#">Company</a></li>
          <li class="has-submenu"><a href="#">Open Source</a>
            <ul class="left-submenu">
              <li class="back"><a href="#">Back</a></li>
              <li><a href="#">Open Source</a></li>
              <li><a href="#">Contribute</a></li>
              <li><a href="#">Governance</a></li>
            </ul>
          </li>
        </ul>
        <ul class="nav-global-off-canvas">
          <li><a href="#">Support</a></li>
          <li><a href="#">Training</a></li>
          <li><a href="#">Docs</a></li>
          <li><a href="#">Blog</a></li>
          <li><a href="#">Sign in</a></li>
          <li><a href="#">Sign up</a></li>
        </ul>
      </aside>
      
      <a class="exit-off-canvas"></a>

<div id="docs" class="row">
    <div class="large-3 columns">
        <section id="multiple" data-accordion-group>
  
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Engine</button>
          <div data-content>
            
              
                <a data-link href="../../../../engine/quickstart/" class=""> Quickstart containers</a>
              
            
              
                <a data-link href="../../../../engine/understanding-docker/" class=""> Understand the architecture</a>
              
            
              
                <article data-accordion>
                  <button data-control> Install</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../engine/installation/mac/" class=""> Installation on Mac OS X</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/installation/windows/" class=""> Installation on Windows</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> On Linux distributions</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/installation/linux/ubuntulinux/" class=""> Installation on Ubuntu </a>
                            
                                <a data-link href="../../../../engine/installation/linux/rhel/" class=""> Installation on Red Hat Enterprise Linux</a>
                            
                                <a data-link href="../../../../engine/installation/linux/centos/" class=""> Installation on CentOS</a>
                            
                                <a data-link href="../../../../engine/installation/linux/fedora/" class=""> Installation on Fedora</a>
                            
                                <a data-link href="../../../../engine/installation/linux/debian/" class=""> Installation on Debian</a>
                            
                                <a data-link href="../../../../engine/installation/linux/archlinux/" class=""> Installation on Arch Linux</a>
                            
                                <a data-link href="../../../../engine/installation/linux/cruxlinux/" class=""> Installation on CRUX Linux</a>
                            
                                <a data-link href="../../../../engine/installation/linux/frugalware/" class=""> Installation on FrugalWare</a>
                            
                                <a data-link href="../../../../engine/installation/linux/gentoolinux/" class=""> Installation on Gentoo</a>
                            
                                <a data-link href="../../../../engine/installation/linux/oracle/" class=""> Installation on Oracle Linux</a>
                            
                                <a data-link href="../../../../engine/installation/linux/SUSE/" class=""> Installation on openSUSE and SUSE Linux Enterprise</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> On cloud providers</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/installation/cloud/overview/" class=""> Choose how to install</a>
                            
                                <a data-link href="../../../../engine/installation/cloud/cloud-ex-aws/" class=""> Example: Manual install on cloud provider</a>
                            
                                <a data-link href="../../../../engine/installation/cloud/cloud-ex-machine-ocean/" class=""> Example: Use Docker Machine to provision cloud hosts</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../../../engine/installation/binaries/" class=""> Installation from binaries</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> User guide</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../engine/userguide/intro/" class=""> Introduction</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Learn by example</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/userguide/containers/dockerizing/" class=""> Hello world in a container</a>
                            
                                <a data-link href="../../../../engine/userguide/containers/usingdocker/" class=""> Run a simple application</a>
                            
                                <a data-link href="../../../../engine/userguide/containers/dockerimages/" class=""> Build your own images</a>
                            
                                <a data-link href="../../../../engine/userguide/containers/networkingcontainers/" class=""> Network containers</a>
                            
                                <a data-link href="../../../../engine/userguide/containers/dockervolumes/" class=""> Manage data in containers</a>
                            
                                <a data-link href="../../../../engine/userguide/containers/dockerrepos/" class=""> Store images on Docker Hub</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Work with images</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/userguide/eng-image/dockerfile_best-practices/" class=" active"> Best practices for writing Dockerfiles</a>
                            
                                <a data-link href="../../../../engine/userguide/eng-image/baseimages/" class=""> Create a base image</a>
                            
                                <a data-link href="../../../../engine/userguide/eng-image/image_management/" class=""> Image management</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Docker storage drivers</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/userguide/storagedriver/imagesandcontainers/" class=""> Understand images, containers, and storage drivers</a>
                            
                                <a data-link href="../../../../engine/userguide/storagedriver/selectadriver/" class=""> Select a storage driver</a>
                            
                                <a data-link href="../../../../engine/userguide/storagedriver/aufs-driver/" class=""> AUFS storage driver in practice</a>
                            
                                <a data-link href="../../../../engine/userguide/storagedriver/btrfs-driver/" class=""> Btrfs storage in practice</a>
                            
                                <a data-link href="../../../../engine/userguide/storagedriver/device-mapper-driver/" class=""> Device mapper storage in practice</a>
                            
                                <a data-link href="../../../../engine/userguide/storagedriver/overlayfs-driver/" class=""> OverlayFS storage in practice</a>
                            
                                <a data-link href="../../../../engine/userguide/storagedriver/zfs-driver/" class=""> ZFS storage in practice</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Network configuration</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/userguide/networking/dockernetworks/" class=""> Docker container networking</a>
                            
                                <a data-link href="../../../../engine/userguide/networking/work-with-networks/" class=""> Work with network commands</a>
                            
                                <a data-link href="../../../../engine/userguide/networking/get-started-overlay/" class=""> Get started with multi-host networking</a>
                            
                                <a data-link href="../../../../engine/userguide/networking/configure-dns/" class=""> Configure container DNS in user-defined networks</a>
                            
                                <a data-link href="../../../../engine/userguide/networking/default_network/" class=""> Default bridge network</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../../../engine/userguide/labels-custom-metadata/" class=""> Apply custom metadata</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Administrate</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../engine/admin/host_integration/" class=""> Automatically start containers</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/systemd/" class=""> Control and configure Docker with systemd</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/dsc/" class=""> PowerShell DSC Usage</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/cfengine_process_management/" class=""> Process management with CFEngine</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/chef/" class=""> Using Chef</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/puppet/" class=""> Using Puppet</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/using_supervisord/" class=""> Using Supervisor with Docker</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/configuring/" class=""> Configuring and running Docker</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/runmetrics/" class=""> Runtime metrics</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/ambassador_pattern_linking/" class=""> Link via an ambassador container</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Logging</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/admin/logging/overview/" class=""> Configuring Logging Drivers</a>
                            
                                <a data-link href="../../../../engine/admin/logging/awslogs/" class=""> Amazon CloudWatch Logs logging driver</a>
                            
                                <a data-link href="../../../../engine/admin/logging/log_tags/" class=""> Log tags for logging driver</a>
                            
                                <a data-link href="../../../../engine/admin/logging/fluentd/" class=""> Fluentd logging driver</a>
                            
                                <a data-link href="../../../../engine/admin/logging/splunk/" class=""> Splunk logging driver</a>
                            
                                <a data-link href="../../../../engine/admin/logging/journald/" class=""> journald logging driver</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../../../engine/admin/registry_mirror/" class=""> Run a local registry mirror</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Secure Engine</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../engine/security/security/" class=""> Docker security</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/security/https/" class=""> Protect the Docker daemon socket</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/security/certificates/" class=""> Using certificates for repository client verification</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Use trusted images</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/security/trust/content_trust/" class=""> Content trust in Docker</a>
                            
                                <a data-link href="../../../../engine/security/trust/trust_automation/" class=""> Automation with content trust</a>
                            
                                <a data-link href="../../../../engine/security/trust/deploying_notary/" class=""> Deploying Notary</a>
                            
                                <a data-link href="../../../../engine/security/trust/trust_key_mng/" class=""> Manage keys for content trust</a>
                            
                                <a data-link href="../../../../engine/security/trust/trust_sandbox/" class=""> Play in a content trust sandbox</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../../../engine/security/apparmor/" class=""> AppArmor security profiles for Docker</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/security/seccomp/" class=""> Seccomp security profiles for Docker</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Extend Engine</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../engine/extend/authorization/" class=""> Access authorization plugin</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/extend/plugins/" class=""> Extending Engine with plugins</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/extend/plugins_network/" class=""> Docker network driver plugins</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/extend/plugins_volume/" class=""> Volume plugins</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/extend/plugin_api/" class=""> Plugins API</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Dockerize an application</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../engine/examples/mongodb/" class=""> Dockerizing MongoDB</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/postgresql_service/" class=""> Dockerizing PostgreSQL</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/couchdb_data_volumes/" class=""> Dockerizing a CouchDB service</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/couchbase/" class=""> Dockerizing a Couchbase service</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/nodejs_web_app/" class=""> Dockerizing a Node.js web app</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/running_redis_service/" class=""> Dockerizing a Redis service</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/running_riak_service/" class=""> Dockerizing a Riak service</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/running_ssh_service/" class=""> Dockerizing an SSH service</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/examples/apt-cacher-ng/" class=""> Dockerizing an apt-cacher-ng service</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Engine reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../engine/reference/builder/" class=""> Dockerfile reference</a>
                      
                      
                    
                      
                        <a data-link href="../../../../engine/reference/run/" class=""> Docker run reference</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Command line reference</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/reference/commandline/cli/" class=""> Use the Docker command line</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/daemon/" class=""> daemon</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/attach/" class=""> attach</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/build/" class=""> build</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/commit/" class=""> commit</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/cp/" class=""> cp</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/create/" class=""> create</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/diff/" class=""> diff</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/events/" class=""> events</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/exec/" class=""> exec</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/export/" class=""> export</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/history/" class=""> history</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/images/" class=""> images</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/import/" class=""> import</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/info/" class=""> info</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/inspect/" class=""> inspect</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/kill/" class=""> kill</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/load/" class=""> load</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/login/" class=""> login</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/logout/" class=""> logout</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/logs/" class=""> logs</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/network_connect/" class=""> network connect</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/network_create/" class=""> network create</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/network_disconnect/" class=""> network disconnect</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/network_inspect/" class=""> network inspect</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/network_ls/" class=""> network ls</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/network_rm/" class=""> network rm</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/pause/" class=""> pause</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/port/" class=""> port</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/ps/" class=""> ps</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/pull/" class=""> pull</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/push/" class=""> push</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/rename/" class=""> rename</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/restart/" class=""> restart</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/rm/" class=""> rm</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/rmi/" class=""> rmi</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/run/" class=""> run</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/save/" class=""> save</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/search/" class=""> search</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/start/" class=""> start</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/stats/" class=""> stats</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/stop/" class=""> stop</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/tag/" class=""> tag</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/top/" class=""> top</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/unpause/" class=""> unpause</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/update/" class=""> update</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/version/" class=""> version</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/volume_create/" class=""> volume create</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/volume_inspect/" class=""> volume inspect</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/volume_ls/" class=""> volume ls</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/volume_rm/" class=""> volume rm</a>
                            
                                <a data-link href="../../../../engine/reference/commandline/wait/" class=""> wait</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> API Reference</button>
                          <div data-content>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api/" class=""> Remote API</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.22/" class=""> Remote API v1.22</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.21/" class=""> Remote API v1.21</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.20/" class=""> Remote API v1.20</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.19/" class=""> Remote API v1.19</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.18/" class=""> Remote API v1.18</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.17/" class=""> Remote API v1.17</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.16/" class=""> Remote API v1.16</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.15/" class=""> Remote API v1.15</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_remote_api_v1.14/" class=""> Remote API v1.14</a>
                            
                                <a data-link href="../../../../engine/reference/api/remote_api_client_libraries/" class=""> Remote API client libraries</a>
                            
                                <a data-link href="../../../../engine/reference/api/docker_io_accounts_api/" class=""> docker.io accounts API</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../engine/migration/" class=""> Migrate to Engine 1.10</a>
              
            
              
                <a data-link href="../../../../engine/breaking_changes/" class=""> Breaking changes</a>
              
            
              
                <a data-link href="../../../../engine/deprecated/" class=""> Deprecated Engine Features</a>
              
            
              
                <a data-link href="../../../../engine/faq/" class=""> FAQ</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Swarm</button>
          <div data-content>
            
              
                <a data-link href="../../../../swarm/overview/" class=""> Swarm Overview</a>
              
            
              
                <a data-link href="../../../../swarm/get-swarm/" class=""> How to get Swarm</a>
              
            
              
                <a data-link href="../../../../swarm/install-w-machine/" class=""> Evaluate Swarm in a sandbox</a>
              
            
              
                <a data-link href="../../../../swarm/plan-for-production/" class=""> Plan for Swarm in production</a>
              
            
              
                <a data-link href="../../../../swarm/install-manual/" class=""> Build a Swarm cluster for production</a>
              
            
              
                <article data-accordion>
                  <button data-control> Try Swarm at scale</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../swarm/swarm_at_scale/01-about/" class=""> Learn the application architecture</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/swarm_at_scale/02-deploy-infra/" class=""> Deploy network infrastructure</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/swarm_at_scale/03-create-cluster/" class=""> Setup cluster resources</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/swarm_at_scale/04-deploy-app/" class=""> Deploy the application</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/swarm_at_scale/05-troubleshoot/" class=""> Troubleshoot the application</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../swarm/multi-manager-setup/" class=""> High availability in Swarm</a>
              
            
              
                <a data-link href="../../../../swarm/networking/" class=""> Swarm and container networks</a>
              
            
              
                <a data-link href="../../../../swarm/discovery/" class=""> Discovery</a>
              
            
              
                <a data-link href="../../../../swarm/provision-with-machine/" class=""> Provision with Machine</a>
              
            
              
                <article data-accordion>
                  <button data-control> Scheduling</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../swarm/scheduler/filter/" class=""> Filters</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/scheduler/strategy/" class=""> Strategies</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../swarm/secure-swarm-tls/" class=""> Overview Docker Swarm with TLS</a>
              
            
              
                <a data-link href="../../../../swarm/configure-tls/" class=""> Configure Docker Swarm for TLS</a>
              
            
              
                <article data-accordion>
                  <button data-control> Command line reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../swarm/reference/create/" class=""> create</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/reference/help/" class=""> help</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/reference/join/" class=""> join</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/reference/list/" class=""> list</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/reference/manage/" class=""> manage</a>
                      
                      
                    
                      
                        <a data-link href="../../../../swarm/reference/swarm/" class=""> swarm</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../swarm/swarm-api/" class=""> Docker Swarm API</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Compose</button>
          <div data-content>
            
              
                <a data-link href="../../../../compose/overview/" class=""> Overview of Docker Compose</a>
              
            
              
                <a data-link href="../../../../compose/install/" class=""> Install Compose</a>
              
            
              
                <a data-link href="../../../../compose/gettingstarted/" class=""> Getting Started</a>
              
            
              
                <a data-link href="../../../../compose/swarm/" class=""> Using Compose with Swarm</a>
              
            
              
                <a data-link href="../../../../compose/django/" class=""> Quickstart: Compose and Django</a>
              
            
              
                <a data-link href="../../../../compose/rails/" class=""> Quickstart: Compose and Rails</a>
              
            
              
                <a data-link href="../../../../compose/wordpress/" class=""> Quickstart: Compose and WordPress</a>
              
            
              
                <a data-link href="../../../../compose/extends/" class=""> Extending Services in Compose</a>
              
            
              
                <a data-link href="../../../../compose/networking/" class=""> Networking in Compose</a>
              
            
              
                <a data-link href="../../../../compose/production/" class=""> Using Compose in Production</a>
              
            
              
                <a data-link href="../../../../compose/compose-file/" class=""> Compose File Reference</a>
              
            
              
                <article data-accordion>
                  <button data-control> Command-line Reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../compose/reference/overview/" class=""> Overview of docker-compose CLI</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/envvars/" class=""> CLI Environment Variables</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/build/" class=""> build</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/config/" class=""> config</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/create/" class=""> create</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/down/" class=""> down</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/events/" class=""> events</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/help/" class=""> help</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/kill/" class=""> kill</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/logs/" class=""> logs</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/pause/" class=""> pause</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/port/" class=""> port</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/ps/" class=""> ps</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/pull/" class=""> pull</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/restart/" class=""> restart</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/rm/" class=""> rm</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/run/" class=""> run</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/scale/" class=""> scale</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/start/" class=""> start</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/stop/" class=""> stop</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/unpause/" class=""> unpause</a>
                      
                      
                    
                      
                        <a data-link href="../../../../compose/reference/up/" class=""> up</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../compose/completion/" class=""> Command-line Completion</a>
              
            
              
                <a data-link href="../../../../compose/link-env-deprecated/" class=""> Link Environment Variables</a>
              
            
              
                <a data-link href="../../../../compose/startup-order/" class=""> Controlling startup order</a>
              
            
              
                <a data-link href="../../../../compose/faq/" class=""> Frequently Asked Questions</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Hub</button>
          <div data-content>
            
              
                <a data-link href="../../../../docker-hub/overview/" class=""> Introducing Docker Hub</a>
              
            
              
                <a data-link href="../../../../docker-hub/accounts/" class=""> Your Docker ID</a>
              
            
              
                <a data-link href="../../../../docker-hub/orgs/" class=""> Teams &amp; Organizations</a>
              
            
              
                <a data-link href="../../../../docker-hub/repos/" class=""> Repositories on Docker Hub</a>
              
            
              
                <a data-link href="../../../../docker-hub/builds/" class=""> Automated Builds</a>
              
            
              
                <a data-link href="../../../../docker-hub/webhooks/" class=""> Webhooks for automated builds</a>
              
            
              
                <a data-link href="../../../../docker-hub/bitbucket/" class=""> Automated Builds with Bitbucket</a>
              
            
              
                <a data-link href="../../../../docker-hub/github/" class=""> Automated Builds from GitHub</a>
              
            
              
                <a data-link href="../../../../docker-hub/official_repos/" class=""> Official Repositories on Docker Hub</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Trusted Registry</button>
          <div data-content>
            
              
                <a data-link href="../../../../docker-trusted-registry/overview/" class=""> Overview Trusted Registry</a>
              
            
              
                <article data-accordion>
                  <button data-control> Installation</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/dtr-ami-byol-launch/" class=""> Install Docker Subscription for AWS (BYOL))</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/engine-ami-launch/" class=""> Install Docker Engine for AWS AMI (BDS)</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/dtr-ami-bds-launch/" class=""> Install Trusted Registry for AWS AMI (BDS)</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/dtr-vhd-azure/" class=""> Install on Microsoft Azure</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/install-dtr-offline/" class=""> Install the Trusted Registry offline</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/install-csengine/" class=""> Manually Install the CS Docker Engine</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/install-dtr/" class=""> Manually install Trusted Registry</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/install/upgrade/" class=""> Upgrade Trusted Registry and the CS Engine</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Configure</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/configure/configuration/" class=""> Configuration overview</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/configure/config-general/" class=""> Configure general settings</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/configure/config-security/" class=""> Security configuration</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/configure/config-storage/" class=""> Storage configuration</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-trusted-registry/configure/config-auth/" class=""> Auth configuration</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/quick-start/" class=""> Quick-start: Basic Workflow</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/userguide/" class=""> User guide</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/adminguide/" class=""> Admin tasks</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/accounts/" class=""> Account and repository management</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/soft-garbage/" class=""> Remove an image and garbage collection</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/license/" class=""> Trusted Registry License</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/support/" class=""> Support</a>
              
            
              
                <article data-accordion>
                  <button data-control> DTR APIs</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../apidocs/overview/" class=""> Overview</a>
                      
                      
                    
                      
                        <a data-link href="../../../../apidocs/v1.3.3/" class=""> v1.3.3 API</a>
                      
                      
                    
                      
                        <a data-link href="../../../../apidocs/v1.4.0/" class=""> v1.4.0 API</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/release-notes/" class=""> Trusted Registry release notes</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/prior-release-notes/" class=""> Prior Trusted Registry release notes</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/cse-release-notes/" class=""> CS Engine release notes</a>
              
            
              
                <a data-link href="../../../../docker-trusted-registry/cse-prior-release-notes/" class=""> Prior CS Engine release notes</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Cloud</button>
          <div data-content>
            
              
                <a data-link href="../../../../docker-cloud/release-notes/" class=""> Release Notes</a>
              
            
              
                <article data-accordion>
                  <button data-control> Getting Started</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/intro_cloud/" class=""> Introducing Docker Cloud</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/use-hosted/" class=""> Link to a Cloud Service Provider</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/link-aws/" class=""> Link your Amazon Web Services account</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/link-do/" class=""> Link your DigitalOcean account</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/link-azure/" class=""> Link your Microsoft Azure account</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/link-packet/" class=""> Link your Packet account</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/link-softlayer/" class=""> Link your SoftLayer account</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/use-byon/" class=""> Set up self-hosted nodes</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/your_first_node/" class=""> Deploy your first node</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/getting-started/your_first_service/" class=""> Deploy your first service</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Cloud Tutorials</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/download-volume-data/" class=""> Back up data volumes</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/load-balance-hello-world/" class=""> Create a proxy or load balancer</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/deploy-to-cloud/" class=""> Install the Deploy to Docker Cloud button</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/slack-integration/" class=""> Integrate with Slack</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/pushing-images-to-dockercloud/" class=""> Push images to Docker Cloud</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/ssh-into-a-node/" class=""> SSHing into a Docker Cloud-managed node</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/docker-upgrade/" class=""> Upgrade Docker Engine on a node</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/byoh/" class=""> Use the Docker Cloud Agent</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/tutorials/installing-cli/" class=""> Using the Docker Cloud CLI</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Deploy a Golang application</button>
                          <div data-content>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/1_introduction/" class=""> Introduction to deploying a Golang app</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/2_set_up/" class=""> Set up Go Application </a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/3_prepare_the_app/" class=""> Prepare the Go application</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/4_push_to_cloud_registry/" class=""> Push a Docker image to Docker Cloud&#39;s Registry</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/5_deploy_the_app_as_a_service/" class=""> Deploy the app as a Docker Cloud service</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/6_define_environment_variables/" class=""> Define environment variables</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/7_scale_the_service/" class=""> Scale the service</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/8_view_logs/" class=""> View logs</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/9_load-balance_the_service/" class=""> Load-balance the service</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/golang/10_provision_a_data_backend_for_your_service/" class=""> Provision a data backend for your service</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Deploy a Python application</button>
                          <div data-content>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/1_introduction/" class=""> Introduction to Deploying a Python app</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/2_set_up/" class=""> Set up Python application</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/3_prepare_the_app/" class=""> Prepare the Python application</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/4_push_to_cloud_registry/" class=""> Push an image to Docker Cloud&#39;s Registry</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/5_deploy_the_app_as_a_service/" class=""> Deploy the app as a Docker Cloud service</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/6_define_environment_variables/" class=""> Define environment variables</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/7_scale_the_service/" class=""> Scale the service</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/8_view_logs/" class=""> View logs</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/9_load-balance_the_service/" class=""> Load-balance a Python service</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/10_provision_a_data_backend_for_your_service/" class=""> Provision a data backend for a Python service</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/12_data_management_with_volumes/" class=""> Data management with Volumes</a>
                            
                                <a data-link href="../../../../docker-cloud/tutorials/python/11_service_stacks/" class=""> Python service stacks</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Feature Reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/auto-destroy/" class=""> Autodestroy</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/automated-build/" class=""> Automated builds</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/automated-testing/" class=""> Automated repository tests</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/autorestart/" class=""> Automatic Container Restart</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/auto-redeploy/" class=""> Autoredeploy</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/deploy-tags/" class=""> Deployment tags</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/stacks/" class=""> Manage service stacks</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/ports/" class=""> Publish and expose service or container ports</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/service-redeploy/" class=""> Redeploy running services</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/deployment-strategies/" class=""> Schedule a deployment</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/api-roles/" class=""> Service API Roles</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/service-links/" class=""> Service discovery</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/service-scaling/" class=""> Spawn new containers</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/stack-yaml-reference/" class=""> Stack YAML reference</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/triggers/" class=""> Use triggers</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/feature-reference/volumes/" class=""> Work with data volumes</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Frequently Asked Questions</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../docker-cloud/faq/docker-errors-faq/" class=""> Known Issues in Docker Cloud</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/faq/cloud-on-packet.net-faq/" class=""> Using Docker Cloud and Packet.net</a>
                      
                      
                    
                      
                        <a data-link href="../../../../docker-cloud/faq/cloud-on-aws-faq/" class=""> Using Docker Cloud on AWS</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../apidocs/docker-cloud/" class=""> API reference</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Machine</button>
          <div data-content>
            
              
                <a data-link href="../../../../machine/overview/" class=""> Machine Overview</a>
              
            
              
                <a data-link href="../../../../machine/install-machine/" class=""> Install Machine</a>
              
            
              
                <a data-link href="../../../../machine/get-started/" class=""> Get started with a local VM</a>
              
            
              
                <a data-link href="../../../../machine/get-started-cloud/" class=""> Provision hosts in the cloud</a>
              
            
              
                <article data-accordion>
                  <button data-control> Learn by example</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../machine/examples/ocean/" class=""> Provision Digital Ocean Droplets</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/examples/aws/" class=""> Provision AWS EC2 Instances</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../machine/concepts/" class=""> Machine concepts and help</a>
              
            
              
                <a data-link href="../../../../machine/migrate-to-machine/" class=""> Migrate from Boot2Docker to Machine</a>
              
            
              
                <article data-accordion>
                  <button data-control> Command line reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../machine/reference/active/" class=""> active</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/config/" class=""> config</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/create/" class=""> create</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/env/" class=""> env</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/help/" class=""> help</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/inspect/" class=""> inspect</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/ip/" class=""> ip</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/kill/" class=""> kill</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/ls/" class=""> ls</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/provision/" class=""> provision</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/regenerate-certs/" class=""> regenerate-certs</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/restart/" class=""> restart</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/rm/" class=""> rm</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/scp/" class=""> scp</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/ssh/" class=""> ssh</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/start/" class=""> start</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/status/" class=""> status</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/stop/" class=""> stop</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/upgrade/" class=""> upgrade</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/reference/url/" class=""> url</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Drivers</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../machine/drivers/os-base/" class=""> Driver options and operating system defaults</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/aws/" class=""> Amazon Web Services</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/digital-ocean/" class=""> Digital Ocean</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/generic/" class=""> Generic</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/gce/" class=""> Google Compute Engine</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/soft-layer/" class=""> IBM Softlayer</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/azure/" class=""> Microsoft Azure</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/hyper-v/" class=""> Microsoft Hyper-V</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/openstack/" class=""> OpenStack</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/virtualbox/" class=""> Oracle VirtualBox</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/rackspace/" class=""> Rackspace</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/vm-fusion/" class=""> VMware Fusion</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/vm-cloud/" class=""> VMware vCloud Air</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/vsphere/" class=""> VMware vSphere</a>
                      
                      
                    
                      
                        <a data-link href="../../../../machine/drivers/exoscale/" class=""> exoscale</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../machine/completion/" class=""> Command-line Completion</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Universal Control Plane</button>
          <div data-content>
            
              
                <a data-link href="../../../../ucp/overview/" class=""> Docker Universal Control Plane</a>
              
            
              
                <a data-link href="../../../../ucp/evaluation-install/" class=""> Evaluation installation</a>
              
            
              
                <a data-link href="../../../../ucp/plan-production-install/" class=""> Plan a production installation</a>
              
            
              
                <a data-link href="../../../../ucp/production-install/" class=""> Install UCP for production</a>
              
            
              
                <a data-link href="../../../../ucp/upgrade-ucp/" class=""> Upgrade UCP</a>
              
            
              
                <a data-link href="../../../../ucp/deploy-application/" class=""> Deploy an application</a>
              
            
              
                <a data-link href="../../../../ucp/dtr-integration/" class=""> Integrate with Trusted Registry</a>
              
            
              
                <a data-link href="../../../../ucp/networking/" class=""> Set up container networking</a>
              
            
              
                <a data-link href="../../../../ucp/understand_ha/" class=""> Set up high availability</a>
              
            
              
                <a data-link href="../../../../ucp/kv_store/" class=""> UCP Key/Value Store Backends</a>
              
            
              
                <article data-accordion>
                  <button data-control> Manage and monitor</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../ucp/manage/monitor-ucp/" class=""> Monitor and troubleshoot UCP</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/manage/monitor-manage-users/" class=""> Manage and authorize users</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> UCP tool reference</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../ucp/reference/dump-certs/" class=""> dump-certs</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/engine-discovery/" class=""> engine-discovery</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/fingerprint/" class=""> fingerprint</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/help/" class=""> help</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/images/" class=""> images</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/install/" class=""> install</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/join/" class=""> join</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/uninstall/" class=""> uninstall</a>
                      
                      
                    
                      
                        <a data-link href="../../../../ucp/reference/upgrade/" class=""> upgrade</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../ucp/support/" class=""> Get support</a>
              
            
              
                <a data-link href="../../../../ucp/release_notes/" class=""> Release Notes</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Docker Toolbox</button>
          <div data-content>
            
              
                <a data-link href="../../../../toolbox/overview/" class=""> Toolbox Overview</a>
              
            
              
                <article data-accordion>
                  <button data-control> Kitematic</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../kitematic/userguide/" class=""> Kitematic User Guide: Intro &amp; Overview</a>
                      
                      
                    
                      
                        <a data-link href="../../../../kitematic/nginx-web-server/" class=""> Set up an Nginx web server</a>
                      
                      
                    
                      
                        <a data-link href="../../../../kitematic/minecraft-server/" class=""> Set up a Minecraft Server</a>
                      
                      
                    
                      
                        <a data-link href="../../../../kitematic/rethinkdb-dev-database/" class=""> Creating a Local RethinkDB Database for Development</a>
                      
                      
                    
                      
                        <a data-link href="../../../../kitematic/faq/" class=""> Frequently Asked Questions</a>
                      
                      
                    
                      
                        <a data-link href="../../../../kitematic/known-issues/" class=""> Known Issues</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../faqs/troubleshoot/" class=""> Troubleshooting</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Component Projects</button>
          <div data-content>
            
              
                <article data-accordion>
                  <button data-control> Docker Registry</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../registry/overview/" class=""> Registry Overview</a>
                      
                      
                    
                      
                        <a data-link href="../../../../registry/introduction/" class=""> Understanding the Registry</a>
                      
                      
                    
                      
                        <a data-link href="../../../../registry/deploying/" class=""> Deploying a registry server</a>
                      
                      
                    
                      
                        <a data-link href="../../../../registry/configuration/" class=""> Configuring a registry</a>
                      
                      
                    
                      
                        <a data-link href="../../../../registry/notifications/" class=""> Working with notifications</a>
                      
                      
                    
                      
                        <a data-link href="../../../../registry/recipes/" class=""> Recipes</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Reference</button>
                          <div data-content>
                            
                                <a data-link href="../../../../registry/spec/api/" class=""> HTTP API V2</a>
                            
                                <a data-link href="../../../../registry/storagedrivers/" class=""> Storage Drivers</a>
                            
                                <a data-link href="../../../../registry/spec/auth/jwt/" class=""> Token Authentication Implementation</a>
                            
                                <a data-link href="../../../../registry/spec/auth/token/" class=""> Token Authentication Specification</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../../../registry/help/" class=""> Getting help</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Docker Notary</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../notary/getting_started/" class=""> Getting started with Notary</a>
                      
                      
                    
                      
                        <a data-link href="../../../../notary/advanced_usage/" class=""> Use the Notary client</a>
                      
                      
                    
                      
                        <a data-link href="../../../../notary/service_architecture/" class=""> Understand the service architecture</a>
                      
                      
                    
                      
                        <a data-link href="../../../../notary/running_a_service/" class=""> Running a Notary service</a>
                      
                      
                    
                      
                        <article data-accordion>
                          <button data-control> Notary Configuration</button>
                          <div data-content>
                            
                                <a data-link href="../../../../notary/reference/server-config/" class=""> Server Configuration</a>
                            
                                <a data-link href="../../../../notary/reference/signer-config/" class=""> Signer Configuration</a>
                            
                                <a data-link href="../../../../notary/reference/client-config/" class=""> Client Configuration</a>
                            
                                <a data-link href="../../../../notary/reference/common-configs/" class=""> Common Server and Signer Configurations</a>
                            
                           </div>
                         </article> 
                      
                      
                    
                      
                        <a data-link href="../../../../notary/changelog/" class=""> Notary Changelog</a>
                      
                      
                    
                  </div>
                </article>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> Open Source at Docker</button>
          <div data-content>
            
              
                <a data-link href="../../../../opensource/code/" class=""> Quickstart contribution</a>
              
            
              
                <article data-accordion>
                  <button data-control> Set up for Engine Development</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../opensource/project/who-written-for/" class=""> README first</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/project/software-required/" class=""> Get the required software</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/project/software-req-win/" class=""> Set up for development on Windows</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/project/set-up-git/" class=""> Configure Git for contributing</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/project/set-up-dev-env/" class=""> Work with a development container</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/project/test-and-docs/" class=""> Run tests and test documentation</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Contribution workflow</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../opensource/workflow/make-a-contribution/" class=""> Understand how to contribute</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/workflow/find-an-issue/" class=""> Find and claim an issue</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/workflow/work-issue/" class=""> Work on your issue</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/workflow/create-pr/" class=""> Create a pull request (PR)</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/workflow/review-pr/" class=""> Participate in the PR review</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/workflow/advanced-contributing/" class=""> Advanced contributing</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/workflow/coding-style/" class=""> Coding style checklist</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Other ways to contribute</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../opensource/ways/meetups/" class=""> Organize a Docker Meetup</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/ways/issues/" class=""> Organize our issues</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/ways/community/" class=""> Support the community</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/ways/test/" class=""> Testing contributions</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Contribute to Kitematic</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../opensource/kitematic/get_started/" class=""> Get started</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/kitematic/find_issue/" class=""> Find an issue</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/kitematic/set_up_dev/" class=""> Set up for Kitematic development</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/kitematic/work_issue/" class=""> Develop in Kitematic (work on an issue)</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/kitematic/create_pr/" class=""> Create a pull request (PR)</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/kitematic/next_steps/" class=""> Where to learn more</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <article data-accordion>
                  <button data-control> Governance</button>
                  <div data-content>
                    
                      
                        <a data-link href="../../../../opensource/governance/dgab-info/" class=""> Docker Governance Advisory Board</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/governance/board-profiles/" class=""> Board member profiles</a>
                      
                      
                    
                      
                        <a data-link href="../../../../opensource/governance/conduct-code/" class=""> Code of conduct</a>
                      
                      
                    
                  </div>
                </article>
              
            
              
                <a data-link href="../../../../opensource/FAQ/" class=""> FAQ for contributors</a>
              
            
              
                <a data-link href="../../../../opensource/get-help/" class=""> Where to chat or get help</a>
              
            
              
                <a data-link href="../../../../opensource/doc-style/" class=""> Style guide for Docker documentation</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button data-control> About</button>
          <div data-content>
            
              
                <a data-link href="../../../../release-notes/" class=""> Docker Release Notes</a>
              
            
              
                <a data-link href="../../../../engine/reference/glossary/" class=""> Docker Glossary</a>
              
            
          </div>
        </article>
       
    </section>
  
    <section data-accordion>
      
        <article data-accordion>
          <button style="visibility: hidden" data-control> Docs archive</button>
          <div data-content>
            
              
                <a data-link href="http://docs.docker.com/v1.9/" class=""> Version 1.9</a>
              
            
              
                <a data-link href="http://docs.docker.com/v1.8/" class=""> Version 1.8</a>
              
            
              
                <a data-link href="http://docs.docker.com/v1.7/" class=""> Version 1.7</a>
              
            
              
                <a data-link href="http://docs.docker.com/v1.6/" class=""> Version 1.6</a>
              
            
              
                <a data-link href="http://docs.docker.com/v1.5/" class=""> Version 1.5</a>
              
            
              
                <a data-link href="http://docs.docker.com/v1.4/" class=""> Version 1.4</a>
              
            
          </div>
        </article>
       
    </section>
  
</section>

<script>
$(document).ready(function () {
  var $activeLink = $('#multiple [data-link].active');
  var $accordions = $activeLink.parents('article[data-accordion]');
  $($accordions.get().reverse()).each(function (index, accordion) {
    var $accordion = $(accordion);
    var $content = $accordion.find('[data-content]');
    $accordion.addClass('open');
    $content.css({'max-height': '100%'});
  });
});
</script>

    </div>
    <div class="large-6 columns">
      <section id="main">
        <article id="content">
          

<h1 id="best-practices-for-writing-dockerfiles">Best practices for writing Dockerfiles</h1>

<p>Docker can build images automatically by reading the instructions from a
<code>Dockerfile</code>, a text file that contains all the commands, in order, needed to
build a given image. <code>Dockerfile</code>s adhere to a specific format and use a
specific set of instructions. You can learn the basics on the
<a href="../../../../engine/reference/builder/">Dockerfile Reference</a> page. If
you’re new to writing <code>Dockerfile</code>s, you should start there.</p>

<p>This document covers the best practices and methods recommended by Docker,
Inc. and the Docker community for creating easy-to-use, effective
<code>Dockerfile</code>s. We strongly suggest you follow these recommendations (in fact,
if you’re creating an Official Image, you <em>must</em> adhere to these practices).</p>

<p>You can see many of these practices and recommendations in action in the <a href="https://github.com/docker-library/buildpack-deps/blob/master/jessie/Dockerfile">buildpack-deps <code>Dockerfile</code></a>.</p>

<blockquote>
<p>Note: for more detailed explanations of any of the Dockerfile commands
mentioned here, visit the <a href="../../../../engine/reference/builder/">Dockerfile Reference</a> page.</p>
</blockquote>

<h2 id="general-guidelines-and-recommendations">General guidelines and recommendations</h2>

<h3 id="containers-should-be-ephemeral">Containers should be ephemeral</h3>

<p>The container produced by the image your <code>Dockerfile</code> defines should be as
ephemeral as possible. By “ephemeral,” we mean that it can be stopped and
destroyed and a new one built and put in place with an absolute minimum of
set-up and configuration.</p>

<h3 id="use-a-dockerignore-file">Use a .dockerignore file</h3>

<p>In most cases, it&rsquo;s best to put each Dockerfile in an empty directory. Then,
add to that directory only the files needed for building the Dockerfile. To
increase the build&rsquo;s performance, you can exclude files and directories by
adding a <code>.dockerignore</code> file to that directory as well. This file supports
exclusion patterns similar to <code>.gitignore</code> files. For information on creating one,
see the <a href="../../../../engine/reference/builder/#dockerignore-file">.dockerignore file</a>.</p>

<h3 id="avoid-installing-unnecessary-packages">Avoid installing unnecessary packages</h3>

<p>In order to reduce complexity, dependencies, file sizes, and build times, you
should avoid installing extra or unnecessary packages just because they
might be “nice to have.” For example, you don’t need to include a text editor
in a database image.</p>

<h3 id="run-only-one-process-per-container">Run only one process per container</h3>

<p>In almost all cases, you should only run a single process in a single
container. Decoupling applications into multiple containers makes it much
easier to scale horizontally and reuse containers. If that service depends on
another service, make use of <a href="../../../../engine/userguide/networking/default_network/dockerlinks/">container linking</a>.</p>

<h3 id="minimize-the-number-of-layers">Minimize the number of layers</h3>

<p>You need to find the balance between readability (and thus long-term
maintainability) of the <code>Dockerfile</code> and minimizing the number of layers it
uses. Be strategic and cautious about the number of layers you use.</p>

<h3 id="sort-multi-line-arguments">Sort multi-line arguments</h3>

<p>Whenever possible, ease later changes by sorting multi-line arguments
alphanumerically. This will help you avoid duplication of packages and make the
list much easier to update. This also makes PRs a lot easier to read and
review. Adding a space before a backslash (<code>\</code>) helps as well.</p>

<p>Here’s an example from the <a href="https://github.com/docker-library/buildpack-deps"><code>buildpack-deps</code> image</a>:</p>

<pre><code>RUN apt-get update &amp;&amp; apt-get install -y \
  bzr \
  cvs \
  git \
  mercurial \
  subversion
</code></pre>

<h3 id="build-cache">Build cache</h3>

<p>During the process of building an image Docker will step through the
instructions in your <code>Dockerfile</code> executing each in the order specified.
As each instruction is examined Docker will look for an existing image in its
cache that it can reuse, rather than creating a new (duplicate) image.
If you do not want to use the cache at all you can use the <code>--no-cache=true</code>
option on the <code>docker build</code> command.</p>

<p>However, if you do let Docker use its cache then it is very important to
understand when it will, and will not, find a matching image. The basic rules
that Docker will follow are outlined below:</p>

<ul>
<li><p>Starting with a base image that is already in the cache, the next
instruction is compared against all child images derived from that base
image to see if one of them was built using the exact same instruction. If
not, the cache is invalidated.</p></li>

<li><p>In most cases simply comparing the instruction in the <code>Dockerfile</code> with one
of the child images is sufficient.  However, certain instructions require
a little more examination and explanation.</p></li>

<li><p>For the <code>ADD</code> and <code>COPY</code> instructions, the contents of the file(s)
in the image are examined and a checksum is calculated for each file.
The last-modified and last-accessed times of the file(s) are not considered in
these checksums. During the cache lookup, the checksum is compared against the
checksum in the existing images. If anything has changed in the file(s), such
as the contents and metadata, then the cache is invalidated.</p></li>

<li><p>Aside from the <code>ADD</code> and <code>COPY</code> commands, cache checking will not look at the
files in the container to determine a cache match. For example, when processing
a <code>RUN apt-get -y update</code> command the files updated in the container
will not be examined to determine if a cache hit exists.  In that case just
the command string itself will be used to find a match.</p></li>
</ul>

<p>Once the cache is invalidated, all subsequent <code>Dockerfile</code> commands will
generate new images and the cache will not be used.</p>

<h2 id="the-dockerfile-instructions">The Dockerfile instructions</h2>

<p>Below you&rsquo;ll find recommendations for the best way to write the
various instructions available for use in a <code>Dockerfile</code>.</p>

<h3 id="from">FROM</h3>

<p><a href="../../../../engine/reference/builder/#from">Dockerfile reference for the FROM instruction</a></p>

<p>Whenever possible, use current Official Repositories as the basis for your
image. We recommend the <a href="https://registry.hub.docker.com/_/debian/">Debian image</a>
since it’s very tightly controlled and kept extremely minimal (currently under
100 mb), while still being a full distribution.</p>

<h3 id="run">RUN</h3>

<p><a href="../../../../engine/reference/builder/#run">Dockerfile reference for the RUN instruction</a></p>

<p>As always, to make your <code>Dockerfile</code> more readable, understandable, and
maintainable, split long or complex <code>RUN</code> statements on multiple lines separated
with backslashes.</p>

<h3 id="apt-get">apt-get</h3>

<p>Probably the most common use-case for <code>RUN</code> is an application of <code>apt-get</code>. The
<code>RUN apt-get</code> command, because it installs packages, has several gotchas to look
out for.</p>

<p>You should avoid <code>RUN apt-get upgrade</code> or <code>dist-upgrade</code>, as many of the
“essential” packages from the base images won&rsquo;t upgrade inside an unprivileged
container. If a package contained in the base image is out-of-date, you should
contact its maintainers.
If you know there’s a particular package, <code>foo</code>, that needs to be updated, use
<code>apt-get install -y foo</code> to update automatically.</p>

<p>Always combine  <code>RUN apt-get update</code> with <code>apt-get install</code> in the same <code>RUN</code>
statement, for example:</p>

<pre><code>    RUN apt-get update &amp;&amp; apt-get install -y \
        package-bar \
        package-baz \
        package-foo
</code></pre>

<p>Using <code>apt-get update</code> alone in a <code>RUN</code> statement causes caching issues and
subsequent <code>apt-get install</code> instructions fail.
For example, say you have a Dockerfile:</p>

<pre><code>    FROM ubuntu:14.04
    RUN apt-get update
    RUN apt-get install -y curl
</code></pre>

<p>After building the image, all layers are in the Docker cache. Suppose you later
modify <code>apt-get install</code> by adding extra package:</p>

<pre><code>    FROM ubuntu:14.04
    RUN apt-get update
    RUN apt-get install -y curl nginx
</code></pre>

<p>Docker sees the initial and modified instructions as identical and reuses the
cache from previous steps. As a result the <code>apt-get update</code> is <em>NOT</em> executed
because the build uses the cached version. Because the <code>apt-get update</code> is not
run, your build can potentially get an outdated version of the <code>curl</code> and <code>nginx</code>
packages.</p>

<p>Using  <code>RUN apt-get update &amp;&amp; apt-get install -y</code> ensures your Dockerfile
installs the latest package versions with no further coding or manual
intervention. This technique is known as &ldquo;cache busting&rdquo;. You can also achieve
cache-busting by specifying a package version. This is known as version pinning,
for example:</p>

<pre><code>    RUN apt-get update &amp;&amp; apt-get install -y \
        package-bar \
        package-baz \
        package-foo=1.3.*
</code></pre>

<p>Version pinning forces the build to retrieve a particular version regardless of
what’s in the cache. This technique can also reduce failures due to unanticipated changes
in required packages.</p>

<p>Below is a well-formed <code>RUN</code> instruction that demonstrates all the <code>apt-get</code>
recommendations.</p>

<pre><code>RUN apt-get update &amp;&amp; apt-get install -y \
    aufs-tools \
    automake \
    build-essential \
    curl \
    dpkg-sig \
    libcap-dev \
    libsqlite3-dev \
    mercurial \
    reprepro \
    ruby1.9.1 \
    ruby1.9.1-dev \
    s3cmd=1.1.* \
 &amp;&amp; rm -rf /var/lib/apt/lists/*
</code></pre>

<p>The <code>s3cmd</code> instructions specifies a version <code>1.1.0*</code>. If the image previously
used an older version, specifying the new one causes a cache bust of <code>apt-get
update</code> and ensure the installation of the new version. Listing packages on
each line can also prevent mistakes in package duplication.</p>

<p>In addition, cleaning up the apt cache and removing <code>/var/lib/apt/lists</code> helps
keep the image size down. Since the <code>RUN</code> statement starts with
<code>apt-get update</code>, the package cache will always be refreshed prior to
<code>apt-get install</code>.</p>

<blockquote>
<p><strong>Note</strong>: The official Debian and Ubuntu images <a href="https://github.com/docker/docker/blob/03e2923e42446dbb830c654d0eec323a0b4ef02a/contrib/mkimage/debootstrap#L82-L105">automatically run <code>apt-get clean</code></a>,
so explicit invocation is not required.</p>
</blockquote>

<h3 id="cmd">CMD</h3>

<p><a href="../../../../engine/reference/builder/#cmd">Dockerfile reference for the CMD instruction</a></p>

<p>The <code>CMD</code> instruction should be used to run the software contained by your
image, along with any arguments. <code>CMD</code> should almost always be used in the
form of <code>CMD [“executable”, “param1”, “param2”…]</code>. Thus, if the image is for a
service (Apache, Rails, etc.), you would run something like
<code>CMD [&quot;apache2&quot;,&quot;-DFOREGROUND&quot;]</code>. Indeed, this form of the instruction is
recommended for any service-based image.</p>

<p>In most other cases, <code>CMD</code> should be given an interactive shell (bash, python,
perl, etc), for example, <code>CMD [&quot;perl&quot;, &quot;-de0&quot;]</code>, <code>CMD [&quot;python&quot;]</code>, or
<code>CMD [“php”, “-a”]</code>. Using this form means that when you execute something like
<code>docker run -it python</code>, you’ll get dropped into a usable shell, ready to go.
<code>CMD</code> should rarely be used in the manner of <code>CMD [“param”, “param”]</code> in
conjunction with <a href="../../../../engine/reference/builder/#entrypoint"><code>ENTRYPOINT</code></a>, unless
you and your expected users are already quite familiar with how <code>ENTRYPOINT</code>
works.</p>

<h3 id="expose">EXPOSE</h3>

<p><a href="../../../../engine/reference/builder/#expose">Dockerfile reference for the EXPOSE instruction</a></p>

<p>The <code>EXPOSE</code> instruction indicates the ports on which a container will listen
for connections. Consequently, you should use the common, traditional port for
your application. For example, an image containing the Apache web server would
use <code>EXPOSE 80</code>, while an image containing MongoDB would use <code>EXPOSE 27017</code> and
so on.</p>

<p>For external access, your users can execute <code>docker run</code> with a flag indicating
how to map the specified port to the port of their choice.
For container linking, Docker provides environment variables for the path from
the recipient container back to the source (ie, <code>MYSQL_PORT_3306_TCP</code>).</p>

<h3 id="env">ENV</h3>

<p><a href="../../../../engine/reference/builder/#env">Dockerfile reference for the ENV instruction</a></p>

<p>In order to make new software easier to run, you can use <code>ENV</code> to update the
<code>PATH</code> environment variable for the software your container installs. For
example, <code>ENV PATH /usr/local/nginx/bin:$PATH</code> will ensure that <code>CMD [“nginx”]</code>
just works.</p>

<p>The <code>ENV</code> instruction is also useful for providing required environment
variables specific to services you wish to containerize, such as Postgres’s
<code>PGDATA</code>.</p>

<p>Lastly, <code>ENV</code> can also be used to set commonly used version numbers so that
version bumps are easier to maintain, as seen in the following example:</p>

<pre><code>ENV PG_MAJOR 9.3
ENV PG_VERSION 9.3.4
RUN curl -SL http://example.com/postgres-$PG_VERSION.tar.xz | tar -xJC /usr/src/postgress &amp;&amp; …
ENV PATH /usr/local/postgres-$PG_MAJOR/bin:$PATH
</code></pre>

<p>Similar to having constant variables in a program (as opposed to hard-coding
values), this approach lets you change a single <code>ENV</code> instruction to
auto-magically bump the version of the software in your container.</p>

<h3 id="add-or-copy">ADD or COPY</h3>

<p><a href="../../../../engine/reference/builder/#add">Dockerfile reference for the ADD instruction</a><br/>
<a href="../../../../engine/reference/builder/#copy">Dockerfile reference for the COPY instruction</a></p>

<p>Although <code>ADD</code> and <code>COPY</code> are functionally similar, generally speaking, <code>COPY</code>
is preferred. That’s because it’s more transparent than <code>ADD</code>. <code>COPY</code> only
supports the basic copying of local files into the container, while <code>ADD</code> has
some features (like local-only tar extraction and remote URL support) that are
not immediately obvious. Consequently, the best use for <code>ADD</code> is local tar file
auto-extraction into the image, as in <code>ADD rootfs.tar.xz /</code>.</p>

<p>If you have multiple <code>Dockerfile</code> steps that use different files from your
context, <code>COPY</code> them individually, rather than all at once. This will ensure that
each step&rsquo;s build cache is only invalidated (forcing the step to be re-run) if the
specifically required files change.</p>

<p>For example:</p>

<pre><code>COPY requirements.txt /tmp/
RUN pip install --requirement /tmp/requirements.txt
COPY . /tmp/
</code></pre>

<p>Results in fewer cache invalidations for the <code>RUN</code> step, than if you put the
<code>COPY . /tmp/</code> before it.</p>

<p>Because image size matters, using <code>ADD</code> to fetch packages from remote URLs is
strongly discouraged; you should use <code>curl</code> or <code>wget</code> instead. That way you can
delete the files you no longer need after they&rsquo;ve been extracted and you won&rsquo;t
have to add another layer in your image. For example, you should avoid doing
things like:</p>

<pre><code>ADD http://example.com/big.tar.xz /usr/src/things/
RUN tar -xJf /usr/src/things/big.tar.xz -C /usr/src/things
RUN make -C /usr/src/things all
</code></pre>

<p>And instead, do something like:</p>

<pre><code>RUN mkdir -p /usr/src/things \
    &amp;&amp; curl -SL http://example.com/big.tar.xz \
    | tar -xJC /usr/src/things \
    &amp;&amp; make -C /usr/src/things all
</code></pre>

<p>For other items (files, directories) that do not require <code>ADD</code>’s tar
auto-extraction capability, you should always use <code>COPY</code>.</p>

<h3 id="entrypoint">ENTRYPOINT</h3>

<p><a href="../../../../engine/reference/builder/#entrypoint">Dockerfile reference for the ENTRYPOINT instruction</a></p>

<p>The best use for <code>ENTRYPOINT</code> is to set the image&rsquo;s main command, allowing that
image to be run as though it was that command (and then use <code>CMD</code> as the
default flags).</p>

<p>Let&rsquo;s start with an example of an image for the command line tool <code>s3cmd</code>:</p>

<pre><code>ENTRYPOINT [&quot;s3cmd&quot;]
CMD [&quot;--help&quot;]
</code></pre>

<p>Now the image can be run like this to show the command&rsquo;s help:</p>

<pre><code>$ docker run s3cmd
</code></pre>

<p>Or using the right parameters to execute a command:</p>

<pre><code>$ docker run s3cmd ls s3://mybucket
</code></pre>

<p>This is useful because the image name can double as a reference to the binary as
shown in the command above.</p>

<p>The <code>ENTRYPOINT</code> instruction can also be used in combination with a helper
script, allowing it to function in a similar way to the command above, even
when starting the tool may require more than one step.</p>

<p>For example, the <a href="https://registry.hub.docker.com/_/postgres/">Postgres Official Image</a>
uses the following script as its <code>ENTRYPOINT</code>:</p>

<pre><code class="language-bash">#!/bin/bash
set -e

if [ &quot;$1&quot; = 'postgres' ]; then
    chown -R postgres &quot;$PGDATA&quot;

    if [ -z &quot;$(ls -A &quot;$PGDATA&quot;)&quot; ]; then
        gosu postgres initdb
    fi

    exec gosu postgres &quot;$@&quot;
fi

exec &quot;$@&quot;
</code></pre>

<blockquote>
<p><strong>Note</strong>:
This script uses <a href="http://wiki.bash-hackers.org/commands/builtin/exec">the <code>exec</code> Bash command</a>
so that the final running application becomes the container&rsquo;s PID 1. This allows
the application to receive any Unix signals sent to the container.
See the <a href="../../../../engine/reference/builder/#entrypoint"><code>ENTRYPOINT</code></a>
help for more details.</p>
</blockquote>

<p>The helper script is copied into the container and run via <code>ENTRYPOINT</code> on
container start:</p>

<pre><code>COPY ./docker-entrypoint.sh /
ENTRYPOINT [&quot;/docker-entrypoint.sh&quot;]
</code></pre>

<p>This script allows the user to interact with Postgres in several ways.</p>

<p>It can simply start Postgres:</p>

<pre><code>$ docker run postgres
</code></pre>

<p>Or, it can be used to run Postgres and pass parameters to the server:</p>

<pre><code>$ docker run postgres postgres --help
</code></pre>

<p>Lastly, it could also be used to start a totally different tool, such as Bash:</p>

<pre><code>$ docker run --rm -it postgres bash
</code></pre>

<h3 id="volume">VOLUME</h3>

<p><a href="../../../../engine/reference/builder/#volume">Dockerfile reference for the VOLUME instruction</a></p>

<p>The <code>VOLUME</code> instruction should be used to expose any database storage area,
configuration storage, or files/folders created by your docker container. You
are strongly encouraged to use <code>VOLUME</code> for any mutable and/or user-serviceable
parts of your image.</p>

<h3 id="user">USER</h3>

<p><a href="../../../../engine/reference/builder/#user">Dockerfile reference for the USER instruction</a></p>

<p>If a service can run without privileges, use <code>USER</code> to change to a non-root
user. Start by creating the user and group in the <code>Dockerfile</code> with something
like <code>RUN groupadd -r postgres &amp;&amp; useradd -r -g postgres postgres</code>.</p>

<blockquote>
<p><strong>Note:</strong> Users and groups in an image get a non-deterministic
UID/GID in that the “next” UID/GID gets assigned regardless of image
rebuilds. So, if it’s critical, you should assign an explicit UID/GID.</p>
</blockquote>

<p>You should avoid installing or using <code>sudo</code> since it has unpredictable TTY and
signal-forwarding behavior that can cause more problems than it solves. If
you absolutely need functionality similar to <code>sudo</code> (e.g., initializing the
daemon as root but running it as non-root), you may be able to use
<a href="https://github.com/tianon/gosu">“gosu”</a>.</p>

<p>Lastly, to reduce layers and complexity, avoid switching <code>USER</code> back
and forth frequently.</p>

<h3 id="workdir">WORKDIR</h3>

<p><a href="../../../../engine/reference/builder/#workdir">Dockerfile reference for the WORKDIR instruction</a></p>

<p>For clarity and reliability, you should always use absolute paths for your
<code>WORKDIR</code>. Also, you should use <code>WORKDIR</code> instead of  proliferating
instructions like <code>RUN cd … &amp;&amp; do-something</code>, which are hard to read,
troubleshoot, and maintain.</p>

<h3 id="onbuild">ONBUILD</h3>

<p><a href="../../../../engine/reference/builder/#onbuild">Dockerfile reference for the ONBUILD instruction</a></p>

<p>An <code>ONBUILD</code> command executes after the current <code>Dockerfile</code> build completes.
<code>ONBUILD</code> executes in any child image derived <code>FROM</code> the current image.  Think
of the <code>ONBUILD</code> command as an instruction the parent <code>Dockerfile</code> gives
to the child <code>Dockerfile</code>.</p>

<p>A Docker build executes <code>ONBUILD</code> commands before any command in a child
<code>Dockerfile</code>.</p>

<p><code>ONBUILD</code> is useful for images that are going to be built <code>FROM</code> a given
image. For example, you would use <code>ONBUILD</code> for a language stack image that
builds arbitrary user software written in that language within the
<code>Dockerfile</code>, as you can see in <a href="https://github.com/docker-library/ruby/blob/master/2.1/onbuild/Dockerfile">Ruby’s <code>ONBUILD</code> variants</a>.</p>

<p>Images built from <code>ONBUILD</code> should get a separate tag, for example:
<code>ruby:1.9-onbuild</code> or <code>ruby:2.0-onbuild</code>.</p>

<p>Be careful when putting <code>ADD</code> or <code>COPY</code> in <code>ONBUILD</code>. The “onbuild” image will
fail catastrophically if the new build&rsquo;s context is missing the resource being
added. Adding a separate tag, as recommended above, will help mitigate this by
allowing the <code>Dockerfile</code> author to make a choice.</p>

<h2 id="examples-for-official-repositories">Examples for Official Repositories</h2>

<p>These Official Repositories have exemplary <code>Dockerfile</code>s:</p>

<ul>
<li><a href="https://registry.hub.docker.com/_/golang/">Go</a></li>
<li><a href="https://registry.hub.docker.com/_/perl/">Perl</a></li>
<li><a href="https://registry.hub.docker.com/_/hylang/">Hy</a></li>
<li><a href="https://registry.hub.docker.com/_/rails">Rails</a></li>
</ul>

<h2 id="additional-resources">Additional resources:</h2>

<ul>
<li><a href="../../../../engine/reference/builder/">Dockerfile Reference</a></li>
<li><a href="../../../../engine/userguide/eng-image/baseimages/">More about Base Images</a></li>
<li><a href="https://docs.docker.com/docker-hub/builds/">More about Automated Builds</a></li>
<li><a href="https://docs.docker.com/docker-hub/official_repos/">Guidelines for Creating Official
Repositories</a></li>
</ul>

        </article>
		  </section>
    </div>
    <div id="toc" class="large-3 columns toc ">
     On this page:
        <nav id="TableOfContents">
<ul>
<li><a href="#best-practices-for-writing-dockerfiles">Best practices for writing Dockerfiles</a>
<ul>
<li><a href="#general-guidelines-and-recommendations">General guidelines and recommendations</a>
<ul>
<li><a href="#containers-should-be-ephemeral">Containers should be ephemeral</a></li>
<li><a href="#use-a-dockerignore-file">Use a .dockerignore file</a></li>
<li><a href="#avoid-installing-unnecessary-packages">Avoid installing unnecessary packages</a></li>
<li><a href="#run-only-one-process-per-container">Run only one process per container</a></li>
<li><a href="#minimize-the-number-of-layers">Minimize the number of layers</a></li>
<li><a href="#sort-multi-line-arguments">Sort multi-line arguments</a></li>
<li><a href="#build-cache">Build cache</a></li>
</ul></li>
<li><a href="#the-dockerfile-instructions">The Dockerfile instructions</a>
<ul>
<li><a href="#from">FROM</a></li>
<li><a href="#run">RUN</a></li>
<li><a href="#apt-get">apt-get</a></li>
<li><a href="#cmd">CMD</a></li>
<li><a href="#expose">EXPOSE</a></li>
<li><a href="#env">ENV</a></li>
<li><a href="#add-or-copy">ADD or COPY</a></li>
<li><a href="#entrypoint">ENTRYPOINT</a></li>
<li><a href="#volume">VOLUME</a></li>
<li><a href="#user">USER</a></li>
<li><a href="#workdir">WORKDIR</a></li>
<li><a href="#onbuild">ONBUILD</a></li>
</ul></li>
<li><a href="#examples-for-official-repositories">Examples for Official Repositories</a></li>
<li><a href="#additional-resources">Additional resources:</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

<footer class="main-footer">
  <div class="row">
  </div>
  <div class="row">
  </div>
  <div id="buildinfo">
    Mar 28, 2016 at 6:26pm (PST)
{
    "docker/apidocs": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/dhe-deploy.git"
        ],
        "sha": "ca759a68a914496aa6093a7f43c6e0b82bada4a6"
    },
    "docker/cloud-api-docs": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/cloud-docs.git"
        ],
        "sha": "821526de8de7f0772bdbb0427ba5e2927785c7bf"
    },
    "docker/cloud-api-docs-layout": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/cloud-docs.git"
        ],
        "sha": "821526de8de7f0772bdbb0427ba5e2927785c7bf"
    },
    "docker/compose": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/compose.git"
        ],
        "sha": "9da9555f10abe628e7742476af3f10bd89f68b75"
    },
    "docker/docker": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/docker.git"
        ],
        "sha": "0e63b073ac8f33335a4d4df3f2aa22120e0b7f43"
    },
    "docker/docker-cloud": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/cloud-docs.git"
        ],
        "sha": "821526de8de7f0772bdbb0427ba5e2927785c7bf"
    },
    "docker/docker-hub": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/hub2-demo.git"
        ],
        "sha": "900f35be36c51379eb73e8c9a212b69e2eb85981"
    },
    "docker/docker-trusted-registry": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/dhe-deploy.git"
        ],
        "sha": "ca759a68a914496aa6093a7f43c6e0b82bada4a6"
    },
    "docker/docs-base": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/docs-base.git"
        ],
        "sha": "d40a42f40eda68468a415c2fe95dc423765115dc"
    },
    "docker/kitematic": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/kitematic.git"
        ],
        "sha": "856a989d834f7fcbcb9bba687539fb159228f6b8"
    },
    "docker/machine": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/machine.git"
        ],
        "sha": "5239e6ed039e21993d164d950ef285eeff98e5b5"
    },
    "docker/notary": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/notary.git"
        ],
        "sha": "dfeb51f54f2b0cdf20cb55427b7cc8ea2d1cdd0a"
    },
    "docker/opensource": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/opensource.git"
        ],
        "sha": "9dd45b421c833e5458869bcec6afa8f635e8cff4"
    },
    "docker/registry": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/distribution.git"
        ],
        "sha": "a5bd3e61441873ba6cb40480bda58176733fedb9"
    },
    "docker/swarm": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/swarm.git"
        ],
        "sha": "b43a2c21c4017726cd9cb17ef9b16f2eef6d1159"
    },
    "docker/toolbox": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/toolbox.git"
        ],
        "sha": "5d6d325ec4a62a630fee041929ec255318987a4d"
    },
    "docker/tutorials": {
        "ref": "master",
        "repos": [
            "git@github.com:docker/tutorials.git"
        ],
        "sha": "ada930b1235439613914e6e97d209ee4c01ccadd"
    },
    "docker/ucp": {
        "ref": "docs",
        "repos": [
            "git@github.com:docker/orca.git"
        ],
        "sha": "d17b84d60d9da5fee38cc5d99a61be4f08e353d1"
    },
    "docs.docker.com": {
        "ref": "refs/heads/v1.10-030816.553pm",
        "repos": [
            "git@github.com:moxiegirl/docs.docker.com.git",
            "git@github.com:docker/docs.docker.com.git"
        ],
        "sha": "070129d2687b4d593c86eab64e8fc061b3c74249"
    }
}   </div>
</footer>
<link rel="stylesheet" href="../../../../highlight/styles/github.css">
<script src="../../../../highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="../../../../dist/assets/js/all.js"></script>
<script>
  $( 'nav li:has(ul)' ).doubleTapToGo();
</script>
<script>

;(function ( $, window, document, undefined ) {

    var pluginName = 'accordion',
        defaults = {
            transitionSpeed: 300,
            transitionEasing: 'ease',
            controlElement: '[data-control]',
            contentElement: '[data-content]',
            groupElement: '[data-accordion-group]',
            singleOpen: true
        };

    function Accordion(element, options) {
        this.element = element;
        this.options = $.extend({}, defaults, options);
        this._defaults = defaults;
        this._name = pluginName;
        this.init();
    }

    Accordion.prototype.init = function () {
        var self = this,
            opts = self.options;

        var $accordion = $(self.element),
            $controls = $accordion.find('> ' + opts.controlElement),
            $content =  $accordion.find('> ' + opts.contentElement);

        var accordionParentsQty = $accordion.parents('[data-accordion]').length,
            accordionHasParent = accordionParentsQty > 0;

        var closedCSS = { 'max-height': 0, 'overflow': 'hidden' };

        var CSStransitions = supportsTransitions();

        function debounce(func, threshold, execAsap) {
            var timeout;

            return function debounced() {
                var obj = this,
                    args = arguments;

                function delayed() {
                    if (!execAsap) func.apply(obj, args);
                    timeout = null;
                };

                if (timeout) clearTimeout(timeout);
                else if (execAsap) func.apply(obj, args);

                timeout = setTimeout(delayed, threshold || 100);
            };
        }

        function supportsTransitions() {
            var b = document.body || document.documentElement,
                s = b.style,
                p = 'transition';

            if (typeof s[p] == 'string') {
                return true;
            }

            var v = ['Moz', 'webkit', 'Webkit', 'Khtml', 'O', 'ms'];

            p = 'Transition';

            for (var i=0; i<v.length; i++) {
                if (typeof s[v[i] + p] == 'string') {
                    return true;
                }
            }

            return false;
        }

        function requestAnimFrame(cb) {
            if(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame) {
                return  requestAnimationFrame(cb) ||
                        webkitRequestAnimationFrame(cb) ||
                        mozRequestAnimationFrame(cb);
            } else {
                return setTimeout(cb, 1000 / 60);
            }
        }

        function toggleTransition($el, remove) {
            if(!remove) {
                $content.css({
                    '-webkit-transition': 'max-height ' + opts.transitionSpeed + 'ms ' + opts.transitionEasing,
                    'transition': 'max-height ' + opts.transitionSpeed + 'ms ' + opts.transitionEasing
                });
            } else {
                $content.css({
                    '-webkit-transition': '',
                    'transition': ''
                });
            }
        }

        function calculateHeight($el) {
            var height = 0;

            $el.children().each(function() {
                height = height + $(this).outerHeight(true);
            });

            $el.data('oHeight', height);
        }

        function updateParentHeight($parentAccordion, $currentAccordion, qty, operation) {
            var $content = $parentAccordion.filter('.open').find('> [data-content]'),
                $childs = $content.find('[data-accordion].open > [data-content]'),
                $matched;

            if(!opts.singleOpen) {
                $childs = $childs.not($currentAccordion.siblings('[data-accordion].open').find('> [data-content]'));
            }

            $matched = $content.add($childs);

            if($parentAccordion.hasClass('open')) {
                $matched.each(function() {
                    var currentHeight = $(this).data('oHeight');

                    switch (operation) {
                        case '+':
                            $(this).data('oHeight', currentHeight + qty);
                            break;
                        case '-':
                            $(this).data('oHeight', currentHeight - qty);
                            break;
                        default:
                            throw 'updateParentHeight method needs an operation';
                    }

                    $(this).css('max-height', $(this).data('oHeight'));
                });
            }
        }

        function refreshHeight($accordion) {
            if($accordion.hasClass('open')) {
                var $content = $accordion.find('> [data-content]'),
                    $childs = $content.find('[data-accordion].open > [data-content]'),
                    $matched = $content.add($childs);

                calculateHeight($matched);

                $matched.css('max-height', $matched.data('oHeight'));
            }
        }

        function closeAccordion($accordion, $content) {
            $accordion.trigger('accordion.close');
            
            if(CSStransitions) {
                if(accordionHasParent) {
                    var $parentAccordions = $accordion.parents('[data-accordion]');

                    updateParentHeight($parentAccordions, $accordion, $content.data('oHeight'), '-');
                }

                $content.css(closedCSS);

                $accordion.removeClass('open');
            } else {
                $content.css('max-height', $content.data('oHeight'));

                $content.animate(closedCSS, opts.transitionSpeed);

                $accordion.removeClass('open');
            }
        }

        function openAccordion($accordion, $content) {
            $accordion.trigger('accordion.open');
            if(CSStransitions) {
                toggleTransition($content);

                if(accordionHasParent) {
                    var $parentAccordions = $accordion.parents('[data-accordion]');

                    updateParentHeight($parentAccordions, $accordion, $content.data('oHeight'), '+');
                }

                requestAnimFrame(function() {
                    $content.css('max-height', $content.data('oHeight'));
                });

                $accordion.addClass('open');
            } else {
                $content.animate({
                    'max-height': $content.data('oHeight')
                }, opts.transitionSpeed, function() {
                    $content.css({'max-height': 'none'});
                });

                $accordion.addClass('open');
            }
        }

        function closeSiblingAccordions($accordion) {
            var $accordionGroup = $accordion.closest(opts.groupElement);

            var $siblings = $accordion.siblings('[data-accordion]').filter('.open'),
                $siblingsChildren = $siblings.find('[data-accordion]').filter('.open');

            var $otherAccordions = $siblings.add($siblingsChildren);

            $otherAccordions.each(function() {
                var $accordion = $(this),
                    $content = $accordion.find(opts.contentElement);

                closeAccordion($accordion, $content);
            });

            $otherAccordions.removeClass('open');
        }

        function toggleAccordion() {
            var isAccordionGroup = (opts.singleOpen) ? $accordion.parents(opts.groupElement).length > 0 : false;

            calculateHeight($content);

            if(isAccordionGroup) {
                closeSiblingAccordions($accordion);
            }

            if($accordion.hasClass('open')) {
                closeAccordion($accordion, $content);
            } else {
                openAccordion($accordion, $content);
            }
        }

        function addEventListeners() {
            $controls.on('click', toggleAccordion);
            
            $controls.on('accordion.toggle', function() {
                if(opts.singleOpen && $controls.length > 1) {
                    return false;
                }
                
                toggleAccordion();
            });

            $(window).on('resize', debounce(function() {
                refreshHeight($accordion);
            }));
        }

        function setup() {
            $content.each(function() {
                var $curr = $(this);

                if($curr.css('max-height') != 0) {
                    if(!$curr.closest('[data-accordion]').hasClass('open')) {
                        $curr.css({ 'max-height': 0, 'overflow': 'hidden' });
                    } else {
                        toggleTransition($curr);
                        calculateHeight($curr);

                        $curr.css('max-height', $curr.data('oHeight'));
                    }
                }
            });


            if(!$accordion.attr('data-accordion')) {
                $accordion.attr('data-accordion', '');
                $accordion.find(opts.controlElement).attr('data-control', '');
                $accordion.find(opts.contentElement).attr('data-content', '');
            }
        }

        setup();
        addEventListeners();
    };

    $.fn[pluginName] = function ( options ) {
        return this.each(function () {
            if (!$.data(this, 'plugin_' + pluginName)) {
                $.data(this, 'plugin_' + pluginName,
                new Accordion( this, options ));
            }
        });
    }

})( jQuery, window, document );

$(document).ready(function() {
  $('#multiple [data-accordion]').accordion({
    singleOpen: false
  });
});

</script>


<script src="/dist/assets/js/archive.js"></script>
<script type="text/javascript">
 	  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
 	  analytics.load("IWj9D0UpZHZdZUZX9jl98PcpBFWBnBMy");
 	  analytics.page();
 	  }}();
 	</script>

